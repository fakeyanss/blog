<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yet Another Possibility</title>
  <icon>https://www.gravatar.com/avatar/02af3036e86cee458f48e977dc781ee4</icon>
  <subtitle>æœ‰çº¦å¦‚é“</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://foreti.me/blog/"/>
  <updated>2023-02-12T08:49:53.654Z</updated>
  <id>https://foreti.me/blog/</id>
  
  <author>
    <name>fakeyanss</name>
    <email>yanshisangc@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>docsify æŠ˜è…¾è®°</title>
    <link href="https://foreti.me/blog/2021/05/09/docsify-build/"/>
    <id>https://foreti.me/blog/2021/05/09/docsify-build/</id>
    <published>2021-05-09T07:42:18.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>docsifyï¼Œä¸“ä¸ºå–œæ¬¢æŠ˜è…¾çš„ä½ ã€‚</p><a id="more"></a><h2 id="ä½¿ç”¨ä½“éªŒ"><a href="#ä½¿ç”¨ä½“éªŒ" class="headerlink" title="ä½¿ç”¨ä½“éªŒ"></a>ä½¿ç”¨ä½“éªŒ</h2><p>äº”ä¸€å›å®¶åªå¸¦äº†å…¬å¸ç¬”è®°æœ¬ï¼Œæ²¡ä»€ä¹ˆå¨±ä¹è½¯ä»¶ï¼Œæ‰€ä»¥é—²æ—¶åˆ·äº†ä¸‹ Githubï¼Œå‘ç°ä¸€ä¸ª <a href="https://github.com/Bhupesh-V/til" target="_blank" rel="noopener">TIL(things I learn)</a> é¡¹ç›®æŒºå¥½çš„ï¼Œäºæ˜¯ clone ä¸‹æ¥åšäº†ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®ï¼Œè¿™æ˜¯<a href="https://foreti.me/til/#/">æˆ‘çš„ TIL</a> è®°å½•ã€‚</p><p>TIL æœ¬æ„æ˜¯è®°å½•è‡ªå·±å­¦åˆ°çš„çŸ¥è¯†ç‚¹ã€‚å®é™…å·¥ä½œä¸­ä¼šç»å¸¸é‡åˆ°é—®é¢˜å¹¶è§£å†³é—®é¢˜ï¼Œé•¿æœŸä»¥æ¥å¹¶æ²¡æœ‰åˆ»æ„è®°å½•ï¼Œæœ‰äº›é—®é¢˜å•å‡­è®°å¿†ä¼šåœ¨ä¸€æ®µæ—¶é—´åå¿˜è®°ã€‚</p><p>åŸé¡¹ç›®ä¸­æ˜¯ä¾èµ– Gitbook åšçš„æ–‡æœ¬æ¸²æŸ“ï¼ŒæŒ‰ç…§æˆ‘å‡ å¹´å‰çš„ä½¿ç”¨ç»å†æ¥çœ‹ï¼ŒGitbookä¸ç®—å¥½ç”¨ï¼Œå¹¶ä¸”åœ¨å›½å†…è®¿é—®é€Ÿåº¦å ªå¿§ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œé€‰æ‹©äº† <a href="https://docsify.js.org/#/" target="_blank" rel="noopener">docsify</a>ã€‚</p><p>docsify æ˜¯ä¸€ä¸ªç±»ä¼¼ Gitbook å°† Markdown æ–‡ä»¶é€‰æŸ“æˆ HTML é¡µé¢çš„å·¥å…·ã€‚å½“ç„¶ä¹Ÿæœ‰ä¸€å®šå·®åˆ«ï¼ŒGitbook æ˜¯æå‰ç¼–è¯‘æˆ HTML é™æ€é¡µé¢ï¼Œè€Œ docsify æ˜¯è¯·æ±‚æ—¶æ¸²æŸ“ã€‚åœ¨ä½¿ç”¨ä¸Šæ¥çœ‹ï¼Œdocsify çš„é€Ÿåº¦æ›´å¿«ï¼Œä¹Ÿæ›´ç®€å•ä¸€äº›ï¼Œå¯è‡ªå®šä¹‰çš„é…ç½®éå¸¸å¤šï¼Œé€‚ç”¨äºå–œæ¬¢è‡ªå·±åŠ¨æ‰‹çš„å¼€å‘è€…ã€‚<br>docsify åŠŸèƒ½éå¸¸ä¸°å¯Œï¼Œä¸è¿‡åŸºæœ¬ç•Œé¢æ ·å¼æ¯”è¾ƒç®€å•ã€‚</p><p>å€¼å¾—åæ§½çš„æ˜¯å³ä¸Šè§’repoè§’æ ‡å¤ªå¤§äº†ï¼Œå’Œnavbarèœå•å¹¶åœ¨ä¸€èµ·å¤ªä¸‘é™‹äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/fakeyanss/imgplace@master/2021/2021-05-09_image-20210509161029217-05ff56.png" alt="image-20210509161029217"></p><p>å…¶ä»–çš„ä¸€äº›æ’ä»¶ï¼Œæ¯”å¦‚ ã€Œedit on githubã€ ä¸ ã€Œå­—æ•°æ’ä»¶ã€ ä¼šå°†æ­£æ–‡å†…å®¹å¾€ä¸‹æŒ¤ï¼Œä¹Ÿå¾ˆåˆ«æ‰­ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/fakeyanss/imgplace@master/2021/2021-05-09_image-20210509161238605-8f3c7c.png" alt="image-20210509161238605"></p><p>å®˜æ–¹æ–‡æ¡£é‡Œæ²¡æœ‰æµ…è‰²æ¨¡å¼ä¸æ·±è‰²æ¨¡å¼çš„çµæ´»é€‚é…ï¼Œåªå•ä¸€æ”¯æŒäº†æµ…è‰²æˆ–æ·±è‰²ä¸»é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½é€‰æ‹©ä¸€ç§ã€‚</p><p>å¦‚æœæƒ³åŒæ—¶æ”¯æŒæµ…è‰²å’Œæ·±è‰²ï¼Œç›®å‰æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š</p><ol><li>æœ‰ä¸€ä¸ªç¬¬ä¸‰æ–¹ä¸»é¢˜æ’ä»¶ï¼Œ<a href="https://docsify-darklight-theme.boopathikumar.me/#/" target="_blank" rel="noopener">docsify darklight theme</a>ï¼Œå®‰è£…å³ç”¨ï¼Œæä¾›ä¸€ä¸ªæŒ‰é’®æ‰‹åŠ¨åˆ‡æ¢ï¼Œä¸è¿‡é—®é¢˜æ˜¯ä»ç„¶æ˜¯æŒ‰é’®å°†æ­£æ–‡å†…å®¹å¾€ä¸‹æŒ¤å‹ã€‚æˆ‘æ·»åŠ äº†ä¸€æ®µJSæ–¹æ³•ï¼Œå¼ºåˆ¶å°†æŒ‰é’®ç§»åˆ°å·¦ä¾§sidebarã€‚</li><li>è‡ªå®šä¹‰cssï¼Œæ”¯æŒè·Ÿéšç³»ç»Ÿæ·±è‰²æ¨¡å¼ï¼Œè‡ªåŠ¨åˆ‡æ¢ã€‚å®ç°æ–¹å¼ç±»ä¼¼æˆ‘çš„blogï¼Œç›®å‰è¿˜æ²¡æœ‰æ—¶é—´å¼€å‘ã€‚</li></ol><h2 id="å¼€å§‹æ„å»º"><a href="#å¼€å§‹æ„å»º" class="headerlink" title="å¼€å§‹æ„å»º"></a>å¼€å§‹æ„å»º</h2><p>é¦–å…ˆéœ€è¦æœ¬åœ°å…·å¤‡ node å’Œ npm ç¯å¢ƒï¼Œé€‰æ‹©æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬å³å¯ã€‚</p><p>å®‰è£… docsify-cliï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g docsify-cli</span><br></pre></td></tr></table></figure><p>åˆ›å»º Git ä»“åº“ï¼Œå¹¶ä¸”åˆå§‹åŒ– docsifyï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir docsify-demo &amp;&amp; <span class="built_in">cd</span> docsify-demo</span><br><span class="line">docsify init docs</span><br></pre></td></tr></table></figure><p>è¿™ä¹‹åä¼šè‡ªåŠ¨åˆ›å»ºå‡º docs ç›®å½•ï¼Œå…¶ä¸­ä¼šæœ‰ä¸€ä¸ª <code>index.html</code> æ–‡ä»¶ã€‚</p><p>å¯ä»¥æœ¬åœ°é¢„è§ˆäº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docsify serve docs</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå¯ä»¥ç¼–è¾‘ <code>index.html</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">window.$docsify = &#123;</span><br><span class="line">name: 'Things I Learn',</span><br><span class="line">loadSidebar: true,</span><br><span class="line">loadNavbar: true,</span><br><span class="line">search: 'auto',</span><br><span class="line">// ä¸‹é¢æŒ‰ç…§æ–‡æ¡£æ·»åŠ å„ç§æ’ä»¶å³å¯</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨ docs ç›®å½•ä¸‹åˆ›å»ºè¿™äº›æ–‡ä»¶ï¼š</p><ul><li>ä¸€ä¸ªç©ºçš„ <code>.nojekyll</code> æ–‡ä»¶ï¼Œç”¨äºé˜»æ­¢ Github Page å¿½ç•¥ä¸‹åˆ’çº¿å¼€å¤´çš„æ–‡ä»¶ï¼›</li><li><code>_sidebar.md</code> æ–‡ä»¶ï¼Œè‡ªå®šä¹‰å·¦ä¾§è¾¹æ ç›®å½•ï¼›</li><li><code>_navbar.md</code> æ–‡ä»¶ï¼Œè‡ªå®šä¹‰å³ä¸Šè§’èœå•æ ã€‚</li></ul><p>å¯ä»¥å®‰è£… <a href="https://www.npmjs.com/package/docsify-tools" target="_blank" rel="noopener">docsify-tool</a> ä¾èµ–ï¼Œæˆ‘åªç”¨å®ƒæ¥è‡ªåŠ¨ç”Ÿæˆ <code>_sidebar.md</code> å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g docsify-tools</span><br><span class="line">docsify-auto-sidebar -d docs</span><br></pre></td></tr></table></figure><p><code>docsify-auto-sidebar</code> ä¼šå°†æŒ‡å®š docs ç›®å½•ä¸‹æ‰€æœ‰ Markdown æ–‡ä»¶è¯†åˆ«ä¸ºç›®å½•å†…å®¹ï¼Œæ‰€ä»¥ä¼šå°† <code>_navbar.md</code> ä¹Ÿå°†åˆ°ç›®å½•é‡Œï¼Œæˆ‘å†™äº†ä¸€ä¸ª Git pre-commit hook æ¥é˜»æ­¢è¿™ä¸ªåŠ¨ä½œã€‚</p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œ<code>vim .git/hooks/pre-commit</code>ï¼Œå¡«å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docsify-auto-sidebar -d docs</span><br><span class="line"><span class="comment"># æ›¿æ¢ï¼ŒäºŒé€‰ä¸€</span></span><br><span class="line">sed -i <span class="string">""</span> <span class="string">"/_navbar/d"</span> docs/_sidebar.md <span class="comment"># mac</span></span><br><span class="line">sed -i <span class="string">"/_navbar/d"</span> docs/_sidebar.md <span class="comment"># linux</span></span><br><span class="line">git add .</span><br></pre></td></tr></table></figure><h2 id="è¯„è®ºç³»ç»Ÿ"><a href="#è¯„è®ºç³»ç»Ÿ" class="headerlink" title="è¯„è®ºç³»ç»Ÿ"></a>è¯„è®ºç³»ç»Ÿ</h2><p>docsify æ”¯æŒ Disqus å’Œ <a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">Gitalk</a> ä¸¤ç§è¯„è®ºç³»ç»Ÿã€‚Disqus åœ¨å›½å†…ä¸å¤ªå¥½ç”¨ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©è¯•è¯• Gitalkã€‚</p><p>æŒ‰ç…§ docsify çš„æ–‡æ¡£ï¼Œå¾ˆç®€å•çš„ä½¿ç”¨ä¸Šäº† Gitalk è¯„è®ºï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¸­å‘ç°æ»¡æ»¡çš„éƒ½æ˜¯å‘ã€‚</p><p>æˆ‘è¿™é‡Œä¸»è¦é—®é¢˜æ˜¯æŸäº›æ–‡ç« åŠ è½½è¯„è®ºæ—¶æŠ¥é”™ <code>Error: Validation Failed</code>ã€‚</p><p>Gitalk ä¾æ‰˜äº Github issue å­˜åœ¨ï¼Œå¹¶ä¸”ä½¿ç”¨ issue label å’Œæ–‡ç« ä¸€ä¸€å…³è”ï¼Œissue label æœ‰ä¸ªé™åˆ¶æ˜¯å­—ç¬¦ä¸²é•¿åº¦éœ€ä¸è¶…è¿‡ 50ã€‚</p><p>ç„¶è€Œ docsify é»˜è®¤å’Œ Gitalk çš„é›†æˆï¼Œåˆ›å»º issue æ—¶ä½¿ç”¨çš„ label æ˜¯å½“å‰é¡µé¢çš„ <code>location.href</code>ï¼Œä¹Ÿå³æ˜¯ URL å…¨æ–‡ï¼Œè¿™ä¹Ÿå¤ªå®¹æ˜“è¶…è¿‡ 50 äº†å§ğŸ¥²ã€‚</p><p>åœ¨ Gitalk æ–‡æ¡£ä¸­ï¼Œä¹Ÿæœ‰è¯´æ˜ id å±æ€§ï¼Œé»˜è®¤ä½¿ç”¨ <code>location.href</code>ï¼š</p><blockquote><p><strong>id</strong> <code>String</code></p><p>Default: <code>location.href</code>.</p><p>é¡µé¢çš„å”¯ä¸€æ ‡è¯†ã€‚é•¿åº¦å¿…é¡»å°äº50ã€‚</p></blockquote><p>åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯æ‰‹åŠ¨è®¾ç½® id å±æ€§ï¼Œå¯¹ href åšä¸€æ¬¡ md5ï¼Œå›ºå®šåˆ° 32 ä½ã€‚çœ‹èµ·æ¥å¾ˆä¸é”™ï¼Œå¼•ç”¨äº†ä¸€ä¸ª md5 åº“ä¹‹åï¼Œå¾ˆç®€å•æå®šäº†ã€‚ç„¶è€Œå®é™…åº”ç”¨å‘ç° docsify åˆ‡æ¢é¡µé¢æ—¶ï¼Œè·¯ç”±ç»å¸¸æ²¡æœ‰è‡ªåŠ¨åˆ·æ–°ï¼Œå¯¼è‡´å„ç§å¥‡å¥‡æ€ªæ€ªçš„gitalkåˆå§‹åŒ–é—®é¢˜ï¼Œç„¶ååˆ›å»ºå‡ºçš„ issue çƒ‚ä¸ƒå…«ç³Ÿï¼Œè€Œä¸”ç»å¸¸åœ¨ A é¡µé¢å†™çš„è¯„è®ºåœ¨ B é¡µé¢å¯ä»¥åŠ è½½å‡ºæ¥ã€‚æˆ‘çŒœæµ‹è¿˜æ˜¯è·¯ç”±å›è°ƒçš„é—®é¢˜ï¼Œä½†æˆ‘çœ‹ä¸æ‡‚æºç ï¼Œæ²¡æ³•è§£å†³ã€‚</p><p>ç„¶ååœ¨ Github æ‰¾äº†ä¸€äº›ä½¿ç”¨ docsify å†™çš„é¡¹ç›®æ–‡æ¡£ï¼Œå‘ç°ä¸€ä¸ª <a href="https://github.com/l-hammer/You-need-to-know-css" target="_blank" rel="noopener">l-hammer/You-need-to-know-css</a>ï¼Œæ•ˆæœå¾ˆå¥½å¹¶ä¸”è¯„è®ºæ²¡æœ‰é—®é¢˜ã€‚</p><p>è¯»äº†è¿™ä¸ªé¡¹ç›®çš„å®ç°ï¼Œå‘ç°æ²¡æœ‰ä¾èµ– docsify å¯¹ Gitalk çš„é›†æˆï¼Œç›´æ¥å¼•å…¥çš„ Gitalk ä¾èµ–ï¼Œå¹¶ä¸”åœ¨è·¯ç”±å›è°ƒä¸­åˆå§‹åŒ– gitalk å®ä¾‹ã€‚</p><p>å¤§æ¦‚å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">gitalkConfig = &#123;</span><br><span class="line">    clientID: <span class="string">"xxx"</span>, <span class="comment">// your github oauth app client id</span></span><br><span class="line">    clientSecret: <span class="string">"xxx"</span>, <span class="comment">//your github oauth app client screct key</span></span><br><span class="line">    repo: <span class="string">"til"</span>, <span class="comment">//your github repo name</span></span><br><span class="line">    owner: <span class="string">"fakeYanss"</span>, <span class="comment">//your github user name</span></span><br><span class="line">    admin: [<span class="string">"fakeYanss"</span>], <span class="comment">//your gitalk administrators</span></span><br><span class="line">    perPage: <span class="number">20</span>,</span><br><span class="line">    language: <span class="string">"en"</span>,</span><br><span class="line">    labels: [<span class="string">"Gitalk"</span>],</span><br><span class="line">    distractionFreeMode: <span class="literal">false</span></span><br><span class="line">&#125;;</span><br><span class="line">plugins: [</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">hook, vm</span>) </span>&#123;</span><br><span class="line">        hook.doneEach(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> label, domObj, main, divEle, gitalk;</span><br><span class="line">            label = vm.route.path.split(<span class="string">"/"</span>).pop();</span><br><span class="line">            domObj = Docsify.dom;</span><br><span class="line">            main = domObj.getNode(<span class="string">"#main"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * render gittalk</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">if</span> (vm.route.path.includes(<span class="string">"zh-cn"</span>)) &#123;</span><br><span class="line">                gitalkConfig.language = <span class="string">"zh-CN"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">Array</span>.apply(</span><br><span class="line">                <span class="literal">null</span>,</span><br><span class="line">                <span class="built_in">document</span>.querySelectorAll(<span class="string">"div.gitalk-container"</span>)</span><br><span class="line">            ).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">ele</span>) </span>&#123;</span><br><span class="line">                ele.remove();</span><br><span class="line">            &#125;);</span><br><span class="line">            divEle = domObj.create(<span class="string">"div"</span>);</span><br><span class="line">            divEle.id = <span class="string">"gitalk-container-"</span> + label;</span><br><span class="line">            divEle.className = <span class="string">"gitalk-container"</span>;</span><br><span class="line">            divEle.style = <span class="string">"width: "</span> + main.clientWidth + <span class="string">"px; margin: 0 auto 20px;"</span>;</span><br><span class="line">            domObj.appendTo(domObj.find(<span class="string">".content"</span>), divEle);</span><br><span class="line">            gitalk = <span class="keyword">new</span> Gitalk(</span><br><span class="line">                <span class="built_in">Object</span>.assign(gitalkConfig, &#123;</span><br><span class="line">                    id: !label ? <span class="string">"home"</span> : label</span><br><span class="line">                &#125;)</span><br><span class="line">            );</span><br><span class="line">            gitalk.render(<span class="string">"gitalk-container-"</span> + label);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>æœ€åæ•ˆæœæ˜¯è¿™æ ·ï¼Œlabel ä½¿ç”¨çš„æ˜¯ location.hash çš„å°¾éƒ¨æŒ‰ <code>/</code> åˆ†å‰²åçš„æœ€åä¸€æ®µå†…å®¹ï¼Œå…¶å®å°±æ˜¯æ¯ä¸ª Markdown æ–‡ä»¶åï¼Œåˆ°è¿™ä¸€æ­¥å·²ç»å¾ˆå®¹æ˜“æ§åˆ¶ä¸è¶…è¿‡ 50 ä½é•¿åº¦äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/fakeyanss/imgplace@master/2021/2021-05-09_image-20210509172714680-b9cba4.png" alt="image-20210509172714680"></p><h2 id="ä¸»é¢˜å®šåˆ¶"><a href="#ä¸»é¢˜å®šåˆ¶" class="headerlink" title="ä¸»é¢˜å®šåˆ¶"></a>ä¸»é¢˜å®šåˆ¶</h2><h3 id="darklight"><a href="#darklight" class="headerlink" title="darklight"></a>darklight</h3><p>ä½¿ç”¨docsify darklight themeï¼ŒæŒ‰ç…§æ–‡æ¡£è¯´æ˜ï¼Œéå¸¸ç®€å•ã€‚</p><p>åœ¨ <code>index.html</code> å¤´éƒ¨æ·»åŠ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">rel</span>=<span class="string">"stylesheet"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">href</span>=<span class="string">"//cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/style.min.css"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">title</span>=<span class="string">"docsify-darklight-theme"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"text/css"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨åº•éƒ¨æ·»åŠ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">src</span>=<span class="string">"//cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/index.min.js"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœå¯¹é»˜è®¤çš„æŒ‰é’®å±•ç¤ºä½ç½®æ»¡æ„ï¼Œé‚£å¯ä»¥åˆ°æ­¤ç»“æŸäº†ï¼Œä¸‹é¢æ˜¯æˆ‘çš„æ”¹åŠ¨ï¼Œå°†æŒ‰é’®ç§»åŠ¨åˆ°å·¦ä¾§è¾¹æ ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/fakeyanss/imgplace@master/2021/2021-05-09_image-20210509163856711-ff5c45.png" alt="image-20210509163856711"></p><p>ä¸‹è½½ <a href="https://cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/index.min.js" target="_blank" rel="noopener">darklight çš„ Javascript æºç </a>ï¼Œæ”¾åˆ°é¡¹ç›®é‡Œï¼Œå¯ä»¥å‘½åä¸º <code>theme.js</code>ï¼Œç§»é™¤è¿œç¨‹å¼•ç”¨ï¼Œæ·»åŠ æœ¬åœ°å¼•ç”¨ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"theme.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ <code>theme.js</code> çš„ä¸€å¤„æ–¹æ³•ï¼Œè¿™é‡Œçš„ <code>afterEach</code> æ˜¯ docsify è·¯ç”±å˜åŒ–å®Œæˆåçš„å›è°ƒå‡½æ•°ï¼Œä¸»é¢˜åŸç”Ÿçš„å†™æ³•å°±æ˜¯åœ¨ <code>e</code> å‰é¢ç®€å•æ·»åŠ ä¸€ä¸ª div å—ï¼Œè¿™ä¹Ÿæ˜¯æŒ‰é’®å°†æ­£æ–‡å†…å®¹å‘ä¸‹æŒ¤å‹çš„åŸå› ã€‚æ·»åŠ  else åˆ†æ”¯æ˜¯å› ä¸ºè¿™å—ä»£ç åœ¨æ¯æ¬¡è·¯ç”±å˜åŒ–åéƒ½ä¼šæ‰§è¡Œï¼Œæˆ‘ä»¬éœ€è¦è®©å®ƒåªåœ¨ç¬¬ä¸€æ¬¡åŠ è½½é¡µé¢æ—¶åˆ›å»ºæŒ‰é’® divã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">e.afterEach((<span class="function"><span class="keyword">function</span> (<span class="params">e, o</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">'docsify-darklight-theme'</span>) == <span class="literal">null</span>) &#123;</span><br><span class="line">        o(e = <span class="string">'&lt;div id="docsify-darklight-theme"&gt;&lt;p&gt;.&lt;/p&gt;&lt;/div&gt;'</span> + e)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        o(e)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure><p>æºç æ˜¯ç¼–è¯‘è¿‡çš„ï¼Œä¸ºäº†é¿å…æ‰¾ä¸åˆ°åœ¨å“ªï¼Œè¿™é‡Œæ˜¯æˆ‘æ”¹è¿‡çš„ <a href="https://raw.githubusercontent.com/fakeYanss/til/master/docs/dist/theme.js" target="_blank" rel="noopener">theme.js</a> ä¸‹è½½åœ°å€ã€‚</p><p>ç”±äºæ²¡æœ‰æ·±å…¥é˜…è¯» docsify çš„ä¸»è¦æºç ï¼Œä¸ç¡®å®šè¿™å¤„æ–¹æ³•æ€ä¹ˆç›´æ¥æ”¹åŠ¨ï¼Œæ‰€ä»¥åœ¨å¤–é¢å¦å¤–å†™äº†ä¸€å¤„è„šæœ¬ä½œä¸ºåç½®å¤„ç†ï¼Œå°†æŒ‰é’® append åˆ°ä¾§è¾¹æ çš„ DOM ä¸‹ã€‚åœ¨ <code>index.html</code> ä¸­ï¼Œæ·»åŠ ä¸€æ®µ scriptï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.getElementsByClassName(<span class="string">'sidebar'</span>)[<span class="number">0</span>].setAttribute(<span class="string">'id'</span>, <span class="string">'sidebar-full'</span>)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.getElementById(<span class="string">'sidebar-full'</span>).appendChild(<span class="built_in">document</span>.getElementById(<span class="string">'docsify-darklight-theme'</span>))</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> button = <span class="built_in">document</span>.getElementById(<span class="string">'docsify-darklight-theme'</span>)</span></span><br><span class="line"><span class="javascript">      button.style.position = <span class="string">'fixed'</span></span></span><br><span class="line"><span class="javascript">      button.style.left = <span class="string">'10px'</span></span></span><br><span class="line"><span class="javascript">      button.style.bottom = <span class="string">'58px'</span></span></span><br><span class="line"><span class="javascript">      button.style.top = <span class="string">'auto'</span></span></span><br><span class="line"><span class="javascript">      button.style.width = <span class="string">'18px'</span></span></span><br><span class="line"><span class="javascript">      button.style.height = <span class="string">'18px'</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> refreshId = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span> (<span class="literal">null</span> != <span class="built_in">document</span>.getElementById(<span class="string">'docsify-darklight-theme'</span>)) &#123;</span></span><br><span class="line">        move();</span><br><span class="line">        clearInterval(refreshId);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, 100);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè§‰å¾—ä¾§è¾¹æ é—®é¢˜å¤ªæŒ¤ï¼Œå¯ä»¥å†è°ƒæ•´ä¸‹æ ·å¼ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.sidebar-nav</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">25px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sidebar-nav</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5em</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">76px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="prefers-color-scheme"><a href="#prefers-color-scheme" class="headerlink" title="prefers-color-scheme"></a>prefers-color-scheme</h3><p><code>prefers-color-scheme</code> æ˜¯ CSS media feature å¯¹é»‘æš—æ¨¡å¼çš„æ”¯æŒï¼Œ<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme" target="_blank" rel="noopener">è¯¦ç»†æ–‡æ¡£åœ¨æ­¤</a>ã€‚</p><p>æŒ‰ç…§<a href="https://foreti.me/blog/">æˆ‘çš„åšå®¢</a>çš„åšæ³•ï¼Œåªéœ€è®¾è®¡ä¸‹é»‘æš—æ¨¡å¼çš„èƒŒæ™¯é¢œè‰²ã€å­—ä½“é¢œè‰²ã€ä»£ç å—é¢œè‰²ã€è¶…é“¾æ¥é¢œè‰²ï¼ŒåŸºæœ¬æ•ˆæœå°±æœ‰äº†ã€‚</p><p>ç»†èŠ‚å¾…å¼€å‘â€¦</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;docsifyï¼Œä¸“ä¸ºå–œæ¬¢æŠ˜è…¾çš„ä½ ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="docsify" scheme="https://foreti.me/blog/tags/docsify/"/>
    
  </entry>
  
  <entry>
    <title>åŒ—äº¬äºŒå¹´å›é¡¾</title>
    <link href="https://foreti.me/blog/2021/03/29/2-years-in-beijing/"/>
    <id>https://foreti.me/blog/2021/03/29/2-years-in-beijing/</id>
    <published>2021-03-29T14:22:05.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>è‡ªæ¯•ä¸šä¹‹åï¼Œæ¥åŒ—äº¬å·²ç»ä¸¤å¹´æœ‰ä½™äº†ã€‚</p><a id="more"></a><hr><p>æ—¶é—´æ€»æ˜¯è¿‡å¾—å¤ªå¿«ã€‚</p><p>æˆ‘å¯¹åŒ—äº¬çš„å½’å±æ„Ÿå¾ˆä½ï¼Œå¤§æ¦‚æ˜¯è¿™é‡Œçš„æˆ¿ä»·å¤ªè´µäº†ã€‚</p><p>è¿™ä¸ªåŸå¸‚å¥½åƒå¾ˆå¤§ï¼Œæˆ‘çš„ç”Ÿæ´»åœˆå¥½åƒå¤ªå°ï¼Œè¿™ç§åå·®ï¼Œè®©æˆ‘è§‰å¾—è¿™é‡Œåªæ˜¯å·¥ä½œçš„åœ°æ–¹ã€‚</p><p>ä½†æ˜¯ä»Šå¹´æ˜¥å­£ä»¥æ¥ï¼Œå·¥ä½œä¸Šå¹¶ä¸é¡ºåˆ©ï¼Œå¾ˆéš¾è¿‡å‘¢ã€‚</p><p>ä»Šå¤©åœ¨æœ‹å‹åœˆé‡Œçœ‹åˆ°ç™½æœˆå…‰ä¹Ÿæœ‰äº†å½’å®¿ï¼Œä¸¤äººä¹Ÿæ˜¯éå¸¸çš„æ­é…ã€‚</p><p>å¿ƒé‡Œæ›´éš¾è¿‡äº†ï¼Œå°½ç®¡æˆ‘éƒ½ç»“å©šäº†ã€‚</p><p>åªæœ‰æ—©æ—©ä¸‹ç­å›å®¶æŠ±ç€å°æ¸…æ¬¢ï¼Œæ‰è§‰å¾—æœ‰ä¸€ç‚¹ç‚¹å¿«æ´»ã€‚</p><hr><p>åœ¨åŒ—äº¬è¿™ä¸¤å¹´ï¼Œæˆ‘è·å¾—äº†å¾ˆå¤šï¼Œä¹Ÿå¤±å»äº†ä¸å°‘ã€‚</p><p>æ¯”èµ·ä¸¤å¹´å‰ï¼Œå·¥ä½œä¸Šæ•´ä½“å‘ˆä¸Šå‡è¶‹åŠ¿ï¼Œä¸“ä¸šæŠ€èƒ½ä¸æ–­æå‡ï¼›ç”Ÿæ´»ä¸Šç»„å»ºäº†å°å®¶åº­ï¼Œå­©å­å‡ºç”Ÿï¼Œè¯´å¾—ä¸Šæ˜¯åœ†åœ†æ»¡æ»¡ã€‚</p><p>å¤±å»çš„ä¹Ÿä¸å°‘ï¼Œå½“æœåæ™šåæˆä¸ºä¹ æƒ¯ï¼Œç†¬å¤œå˜æˆç”Ÿæ´»çš„è°ƒå‰‚å“ï¼Œé•œå­é‡Œçš„è‡ªå·±ä½“æ€æ—¥ä¸°ã€‚çœŸæ€€æ‹å¤§å­¦æ—¶æœŸè¶´åœ¨æ•™å®¤è¯¾æ¡Œä¸Šæ±²è¥¿ç“œå†°ï¼Œçœ‹è¿œæ–¹çš„æ™šéœæ™•æ»¡å¤©è¾¹çš„é—²é€‚ã€‚</p><hr><p>åœ¨ç™¾åº¦å·¥ä½œï¼Œä»å…¥èŒèµ·æ¥æ‰‹äº†ä¸€ä¸ªå‡ å¹´å†å²çš„æ—§ç³»ç»Ÿã€‚è¿™ä¸ªç³»ç»Ÿåœ¨19å¹´çš„å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ï¼Œå¯ä»¥è¯´æ˜¯ä¸‰å¤©ä¸¤å¤´å‡ºç°çº¿ä¸Šæ•…éšœã€‚è¿™æ®µç»å†ä¹‹åï¼Œæ€§æ ¼ä¸Šä¹Ÿéš¾å…å˜å¾—æ²‰ç¨³èµ·æ¥ï¼Œæˆ‘æƒ³ï¼Œå¤„å˜ä¸æƒŠåº”è¯¥æ˜¯æ¯ä¸ªå·¥ç¨‹å¸ˆçš„å¿…å¤‡ç´ è´¨ã€‚</p><p>å·¥ä½œä¸“ä¸šæŠ€èƒ½ä¸è¯´æœ‰åè¶³çš„é•¿è¿›ï¼Œæ¯”åˆšæ¯•ä¸šé‚£ä¼šå„¿ ï¼Œè¿˜æ˜¯å¼ºè¿‡ä¸€å¤§æˆªã€‚åšè½¯ä»¶å·¥ç¨‹ï¼Œæ²¡æœ‰æœ€å‰å®³çš„æŠ€æœ¯ï¼Œåªæœ‰æœ€åˆé€‚çš„è§£å†³æ–¹æ³•ã€‚å¯¹å·¥ä½œä¸Šçš„æ–¹æ–¹é¢é¢ï¼Œæœ‰ä¸€å¥—è‡ªå·±çš„æ–¹æ³•è®ºï¼ŒèŒåœºä¸Šä¿¡å¥‰åˆ©å·±ä¸»ä¹‰æœªå¿…æ˜¯åäº‹ã€‚è¿™é‡Œçš„åˆ©å·±ä¸è¦ç‹­ä¹‰çš„ç†è§£ï¼Œåšä»»ä½•äº‹æƒ…è‹¥å¯¹è‡ªå·±æ²¡æœ‰çŸ­æœŸçš„å›æŠ¥ï¼Œé‚£å¿…ç„¶è¦æœ‰é•¿çº¿çš„æ”¶ç›Šï¼Œå¦è€…ä¼šæµªè´¹è‡ªå·±æœ‰é™çš„ç²¾åŠ›ã€‚å·¥ä½œä¸­çš„æ—¶é—´æ˜¯å¾ˆå®¹æ˜“è¢«æµªè´¹çš„ï¼Œä¸€å®šä¸è¦æµ®äºè¡¨é¢çš„å¼€ä¼šã€å¯¹é½ã€æ‹‰é€šï¼Œè¦å…³æ³¨äº§å“çš„é•¿æœŸå‘å±•è·¯çº¿å’Œä¸­çŸ­æœŸè®¡åˆ’ï¼Œå†å›é¡¾è‡ªå·±æ‰€åšçš„äº‹æƒ…ï¼ˆä¸é™äºåšå¼€å‘ï¼‰ï¼Œæ˜¯å¦æ˜¯è®¡åˆ’ä¸­çš„ä¸€ç¯ã€‚</p><p>åœ¨ç™¾åº¦ï¼Œç®€å•å¯ä¾èµ–ï¼Œé è°±ï¼Œæ˜¯ä¸¤ä¸ªç»å¸¸èƒ½å¬åˆ°çš„è¯ã€‚å¦‚æœè¢«äººè¿™æ ·è¯„ä»·ï¼Œé‚£åŸºæœ¬ç®—æ˜¯æœ€å¥½çš„ç§°èµã€‚å·¥ä½œä¸­æˆ‘ä¹Ÿæ›¾æœ‰å¹¸è¢«åŒäº‹è¿™ä¹ˆç§°èµè¿‡ï¼Œå…¶å®å¤§å¤šæ˜¯äº›å¾®ä¸è¶³é“çš„äº‹æƒ…ã€‚æœ‰æ—¶å€™ä¸ºå¯¹æ–¹å¤šè€ƒè™‘ç‚¹ï¼Œä¸å«Œéº»çƒ¦å¤šç‚¹æ²Ÿé€šï¼Œä¹Ÿä¸ä¼šèŠ±è´¹è‡ªå·±å¤šå¤§ç²¾åŠ›ã€‚</p><p>å¦å¤–è¯´ä¸€å¥ï¼Œæˆ‘å¾ˆæ„Ÿè°¢2019å¹´8æœˆï¼Œå½“æˆ‘è‰ç‡çš„æå‡ºç¦»èŒç”³è¯·æ—¶ï¼Œæˆ‘çš„çˆ±äººã€æˆ‘çš„äº²æˆšæ‹¦ä½äº†æˆ‘ã€‚äº‹åè¿˜æœ‰æˆ‘çš„ç»ç†ï¼Œå’Œæˆ‘one on oneä¸€ç•ªé•¿è°ˆï¼ŒèŠåŠå·¥ä½œä¸Šçš„å‹åŠ›ç–è§£ï¼Œæ—¶é—´çš„è§„åˆ’ï¼Œäº‹æƒ…çš„ä¼˜å…ˆçº§å®‰æ’ï¼Œç»™æˆ‘åé¢çš„æ•´ä¸ªå·¥ä½œå¸¦æ¥å¾ˆå¤§çš„æ­£é¢å½±å“ã€‚å¦‚æœæ²¡æƒ³æ¸…æ¥šè‡ªå·±çœŸæ­£æƒ³è¦çš„ï¼Œåªå…³æ³¨çŸ­æœŸæ”¶ç›Šå°±é€‰æ‹©ç¦»èŒï¼Œæˆ‘å¯èƒ½ä¼šé”™è¿‡æ›´å¤šæœºä¼šï¼Œæµªè´¹å¾ˆå¤šæ—¶é—´ã€‚</p><p>å…¥èŒä¸¤å¹´å¤šï¼Œæ”¶è·äº†3ä¸ªç”Ÿæ—¥ç¤¼ç‰©ã€‚</p><p><img src="https://foreti.me/imgplace/2021/2021-04-05_2021-04-01_image-20210401221418612-fb543a-22d06a.png" alt="åº¦å‚é€äº†æˆ‘ä¸‰ä¸ªç”Ÿæ—¥ç¤¼ç‰©"></p><p>21å¹´ï¼Œè¦å¼€å§‹ä»æ‰§è¡Œè€…è½¬å‘é¢†å¤´ç¾Šã€‚</p><hr><p>20å¹´ä¸­æ—¬ï¼Œæˆ‘å¾ˆæ˜¯çœ‹äº†ä¸€äº›åŠ¨æ¼«ã€‚åœ¨å‰é¢çš„å‡ ä¸ªpostä¸­ï¼Œä¹Ÿæœ‰æåŠè¿‡ã€‚ä»å›½æ¼«åˆ°æ—¥æ¼«ï¼Œä»æ–°ç•ªåˆ°10å¹´å‰çš„è€ç•ªï¼Œè®¸å¤šå¤§å­¦æ—¶æœŸæ²¡æœ‰æœºä¼šçœ‹çš„åŠ¨æ¼«ä¹Ÿé¡ºé“è¿‡äº†ä¸€éï¼Œéå¸¸çš„èˆ’çˆ½ã€‚</p><p>ä¹¦å€’æ˜¯ä¹°äº†å¥½äº›æœ¬ï¼Œä¸è¿‡å¤§å¤šéƒ½åªçœ‹äº†ä¸€éƒ¨åˆ†ï¼Œæ²¡æœ‰å®Œæ•´è¯»å®Œä¸€æœ¬ä¹¦ã€‚æˆ‘ä¼¼ä¹æ›´ä¹äºåšä¸€äº›çŸ­å¹³å¿«çš„é˜…è¯»ï¼Œæ›´ä¹ æƒ¯äºä»å¾®ä¿¡å…¬ä¼—å·ã€çŸ¥ä¹ç­‰å¹³å°åšå¹¿æ³›é˜…è¯»ï¼Œå¹¶ä¸”è¶…è¿‡1wå­—çš„æ–‡ç« å°±å¾ˆéš¾è€å¿ƒçœ‹å®Œã€‚æˆ‘è§‰å¾—è¿™ä¸æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œä»Šåçš„çŸ¥è¯†ç³»ç»Ÿåº”è¯¥ä»ä¹¦æœ¬ä¸Šæ„å»ºã€‚</p><hr><p>ç”Ÿæ´»ä¸Šä¹Ÿæ³¢æ¾œä¸æƒŠçš„å¾€å‰èµ°ï¼Œç»“å©šã€å…»å­©å­ï¼Œä¸€åˆ‡éƒ½æ¥çš„å¤ªå¿«ï¼Œåœ¨æˆ‘åšå¥½å‡†å¤‡ä¹‹å‰ã€‚</p><p>çäº‹å¦‚å››æœˆçš„é£çµ®ï¼Œç›´è®©äººçƒ¦é—·ï¼Œè¿˜å¥½çˆ±äººå’Œå®¶äººæ‰¿æ‹…äº†å®¶é‡Œçš„å¤§å°äº‹åŠ¡ï¼Œæˆ‘åªéœ€ä¸‹ç­åå€’å¤´ä¾¿ç¡ã€‚</p><p>æˆ‘çˆ±æˆ‘çš„å¦»å­ã€‚å¸Œæœ›æ¸…æ¬¢é¡ºåˆ©çš„é•¿å¤§å§ã€‚</p><p><img src="https://foreti.me/imgplace/2021/2021-04-05_image-20210405233432780-279541.png" alt="image-20210405233432780"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è‡ªæ¯•ä¸šä¹‹åï¼Œæ¥åŒ—äº¬å·²ç»ä¸¤å¹´æœ‰ä½™äº†ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ€»ç»“" scheme="https://foreti.me/blog/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>Javaå­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•</title>
    <link href="https://foreti.me/blog/2021/03/27/java-string-cancat/"/>
    <id>https://foreti.me/blog/2021/03/27/java-string-cancat/</id>
    <published>2021-03-26T17:06:24.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨Javaé‡Œæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œåˆ°åº•æ¨èç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿ</p><a id="more"></a><hr><p><img src="https://foreti.me/imgplace/2021/2021-03-27_20210327011145-3485cf.png" alt="Runtime comparison"></p><p><strong>å…ˆè¯´ç»“è®ºï¼Œ<code>+</code> &gt;= <code>StringBuilder</code> &gt; <code>String.format</code>ã€‚</strong></p><p>æ‹¼æ¥çš„å­—ç¬¦ä¸²è¾ƒå°‘æ—¶ï¼Œç›´æ¥ <code>+</code> æ‹¼æ¥å’Œä½¿ç”¨ <code>StringBuilder.append</code> ç„¶å <code>toString</code> æœ‰è¿‘ä¼¼çš„æ€§èƒ½ï¼Œè¿™æ˜¯ç”±äºjdk1.8ç¼–è¯‘æ—¶ï¼Œå·²ç»å°† <code>+</code>ä¼˜åŒ–ä¸ºä½¿ç”¨ <code>StringBuilder.append</code>ã€‚</p><p>ç”šè‡³å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ<code>+</code> æ‹¼æ¥çš„æ€§èƒ½æ›´å¥½ç‚¹ ï¼Œå› ä¸ºjdkç¼–è¯‘æˆå­—èŠ‚ç åï¼Œ<code>+</code> æ‹¼æ¥çš„å­—ç¬¦ä¸²å·²ç»ç¼–è¯‘æˆå®Œæˆï¼Œè€Œ <code>StringBuilder.append</code> éœ€è¦åœ¨è¿è¡Œæ—¶æ‰§è¡Œã€‚</p><p>è€Œå½“åœ¨å¾ªç¯ä¸­æ‹¼æ¥çš„å­—ç¬¦ä¸²ï¼Œ<code>StringBuilder.append</code> çš„æ€§èƒ½ä¼šæ¯” <code>+</code> å¥½å¾ˆå¤šï¼Œå› ä¸º <code>+</code> æ‹¼æ¥åœ¨æ¯æ¬¡æ‰§è¡Œéƒ½éœ€è¦åˆ›å»º <code>StringBuilder</code> å¯¹è±¡ã€‚</p><p>ä¸è¿‡è¿™ä¸¤è€…æ€§èƒ½åŒæ—¶æ¯”String.formatå¼ºå‡ºä¸€æˆªï¼Œè¿™ä¸»è¦æ˜¯ç”±äº<code>String.format</code>éœ€è¦ä½¿ç”¨æ­£åˆ™è§£æè¾“å…¥å­—ç¬¦ä¸²ï¼Œç„¶åå†å¡«å……å‚æ•°ã€‚</p><p>æ¥ä¸‹æ¥ç”¨ä¸€ä¸ªä¾‹å­éªŒè¯ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testConcat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String a = <span class="string">"q"</span> + <span class="string">"w"</span> + <span class="string">"e"</span> + <span class="string">"r"</span>;</span><br><span class="line">        String b = <span class="keyword">new</span> StringBuilder().append(<span class="string">"q"</span>).append(<span class="string">"w"</span>).append(<span class="string">"e"</span>).append(<span class="string">"r"</span>).toString();</span><br><span class="line"></span><br><span class="line">        String c = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            c = c + <span class="string">"q"</span> + <span class="string">"w"</span> + <span class="string">"e"</span> + <span class="string">"r"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            sb.append(<span class="string">"q"</span>).append(<span class="string">"w"</span>).append(<span class="string">"e"</span>).append(<span class="string">"r"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        String d = sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javac StringTest.java</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å­—èŠ‚ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">javap -c StringTest</span><br><span class="line"></span><br><span class="line">Compiled from <span class="string">"StringTest.java"</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">StringTest</span><span class="params">()</span></span>;</span><br><span class="line">    Code:</span><br><span class="line">       <span class="number">0</span>: aload_0</span><br><span class="line">       1: invokespecial #1                  // Method java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">       <span class="number">4</span>: <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testConcat</span><span class="params">()</span></span>;</span><br><span class="line">    Code:</span><br><span class="line">       0: ldc           #2                  // String qwer</span><br><span class="line">       <span class="number">2</span>: astore_1</span><br><span class="line">       3: new           #3                  // class java/lang/StringBuilder</span><br><span class="line">       <span class="number">6</span>: dup</span><br><span class="line">       7: invokespecial #4                  // Method java/lang/StringBuilder."&lt;init&gt;":()V</span><br><span class="line">      10: ldc           #5                  // String q</span><br><span class="line">      12: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">      15: ldc           #7                  // String w</span><br><span class="line">      17: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">      20: ldc           #8                  // String e</span><br><span class="line">      22: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">      25: ldc           #9                  // String r</span><br><span class="line">      27: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">      30: invokevirtual #10                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;</span><br><span class="line">      <span class="number">33</span>: astore_2</span><br><span class="line">      34: ldc           #11                 // String</span><br><span class="line">      <span class="number">36</span>: astore_3</span><br><span class="line">      <span class="number">37</span>: iconst_0</span><br><span class="line">      <span class="number">38</span>: istore        <span class="number">4</span></span><br><span class="line">      <span class="number">40</span>: iload         <span class="number">4</span></span><br><span class="line">      <span class="number">42</span>: bipush        <span class="number">100</span></span><br><span class="line">      <span class="number">44</span>: if_icmpge     <span class="number">73</span></span><br><span class="line">      47: new           #3                  // class java/lang/StringBuilder</span><br><span class="line">      <span class="number">50</span>: dup</span><br><span class="line">      51: invokespecial #4                  // Method java/lang/StringBuilder."&lt;init&gt;":()V</span><br><span class="line">      <span class="number">54</span>: aload_3</span><br><span class="line">      55: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">      58: ldc           #2                  // String qwer</span><br><span class="line">      60: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">      63: invokevirtual #10                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;</span><br><span class="line">      <span class="number">66</span>: astore_3</span><br><span class="line">      <span class="number">67</span>: iinc          <span class="number">4</span>, <span class="number">1</span></span><br><span class="line">      <span class="number">70</span>: goto          <span class="number">40</span></span><br><span class="line">      73: new           #3                  // class java/lang/StringBuilder</span><br><span class="line">      <span class="number">76</span>: dup</span><br><span class="line">      77: invokespecial #4                  // Method java/lang/StringBuilder."&lt;init&gt;":()V</span><br><span class="line">      <span class="number">80</span>: astore        <span class="number">4</span></span><br><span class="line">      <span class="number">82</span>: iconst_0</span><br><span class="line">      <span class="number">83</span>: istore        <span class="number">5</span></span><br><span class="line">      <span class="number">85</span>: iload         <span class="number">5</span></span><br><span class="line">      <span class="number">87</span>: bipush        <span class="number">100</span></span><br><span class="line">      <span class="number">89</span>: if_icmpge     <span class="number">121</span></span><br><span class="line">      <span class="number">92</span>: aload         <span class="number">4</span></span><br><span class="line">      94: ldc           #5                  // String q</span><br><span class="line">      96: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">      99: ldc           #7                  // String w</span><br><span class="line">     101: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">     104: ldc           #8                  // String e</span><br><span class="line">     106: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">     109: ldc           #9                  // String r</span><br><span class="line">     111: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">     <span class="number">114</span>: pop</span><br><span class="line">     <span class="number">115</span>: iinc          <span class="number">5</span>, <span class="number">1</span></span><br><span class="line">     <span class="number">118</span>: goto          <span class="number">85</span></span><br><span class="line">     <span class="number">121</span>: aload         <span class="number">4</span></span><br><span class="line">     123: invokevirtual #10                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;</span><br><span class="line">     <span class="number">126</span>: astore        <span class="number">5</span></span><br><span class="line">     <span class="number">128</span>: <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li><p>13è¡Œï¼Œç¼–è¯‘ä¸­<code>+</code> ç›´æ¥ç”Ÿæˆ <code>&quot;qwer&quot;</code>ï¼›</p></li><li><p>17è¡Œï¼Œ<code>StringBuilder</code> å…ˆåˆå§‹åŒ–ï¼Œå†ä¾æ¬¡ <code>append</code>ï¼›</p></li><li><p>32è¡Œåˆ°45è¡Œï¼Œå¼€å§‹æ‰§è¡Œ <code>+</code>æ“ä½œ çš„å¾ªç¯ä½“ï¼Œæ¯æ¬¡éƒ½éœ€è¦åˆå§‹åŒ– StringBuilder å¯¹è±¡ï¼›</p></li><li><p>85è¡Œåˆ°118è¡Œï¼Œå¼€å§‹æ‰§è¡Œ <code>StringBuilder.append</code> æ“ä½œçš„å¾ªç¯ä½“ï¼Œæ¯æ¬¡åªç”¨ <code>append</code>ã€‚</p></li></ul><p>ä»å­—èŠ‚ç æ¥çœ‹ï¼Œjdkç¼–è¯‘åçš„å†…å®¹å’Œé¢„æœŸç¬¦åˆã€‚</p><p>å¦å¤– <a href="https://www.baeldung.com/java-string-performance" target="_blank" rel="noopener">Baeldungè¿™ç¯‡æ–‡ç« </a> ä¸­æœ‰æ›´è¯¦ç»†çš„ Java String Performance ç ”ç©¶ï¼Œè‹¥æœ‰å…´è¶£å¯ä»¥è¯»ä¸‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨Javaé‡Œæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œåˆ°åº•æ¨èç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://foreti.me/blog/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Macä»é›¶æ­å»ºå¼€å‘ç¯å¢ƒ</title>
    <link href="https://foreti.me/blog/2021/03/15/setup-env-on-mac/"/>
    <id>https://foreti.me/blog/2021/03/15/setup-env-on-mac/</id>
    <published>2021-03-14T16:05:16.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰‹ä¸Šä¸€å°å‡ ä¹é—²ç½®çš„mbp mid 2015ï¼Œæœ€è¿‘å‡çº§äº†Big Surï¼Œæ„Ÿè§‰ç„•ç„¶ä¸€æ–°ï¼Œæƒ³ä½œä¸ºä¸»åŠ›æœºä½¿ç”¨äº†ï¼Œæ¯•ç«Ÿç¡¬ä»¶é…ç½®æ¯”å…¬å¸ç»™çš„ä½é…mbpè¿˜å¥½ä¸€æˆªã€‚æŒ‰ç…§ç°åœ¨ä¹ æƒ¯çš„å¼€å‘ç¯å¢ƒï¼Œé‡æ–°è£…äº†ä¸€éï¼ˆä¸‹æ¬¡è¯•è¯•ç”¨ dotfiles<a href="dotfilesï¼Œä¸€ç§é…ç½®æ–‡ä»¶ç®¡ç†æ–¹æ¡ˆï¼Œå‚è€ƒ[æˆ‘çš„dotfiles](https://github.com/fakeyanss/dotfiles)">^1</a>ç®¡ç†ï¼‰ã€‚</p><a id="more"></a><h2 id="å®‰è£…å­—ä½“"><a href="#å®‰è£…å­—ä½“" class="headerlink" title="å®‰è£…å­—ä½“"></a>å®‰è£…å­—ä½“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/powerline/fonts.git</span><br><span class="line">cd fonts</span><br><span class="line">./install.sh</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…homebrew"><a href="#å®‰è£…homebrew" class="headerlink" title="å®‰è£…homebrew"></a>å®‰è£…homebrew</h2><p>å›½å†…ç½‘ç»œç¯å¢ƒå¤ªå·®ï¼Œå®‰è£…é€Ÿåº¦è¿‡æ…¢ï¼ŒæŒ‚äº†ä»£ç†ä¾ç„¶åªæœ‰å‡ åKBçš„é€Ÿåº¦ï¼Œåªèƒ½é€‰æ‹©æ¢é•œåƒæºã€‚</p><p>é¦–å…ˆï¼Œéœ€è¦å·²ç»å®‰è£…äº† bashã€git å’Œ curlï¼Œä»¥åŠ Command Line Tools (CLT) for Xcodeï¼Œ <code>xcode-select --install</code> ã€‚</p><p>æ¥ç€ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‡ è¡Œå‘½ä»¤è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">BREW_TYPE=<span class="string">"homebrew"</span></span><br><span class="line"><span class="built_in">export</span> HOMEBREW_BREW_GIT_REMOTE=<span class="string">"https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git"</span></span><br><span class="line"><span class="built_in">export</span> HOMEBREW_CORE_GIT_REMOTE=<span class="string">"https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/<span class="variable">$&#123;BREW_TYPE&#125;</span>-core.git"</span></span><br><span class="line"><span class="built_in">export</span> HOMEBREW_BOTTLE_DOMAIN=<span class="string">"https://mirrors.tuna.tsinghua.edu.cn/<span class="variable">$&#123;BREW_TYPE&#125;</span>-bottles"</span></span><br></pre></td></tr></table></figure><p>æœ€åï¼Œåœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å®‰è£… Homebrew / Linuxbrewï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --depth=1 https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/install.git brew-install</span><br><span class="line">/bin/bash -c <span class="string">"<span class="variable">$(</span></span></span><br><span class="line"><span class="string"><span class="variable">    cat brew-install/install.sh |</span></span></span><br><span class="line"><span class="string"><span class="variable">    sed -E 's|^(\s*HOMEBREW_BREW_GIT_REMOTE=)</span>(.*)$|\1"</span><span class="variable">$&#123;HOMEBREW_BREW_GIT_REMOTE:-\2&#125;</span><span class="string">"|g' |</span></span><br><span class="line"><span class="string">    sed -E 's|^(\s*HOMEBREW_CORE_GIT_REMOTE=)(.*)$|\1"</span><span class="variable">$&#123;HOMEBREW_CORE_GIT_REMOTE:-\2&#125;</span><span class="string">"|g'</span></span><br><span class="line"><span class="string">)"</span></span><br><span class="line">rm -rf brew-install</span><br></pre></td></tr></table></figure><p>è¿™æ ·åœ¨é¦–æ¬¡å®‰è£…çš„æ—¶å€™ä¹Ÿå¯ä»¥ä½¿ç”¨é•œåƒã€‚</p><p>å®‰è£…å¥½homebrewä¹‹åï¼Œéœ€è¦è®¾ç½®å¸¸ç”¨tapsä»¥åŠæ¢æºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">BREW_TAPS=<span class="string">"<span class="variable">$(brew tap)</span>"</span></span><br><span class="line"><span class="keyword">for</span> tap <span class="keyword">in</span> core cask&#123;,-fonts,-drivers,-versions&#125;; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">echo</span> <span class="string">"<span class="variable">$BREW_TAPS</span>"</span> | grep -qE <span class="string">"^homebrew/<span class="variable">$&#123;tap&#125;</span>\$"</span>; <span class="keyword">then</span></span><br><span class="line">        <span class="comment"># å°†å·²æœ‰ tap çš„ä¸Šæ¸¸è®¾ç½®ä¸ºæœ¬é•œåƒå¹¶è®¾ç½® auto update</span></span><br><span class="line">        <span class="comment"># æ³¨ï¼šåŸ auto update åªé’ˆå¯¹æ‰˜ç®¡åœ¨ GitHub ä¸Šçš„ä¸Šæ¸¸æœ‰æ•ˆ</span></span><br><span class="line">        git -C <span class="string">"<span class="variable">$(brew --repo homebrew/$&#123;tap&#125;)</span>"</span> remote <span class="built_in">set</span>-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-<span class="variable">$&#123;tap&#125;</span>.git</span><br><span class="line">        git -C <span class="string">"<span class="variable">$(brew --repo homebrew/$&#123;tap&#125;)</span>"</span> config homebrew.forceautoupdate <span class="literal">true</span></span><br><span class="line">    <span class="keyword">else</span>   <span class="comment"># åœ¨ tap ç¼ºå¤±æ—¶è‡ªåŠ¨å®‰è£…ï¼ˆå¦‚ä¸éœ€è¦è¯·åˆ é™¤æ­¤è¡Œå’Œä¸‹é¢ä¸€è¡Œï¼‰</span></span><br><span class="line">        brew tap --force-auto-update homebrew/<span class="variable">$&#123;tap&#125;</span> https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-<span class="variable">$&#123;tap&#125;</span>.git</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>æ›´æ¢ä¸Šæ¸¸åéœ€é‡æ–°è®¾ç½® git ä»“åº“ HEADï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update-reset</span><br></pre></td></tr></table></figure><p>å¦‚æœ‰é—®é¢˜ï¼Œå¯ä»¥å¤åŸä»“åº“ä¸Šæ¸¸ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">BREW_TAPS=<span class="string">"<span class="variable">$(brew tap)</span>"</span></span><br><span class="line"><span class="keyword">for</span> tap <span class="keyword">in</span> core cask&#123;,-fonts,-drivers,-versions&#125;; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">echo</span> <span class="string">"<span class="variable">$BREW_TAPS</span>"</span> | grep -qE <span class="string">"^homebrew/<span class="variable">$&#123;tap&#125;</span>\$"</span>; <span class="keyword">then</span></span><br><span class="line">        git -C <span class="string">"<span class="variable">$(brew --repo homebrew/$&#123;tap&#125;)</span>"</span> remote <span class="built_in">set</span>-url origin https://github.com/Homebrew/homebrew-<span class="variable">$&#123;tap&#125;</span>.git</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°è®¾ç½® git ä»“åº“ HEAD</span></span><br><span class="line">brew update-reset</span><br></pre></td></tr></table></figure><p>äºŒè¿›åˆ¶é¢„ç¼–è¯‘åŒ…bottlesæ¢æºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸´æ—¶æ›¿æ¢</span></span><br><span class="line"><span class="built_in">export</span> HOMEBREW_BOTTLE_DOMAIN=<span class="string">"https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/bottles"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é•¿æœŸæ›¿æ¢</span></span><br><span class="line"><span class="comment"># bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export HOMEBREW_BOTTLE_DOMAIN="https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/bottles"'</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="comment"># zsh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export HOMEBREW_BOTTLE_DOMAIN="https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/bottles"'</span> &gt;&gt; ~/.zprofile</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…iTerm2"><a href="#å®‰è£…iTerm2" class="headerlink" title="å®‰è£…iTerm2"></a>å®‰è£…iTerm2</h2><p>ä½¿ç”¨homebrewå®‰è£…ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask iterm2</span><br></pre></td></tr></table></figure><p>å®‰è£…ä¸»é¢˜nordï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.sevencdn.com/arcticicestudio/nord-iterm2/develop/src/xml/Nord.itermcolors</span><br></pre></td></tr></table></figure><p><code>preferences â†’ profiles â†’ colors â†’ color preset â†’ import</code>ï¼Œé€‰æ‹©ä¸‹è½½çš„ä¸»é¢˜æ–‡ä»¶ã€‚</p><p><img src="https://foreti.me/imgplace/2021/2021-03-15_2021-03-14_image-20210314212900552-39213e-57127d.png" alt="image-20210314212900552"></p><p>è®¾ç½®å…‰æ ‡è·³è½¬ï¼Œ<code>preferences â†’ Keys â†’ Preset â†’ Natural Text Editing</code> ã€‚</p><p><img src="https://foreti.me/imgplace/2021/2021-03-15_2021-03-14_image-20210314232121400-6d9e01-4e6ffa.png" alt="image-20210314232121400"></p><h2 id="å®‰è£…oh-my-zsh"><a href="#å®‰è£…oh-my-zsh" class="headerlink" title="å®‰è£…oh-my-zsh"></a>å®‰è£…oh-my-zsh</h2><p>å®‰è£…oh-my-zshä¸å‘½ä»¤è¡¥å…¨ã€é«˜äº®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>"</span></span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ <code>vim.zshrc</code>ï¼Œæ‰¾åˆ° <code>plugins=(git)</code> æ”¹ä¸º <code>plugins=(git zsh-autosuggestions zsh-syntax-highlighting)</code></p><p>è®¾ç½®ä¸»é¢˜ï¼š</p><p>Clone this repo:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/denysdovhan/spaceship-prompt.git &quot;$ZSH_CUSTOM/themes/spaceship-prompt&quot; --depth=1</span><br></pre></td></tr></table></figure><p>Symlink <code>spaceship.zsh-theme</code> to your oh-my-zsh custom themes directory:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s &quot;$ZSH_CUSTOM/themes/spaceship-prompt/spaceship.zsh-theme&quot; &quot;$ZSH_CUSTOM/themes/spaceship.zsh-theme&quot;</span><br></pre></td></tr></table></figure><p>Set <code>ZSH_THEME=&quot;spaceship&quot;</code> in your <code>.zshrc</code>.</p><p>æœ€ç»ˆæ ·å¼ï¼š</p><p><img src="https://foreti.me/imgplace/2021/2021-03-17_image-20210317234829665-06705d.png" alt="image-20210317234829665"></p><h2 id="å®‰è£…tmux"><a href="#å®‰è£…tmux" class="headerlink" title="å®‰è£…tmux"></a>å®‰è£…tmux</h2><p>å®‰è£…tmuxï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tmux</span><br></pre></td></tr></table></figure><h3 id="oh-my-tmux"><a href="#oh-my-tmux" class="headerlink" title="oh-my-tmux"></a>oh-my-tmux</h3><p>é€‰æ‹©ç”¨oh-my-tmuxä¸€é”®é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">git clone https://github.com/gpakosz/.tmux.git</span><br><span class="line">ln -s -f .tmux/.tmux.conf</span><br><span class="line">cp .tmux/.tmux.conf.local .</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">brew install reattach-to-user-namespace</span><br></pre></td></tr></table></figure><p>åç»­æ‰€æœ‰tmuxé…ç½®åœ¨ <code>.tmux.conf.local</code> ä¸­ä¿®æ”¹å³å¯ã€‚</p><h3 id="ä¸»é¢˜nord-tmux"><a href="#ä¸»é¢˜nord-tmux" class="headerlink" title="ä¸»é¢˜nord-tmux"></a>ä¸»é¢˜nord-tmux</h3><p>nordæ˜¯ä¸€ä¸ªå¹²å‡€çš„ã€å†·è‰²è°ƒçš„é…è‰²ä¸»é¢˜ï¼Œæä¾›äº†ä¸€ç»„ä¸»é¢˜æ’ä»¶é›†åˆï¼ŒåŒ…å«è¯¸å¦‚ jetbrainsã€vscodeã€vimã€tmux çš„ä¸»é¢˜æ’ä»¶ï¼Œè¿™é‡Œæœ‰å…¨éƒ¨çš„<a href="https://github.com/arcticicestudio?tab=repositories&amp;q=nord-&amp;type=&amp;language=" target="_blank" rel="noopener">æ’ä»¶ä»“åº“</a>ã€‚</p><p>åœ¨ <code>.tmux.conf.local</code> ä¸­æœç´¢pluginä½ç½®ï¼Œåœ¨ä¸‹é¢å¢åŠ ä¸€è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g @plugin <span class="string">"arcticicestudio/nord-tmux"</span></span><br></pre></td></tr></table></figure><p>æœ€ç»ˆæ•ˆæœï¼š</p><p><img src="https://foreti.me/imgplace/2021/2021-03-17_image-20210317235420004-e88c55.png" alt="image-20210317235420004"></p><h2 id="å®‰è£…å¤šç‰ˆæœ¬jdk"><a href="#å®‰è£…å¤šç‰ˆæœ¬jdk" class="headerlink" title="å®‰è£…å¤šç‰ˆæœ¬jdk"></a>å®‰è£…å¤šç‰ˆæœ¬jdk</h2><p>activate the AdoptOpenJDKï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew tap AdoptOpenJDK/openjdk</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å›½å†…é•œåƒå®‰è£…jdk8ï¼Œç¼–è¾‘rbæ–‡ä»¶ï¼Œæ›¿æ¢ä¸‹è½½çš„urlï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/Homebrew/Library/Taps/adoptopenjdk/homebrew-openjdk/Casks/adoptopenjdk8.rb</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cask <span class="string">"adoptopenjdk8"</span> <span class="keyword">do</span></span><br><span class="line">  version <span class="string">"8,282:b08"</span></span><br><span class="line">  sha256 <span class="string">"f12d380ceae806d02c4cae23bdc601402c543692c763122286b99d8ef6059794"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># github.com/AdoptOpenJDK was verified as official when first introduced to the cask</span></span><br><span class="line">  <span class="comment">#url "https://github.com/AdoptOpenJDK/openjdk#&#123;version.before_comma&#125;-binaries/releases/download/jdk8u282-b08/OpenJDK8U-jdk_x64_mac_hotspot_8u282b08.pkg",</span></span><br><span class="line">  url <span class="string">"https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/8/jdk/x64/mac/OpenJDK8U-jdk_x64_mac_hotspot_8u282b08.pkg"</span>,</span><br><span class="line">      <span class="symbol">verified:</span> <span class="string">"https://github.com/AdoptOpenJDK"</span></span><br><span class="line">  appcast <span class="string">"https://github.com/adoptopenjdk/openjdk<span class="subst">#&#123;version.before_comma&#125;</span>-binaries/releases/latest"</span></span><br><span class="line">  name <span class="string">"AdoptOpenJDK 8"</span></span><br><span class="line">  desc <span class="string">"AdoptOpenJDK OpenJDK (Java) Development Kit"</span></span><br><span class="line">  homepage <span class="string">"https://adoptopenjdk.net/"</span></span><br><span class="line"></span><br><span class="line">  pkg <span class="string">"OpenJDK8U-jdk_x64_mac_hotspot_8u282b08.pkg"</span></span><br><span class="line"></span><br><span class="line">  postflight <span class="keyword">do</span></span><br><span class="line">    system_command <span class="string">"/usr/sbin/pkgutil"</span>, <span class="symbol">args:</span> [<span class="string">"--pkg-info"</span>, <span class="string">"net.adoptopenjdk.8.jdk"</span>], <span class="symbol">print_stdout:</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  uninstall <span class="symbol">pkgutil:</span> <span class="string">"net.adoptopenjdk.8.jdk"</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>åŒæ ·ï¼Œjdk11ã€jdk15å¯ä»¥æ›¿æ¢urlå®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/<span class="built_in">local</span>/Homebrew/Library/Taps/adoptopenjdk/homebrew-openjdk/Casks/adoptopenjdk11.rb</span><br><span class="line"></span><br><span class="line">url <span class="string">"https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/11/jdk/x64/mac/OpenJDK11U-jdk_x64_mac_hotspot_11.0.10_9.pkg"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vim /usr/<span class="built_in">local</span>/Homebrew/Library/Taps/adoptopenjdk/homebrew-openjdk/Casks/adoptopenjdk15.rb</span><br><span class="line"></span><br><span class="line">url <span class="string">"https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/15/jdk/x64/mac/OpenJDK15U-jdk_x64_mac_hotspot_15.0.2_7.pkg"</span></span><br></pre></td></tr></table></figure><p>æ›¿æ¢urlä¹‹åï¼Œæ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask adoptopenjdk8</span><br><span class="line">brew install --cask adoptopenjdk11</span><br><span class="line">brew install --cask adoptopenjdk15</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ jenv ç®¡ç†jdkå¤šç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install jenv</span><br></pre></td></tr></table></figure><p>åœ¨ <code>.zshrc</code> ä¸­æ·»åŠ jenvç¯å¢ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># java env</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$HOME</span>/.jenv/bin:<span class="variable">$PATH</span>"</span></span><br><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(jenv init -)</span>"</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å·²å®‰è£…çš„jdkç‰ˆæœ¬å’Œè·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/usr/libexec/java_home -V</span><br><span class="line"></span><br><span class="line">Matching Java Virtual Machines (3):</span><br><span class="line">    15.0.2 (x86_64) <span class="string">"AdoptOpenJDK"</span> - <span class="string">"AdoptOpenJDK 15"</span> /Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home</span><br><span class="line">    11.0.10 (x86_64) <span class="string">"AdoptOpenJDK"</span> - <span class="string">"AdoptOpenJDK 11"</span> /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home</span><br><span class="line">    1.8.0_282 (x86_64) <span class="string">"AdoptOpenJDK"</span> - <span class="string">"AdoptOpenJDK 8"</span> /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home</span><br></pre></td></tr></table></figure><p>æ·»åŠ åˆ° jenv ä¸­ç®¡ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home</span><br><span class="line">jenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home</span><br><span class="line">jenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home</span><br></pre></td></tr></table></figure><p>è®¾ç½®å…¨å±€é»˜è®¤ jdk ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenv global 1.8</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…maven"><a href="#å®‰è£…maven" class="headerlink" title="å®‰è£…maven"></a>å®‰è£…maven</h2><p>homebrewå®‰è£…ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install maven</span><br></pre></td></tr></table></figure></p><p>è®¾ç½®ç¯å¢ƒï¼ˆä¸€èˆ¬ä¸éœ€è¦ï¼‰ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢å®‰è£…è·¯å¾„</span></span><br><span class="line">mvn --version</span><br><span class="line"></span><br><span class="line">Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)</span><br><span class="line">Maven home: /usr/<span class="built_in">local</span>/Cellar/maven/3.6.3_1/libexec</span><br><span class="line">Java version: 15.0.2, vendor: N/A, runtime: /usr/<span class="built_in">local</span>/Cellar/openjdk/15.0.2/libexec/openjdk.jdk/Contents/Home</span><br><span class="line">Default locale: zh_CN_<span class="comment">#Hans, platform encoding: UTF-8</span></span><br><span class="line">OS name: <span class="string">"mac os x"</span>, version: <span class="string">"11.2.3"</span>, arch: <span class="string">"x86_64"</span>, family: <span class="string">"mac"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> M2_HOME=/usr/<span class="built_in">local</span>/Cellar/maven/3.6.3_1/libexec</span><br><span class="line"><span class="built_in">export</span> M2=<span class="variable">$M2_HOME</span>/bin</span><br></pre></td></tr></table></figure></p><h2 id="å®‰è£…node"><a href="#å®‰è£…node" class="headerlink" title="å®‰è£…node"></a>å®‰è£…node</h2><p>homebrewå®‰è£…nï¼ˆnodeç‰ˆæœ¬ç®¡ç†ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install n</span><br></pre></td></tr></table></figure><p>ä¸‹è½½æœ€æ–°ltsç‰ˆæœ¬nodeå’Œnpmï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n lts</span><br></pre></td></tr></table></figure><p>è®¾ç½®npmé•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># node, npm</span></span><br><span class="line"><span class="built_in">export</span> NODE_MIRROR=https://npm.taobao.org/dist/</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…python"><a href="#å®‰è£…python" class="headerlink" title="å®‰è£…python"></a>å®‰è£…python</h2><p>homebrewå®‰è£…anacondaï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask install anaconda</span><br></pre></td></tr></table></figure><p>åˆ›å»ºpythonç¯å¢ƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n py2 python=2.7</span><br><span class="line">conda create -n py3 python=3.8</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…vscode"><a href="#å®‰è£…vscode" class="headerlink" title="å®‰è£…vscode"></a>å®‰è£…vscode</h2><p>jetbrainså…¨å®¶æ¡¶å›ºç„¶çˆ½ï¼Œä½†æ˜¯æˆ‘çš„è´¦å·å·²ç»è¿‡æœŸï¼Œåˆä¸æƒ³äº¤é’±ï¼Œè€Œä¸”å…¬å¸é…çš„ç”µè„‘æ˜¯ä¹ä¸ç‰ˆmbpï¼Œ8gå†…å­˜å¤ªåƒç´§äº†ã€‚ä¸è¿‡å…¬å¸æä¾›çš„å¼€å‘æœºå€’æ˜¯æœ‰4 c 16gçš„é…ç½®ï¼Œè€Œä¸”æä¾›äº†å®šåˆ¶åŒ–çš„vscode serverè½¯ä»¶åŒ…ï¼Œåœ¨å¼€å‘æœºdockerå¯åŠ¨vscode serverï¼Œç„¶åæœ¬åœ°mbpè¿è¡Œä¸€ä¸ªé…å¥—çš„å®šåˆ¶åŒ–vscode clientï¼Œç­‰äºç›´æ¥åœ¨å¼€å‘æœºè¿œç¨‹codingã€‚è¿™æœ¬æ¥æ˜¯å¤§å¤šæ•°ä½¿ç”¨c++å¼€å‘çš„åŒäº‹çš„æ–¹æ¡ˆï¼Œä¸è¿‡å‚è€ƒvscodeæä¾›çš„<a href="https://code.visualstudio.com/docs/languages/java" target="_blank" rel="noopener">support for java</a>æ–¹æ¡ˆï¼ŒåŠ å…¥å¿…è¦çš„javaã€mavenã€springç­‰æ’ä»¶åï¼Œå®Œå…¨å¯ä»¥ä½œä¸ºjetbrain idea intellijçš„æ›¿ä»£æ–¹æ¡ˆã€‚</p><p>ç›®å‰ä½¿ç”¨äº†è¿‘åŠå¹´vscodeåšä¸ºä¸»åŠ›å¼€å‘ideï¼Œæˆ‘çš„ä½é…åŠå…¬mbpå·²ç»å¾ˆå°‘å‘å‡ºé£æ‰‡çš„å£°éŸ³ï¼Œä¹ æƒ¯vscodeçš„codingã€debugæµç¨‹ä¹‹åï¼Œæ•ˆç‡åè€Œå˜é«˜äº†ä¸å°‘ï¼Œæ¯•ç«Ÿå†ä¹Ÿä¸å¡é¡¿äº†ã€‚</p><p>å®‰è£…vscodeï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask visual-studio-code</span><br></pre></td></tr></table></figure><p>å»åº”ç”¨å¸‚åœºå®‰è£…æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Java Extension Pack(åŒ…å«Javaå¼€å‘å¸¸ç”¨æ’ä»¶)</span><br><span class="line">Spring Boot Extension Pack(åŒ…å«springbootå¼€å‘å¸¸ç”¨æ’ä»¶)</span><br></pre></td></tr></table></figure><h2 id="åˆ«åé…ç½®"><a href="#åˆ«åé…ç½®" class="headerlink" title="åˆ«åé…ç½®"></a>åˆ«åé…ç½®</h2><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p>è®¾ç½®gitå…¨å±€configï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">git config --global -e</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[user]</span><br><span class="line">    name = fakeyanss</span><br><span class="line">    email = yanshisangc@gmail.com</span><br><span class="line">[core]</span><br><span class="line">    editor = vim</span><br><span class="line">[<span class="built_in">alias</span>]</span><br><span class="line">    <span class="comment"># Shortening aliases</span></span><br><span class="line">    co = checkout</span><br><span class="line">    cob = checkout -b</span><br><span class="line">    f = fetch -p</span><br><span class="line">    c = commit</span><br><span class="line">    p = push</span><br><span class="line">    ba = branch -a</span><br><span class="line">    bd = branch -d</span><br><span class="line">    bD = branch -D</span><br><span class="line">    dc = diff --cached</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Feature improving aliases</span></span><br><span class="line">    st = status -sb</span><br><span class="line">    a = add -p</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Complex aliases</span></span><br><span class="line">    plog = <span class="built_in">log</span> --graph --pretty=<span class="string">'format:%C(red)%d%C(reset) %C(yellow)%h%C(reset) %ar %C(green)%aN%C(reset) %s'</span></span><br><span class="line">    tlog = <span class="built_in">log</span> --<span class="built_in">stat</span> --since=<span class="string">'1 Day Ago'</span> --graph --pretty=oneline --abbrev-commit --date=relative</span><br><span class="line">    lg = <span class="built_in">log</span> --color --graph --pretty=format:<span class="string">'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset'</span> --abbrev-commit</span><br><span class="line">    bdm = <span class="string">"!git branch --merged | grep -v '*' | xargs -n 1 git branch -d"</span></span><br><span class="line">    rank = <span class="string">"!git log --format='%aN' | sort -u | while read name; do echo \"\\033[32m<span class="variable">$name</span>\\033[0m\t\"; git log --author=\"<span class="variable">$name</span>\" --pretty=tformat: --numstat | awk \"&#123; add += \\<span class="variable">$1</span>; subs += \\<span class="variable">$2</span>; loc += \\<span class="variable">$1</span> - \\<span class="variable">$2</span> &#125; END &#123; printf \\\"added lines: %s, removed lines: %s, total lines: %s\\n\\\", add, subs, loc &#125;\" -; done"</span></span><br></pre></td></tr></table></figure></p><h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><p>å®‰è£…mycliå®¢æˆ·ç«¯<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install mycli</span><br></pre></td></tr></table></figure></p><p>é…ç½®å¸¸ç”¨è¿æ¥åˆ«åï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="built_in">alias</span> devdb=<span class="string">'mycli -h127.0.0.1 -P3306 -Ddev -udev -pdev'</span></span><br></pre></td></tr></table></figure></p><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‰‹ä¸Šä¸€å°å‡ ä¹é—²ç½®çš„mbp mid 2015ï¼Œæœ€è¿‘å‡çº§äº†Big Surï¼Œæ„Ÿè§‰ç„•ç„¶ä¸€æ–°ï¼Œæƒ³ä½œä¸ºä¸»åŠ›æœºä½¿ç”¨äº†ï¼Œæ¯•ç«Ÿç¡¬ä»¶é…ç½®æ¯”å…¬å¸ç»™çš„ä½é…mbpè¿˜å¥½ä¸€æˆªã€‚æŒ‰ç…§ç°åœ¨ä¹ æƒ¯çš„å¼€å‘ç¯å¢ƒï¼Œé‡æ–°è£…äº†ä¸€éï¼ˆä¸‹æ¬¡è¯•è¯•ç”¨ dotfiles&lt;a href=&quot;dotfilesï¼Œä¸€ç§é…ç½®æ–‡ä»¶ç®¡ç†æ–¹æ¡ˆï¼Œå‚è€ƒ[æˆ‘çš„dotfiles](https://github.com/fakeyanss/dotfiles)&quot;&gt;^1&lt;/a&gt;ç®¡ç†ï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Mac, å¼€å‘ç¯å¢ƒ" scheme="https://foreti.me/blog/tags/Mac-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    
  </entry>
  
  <entry>
    <title>25å²è¿·æ€</title>
    <link href="https://foreti.me/blog/2021/01/09/thinking-at-25-years-old/"/>
    <id>https://foreti.me/blog/2021/01/09/thinking-at-25-years-old/</id>
    <published>2021-01-09T11:53:38.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸‹é¢è¿™äº›é—®é¢˜ï¼Œéƒ½æ˜¯2020å¹´æœŸé—´éšæ‰‹è®°ä¸‹çš„ä¸€äº›ååŠ¡è™šçš„é—®é¢˜ï¼Œç•™ç»™è‡ªå·±è§£ç­”ï¼Œå¦‚æœæœ‰å¹¸è¢«äººçœ‹è§ï¼Œä¹Ÿå¯ä»¥å‚ä¸åˆ°å…¶ä¸­ã€‚</p><a id="more"></a><hr><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=29567192&auto=0&height=66"></iframe><p>è¿™äº›æˆ‘çš„ç­”æ¡ˆï¼Œæœ‰äº›æ˜¯å½“æ—¶å°±å›ç­”äº†ï¼Œæœ‰äº›é™†é™†ç»­ç»­ä¿®æ”¹åçš„å›ç­”ï¼Œæœ‰äº›æ˜¯å»¶è¿Ÿåˆ°2021å¹´æ˜¥èŠ‚å‰ï¼Œå†¥æ€è‹¦æƒ³ç»™çš„æ•·è¡æ€§è´¨çš„å›ç­”ã€‚</p><ol><li><p>å…³äºäººç”Ÿçš„ç–‘é—®ä¸­ï¼Œä»€ä¹ˆæ˜¯æ°¸æ’çš„é—®é¢˜ï¼Ÿ</p><blockquote><p>å½“ä¸‹çš„é—®é¢˜æ°¸è¿œå­˜åœ¨ã€‚</p></blockquote></li><li><p>æˆ‘æƒ³çŸ¥é“æˆ‘è¿™ä¸€è¾ˆå­ï¼Œé™¤äº†ç»“å©šç”Ÿå­ï¼Œå‰©ä¸‹çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿäºæˆ‘æœ¬èº«ï¼Œäºæ­¤æ—¶ä»£ã€‚</p><blockquote><p>æƒ³ä¸æ¸…ï¼Œæˆ‘æ¥è¿‡ã€‚</p></blockquote></li><li><p>ä¸ºä»€ä¹ˆå·¥ä½œï¼Ÿ</p><blockquote><p>ä¸ºäº†ä¸ç”¨å·¥ä½œã€‚<br>å½“ä¸‹ä¸ºäº†å­˜é’±ï¼Œé•¿æœŸä¸ºäº†æŠ—é£é™©ã€‚ç«‹ä¸€ä¸ªå°ç›®æ ‡ï¼Œä¸€çº¿æœ‰æˆ¿ä¹‹åï¼Œæ‰‹é‡Œæ´»æœŸç†è´¢åˆ©æ¯å¤Ÿå¼€é”€ï¼Œå®šæœŸç°é‡‘æµ500wï¼ŒæœŸæœ›35å²å‰èƒ½å®ç°ç›®æ ‡ã€‚</p></blockquote></li><li><p>ä¸ªäººå¯¹äºèŒä¸šæŠ€æœ¯é«˜åº¦ï¼Œæ˜¯å¦è¿˜æœ‰ä»»ä½•è¿½æ±‚ï¼Ÿçº¯ç²¹å—ï¼Ÿè¿˜æ˜¯åªä¸ºäº†åº”ä»˜å·¥ä½œï¼Œæˆ–æ˜¯å°†æ¥æœ‰å˜ç°æ‰‹æ®µï¼Ÿ</p><blockquote><p>åç«¯æŠ€æœ¯ä½œä¸ºä¸»çº¿ç»§ç»­æ·±è€•ï¼ŒéŸ³è§†é¢‘æ–¹å‘ä½œä¸ºæ”¯çº¿è¿›è¡Œéä¸»åŠ¨å­¦ä¹ ã€‚èŒä¸šå“ªæœ‰çº¯ç²¹çš„ï¼Œéƒ½æ˜¯å…»å®¶ç³Šå£çš„æ‰‹æ®µè€Œå·²ã€‚å˜ç°å°±åˆ«è¯´äº†ï¼Œå›´è§‚èº«è¾¹ç¡®å®æœ‰å·¥ä½œä¹‹åˆå°±åœ¨æƒ³ç€å˜ç°çš„äººï¼Œä¹Ÿç¡®å®ç¾¡æ…•ä»–ä»¬æ´»è·ƒçš„å…¬ä¼—å·ã€bilibiliè§†é¢‘å·ã€çŸ¥è¯†æ˜Ÿçƒç­‰åœˆå­ï¼Œä½†æ˜¯äººä¹Ÿå¾—æ˜ç™½ï¼ŒèŠ±é‚£ä¸ªæ—¶é—´ï¼Œæˆ‘çœŸåšä¸æ¥ã€‚ä¸€æœŸ10åˆ†é’Ÿçš„æŠ€æœ¯è§†é¢‘ï¼Œä»é€‰æï¼Œåˆ°å†™ç¨¿ï¼Œåˆ°å½•éŸ³ï¼Œé…å­—å¹•ï¼Œå†åæœŸï¼Œä¸€å‘¨çš„ä¸šä½™æ—¶é—´ï¼Œå…¨æ²¡äº†ã€‚å—ï¼ŒçœŸå¹²ä¸æ¥ã€‚</p></blockquote></li><li><p>å¯¹äºçŸ­æœŸç›®æ ‡è®¾è€Œä¸åšï¼ŒçœŸæ­£çš„åŸå› æœ‰åˆ†æè¿‡å—ï¼Ÿ</p><blockquote><p>å˜´é‡Œå–Šç€å¿™ï¼Œå¿ƒé‡Œé—²å¾—æ…Œã€‚</p></blockquote></li><li><p>å¯¹äºé•¿æœŸç›®æ ‡ç«‹è€Œä¸æ˜ï¼Œåªæ˜¯ç¾¡æ…•äººç”Ÿä¸Šå²¸çš„å…ˆè¡Œè€…ï¼Œæ­¤åˆ»æˆ‘å¿ƒé‡Œåœ¨æƒ³ä»€ä¹ˆï¼Ÿ</p><blockquote><p>é•¿æœŸåšæŠ€æœ¯çš„äººï¼Œå®¹æ˜“å˜å¾—è§†é‡ç‹­çª„ã€‚<br>æŠ€æœ¯è¿™ä¸ªæ–¹å‘ï¼Œå‰äººéƒ½åšéäº†ï¼Œä¸æ˜¯é‚£ä¹ˆå¥½æˆä¸ºå¤§ç¥çš„ã€‚æˆ‘åªæ˜¯ä¸€ä¸ªæ™®é€šçš„æŠ€æœ¯å·¥äººï¼Œæ²¡æœ‰é‚£ä¹ˆå¼ºçš„é’»ç ”èƒ½åŠ›ï¼Œä¹Ÿæ²¡é‚£ä¸ªå¿ƒæ°”ï¼Œèƒ½åœ¨æŸäº›é¢†åŸŸåšçš„æ·±ä¸€äº›ï¼Œå°±æ»¡è¶³äº†ã€‚æˆ‘ä»¥åè¦åšçš„äº‹æƒ…ï¼Œåº”è¯¥æ˜¯è®¤è¯†ä»25åˆ°35è¿™åå¹´ï¼Œæˆ‘åº”è¯¥èµ°çš„ä¸€æ¡è·¯ã€‚æˆ‘ä¸å¹´è½»äº†ï¼Œè¿‡ä¸äº†çª„é—¨ï¼Œåªèƒ½èµ°é•¿è·¯ã€‚</p></blockquote></li><li><p>æˆ‘è¿™è¾ˆå­ï¼Œé™¤äº†è¿æ°”ä½¿ç„¶ï¼Œè¿˜æœ‰å› ä¸ºè‡ªèº«åŠªåŠ›ï¼Œå®ç°è´¢å¯Œè‡ªç”±çš„å¯èƒ½æ€§å—ï¼Ÿ</p><blockquote><p>æ²¡æœ‰ï¼Œæ”¾å¼ƒå§ã€‚<br>å¤§å®¶éƒ½æ˜¯å¹³å¸¸äººï¼Œæœ‰ä¸ªå¹³å¸¸å¿ƒå°±å¥½ã€‚å®‰å®‰ç¨³ç¨³è¿‡æ—¥å­ï¼Œåˆ«æƒ³å¤ªå¤šï¼Œä¼šå¾—ç—…ã€‚</p></blockquote></li><li><p>æˆ‘å¿ƒåº•è—ç€çš„æœ€å¤§é—æ†¾æ˜¯ä»€ä¹ˆï¼Ÿ</p><blockquote><p>é—æ†¾å¤ªå¤šäº†ï¼Œä½†è¦è¯´æŠ±æ†¾ç»ˆèº«çš„äº‹æƒ…ä¼¼ä¹åˆæ²¡æœ‰ã€‚è¦è¯´æœ€å¤§çš„é—æ†¾ï¼Œå¯èƒ½æ¯ä¸ªæ—¶æœŸéƒ½ä¼šæœ‰ä¸åŒçš„å®šä¹‰ã€‚è¦è¯´ç°åœ¨çš„è¯ï¼Œå¯èƒ½å°±æ˜¯æ²¡æœ‰èµ°ä¸Šä¸€æ¡å‡ºå›½ç•™å­¦+å¤–ä¼955çš„é“è·¯å§ã€‚</p></blockquote></li><li><p>äº‹åˆ°å¦‚ä»Šï¼Œæˆ‘åæ‚”å—ï¼Ÿ</p><blockquote><p>æŒºåæ‚”çš„ï¼Œå¯¹å¤§å¤šæ•°äº‹æƒ…ã€‚æˆ‘æŒºå®¹æ˜“é™·å…¥äº‹åè‡ªæ€¨è‡ªè‰¾çš„æƒ…ç»ªä¸­ï¼Œç„¶ååˆå®‰æ…°è‡ªå·±ä¸–äº‹å¦‚æ­¤çš†ä¸é¡ºé‚ï¼Œç´¢æ€§å°±é‡Šç„¶äº†ã€‚æˆ‘è§‰å¾—è‡ªå·±è¿™ç§è®¤å‘½çš„æ€ç»´æ–¹å¼ï¼Œæ˜¯æ´»äº†äºŒåå¤šå¹´æœ€å®ç”¨çš„ç²¾ç¥è‰¯è¯ã€‚</p></blockquote></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸‹é¢è¿™äº›é—®é¢˜ï¼Œéƒ½æ˜¯2020å¹´æœŸé—´éšæ‰‹è®°ä¸‹çš„ä¸€äº›ååŠ¡è™šçš„é—®é¢˜ï¼Œç•™ç»™è‡ªå·±è§£ç­”ï¼Œå¦‚æœæœ‰å¹¸è¢«äººçœ‹è§ï¼Œä¹Ÿå¯ä»¥å‚ä¸åˆ°å…¶ä¸­ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ€»ç»“, äººç”Ÿ" scheme="https://foreti.me/blog/tags/%E6%80%BB%E7%BB%93-%E4%BA%BA%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>2020å¹´10æœˆåº¦æ€»ç»“</title>
    <link href="https://foreti.me/blog/2020/10/29/2020-10-review/"/>
    <id>https://foreti.me/blog/2020/10/29/2020-10-review/</id>
    <published>2020-10-28T17:30:00.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>10æœˆæœ‰äº†åä¸€é•¿å‡ï¼Œå°±å¥½åƒè¿‡å¾—ç‰¹åˆ«å¿«ã€‚</p><a id="more"></a><hr><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=722932&auto=0&height=66"></iframe><p>ä¼¼ä¹ä¸Šç­æ²¡ä¸¤å¤©ï¼Œè¿™ä¸ªæœˆå°±ç»“æŸäº†ï¼Œè¿™ä¸ªè¿­ä»£æ€ä¹ˆè¿™ä¹ˆå¿«å‘€ã€‚å¥½åœ¨è¿™ä¸ªå¤§éœ€æ±‚çš„å¡ç‰‡ç»ˆäºè¦åšå®Œäº†ï¼Œå‰åå¿«ä¿©æœˆï¼Œå°±è¿™ä¹ˆå‡ ä¸ªåŠäººåŠ›ç»™æ•´ä¸Šçº¿äº†ã€‚</p><hr><p>æƒ³åœ¨éŸ³è§†é¢‘é¢†åŸŸæ·±è€•ï¼Œç¡®å®å¿…é¡»è¦æŒæ¡c/c++ã€‚å‡ºäºä¸€äº›åŸå› ï¼ˆä¸æƒ³æ‰¿è®¤å°±æ˜¯æˆ‘ç¬¨ï¼‰ï¼Œæˆ‘ä¸€ç›´å¯¹æ­¤æœ‰äº›æŠ—æ‹’ï¼Œæˆ‘ä¸å¤ªç¡®å®šä¸€å¹´å/ä¸¤å¹´åæˆ‘è¿˜ä¼šä¸ä¼šåšè¿™ä¸ªæ–¹å‘ã€‚å¯¹è¿™ä¸€å—æˆ‘å¹¶æ²¡æœ‰å¤ªå¤šçš„å…´è¶£ï¼Œä½†æ˜¯éŸ³è§†é¢‘è¿™ä¸€è¡Œè¿™å‡ å¹´å¤ªå¥½èµšé’±äº†ï¼Œäººæ‰ç´§ä¿ï¼Œæƒ³å»å“ªå°±å»å“ªï¼Œæˆ‘æƒ³é¢å‘å·¥èµ„ç¼–ç¨‹çš„è¯ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—å»æ·±å…¥çš„æ–¹å‘ã€‚</p><p>å…¶å®å¯¹äºä¸ªäººæ¥è¯´ï¼Œæˆ‘æ›´æ„¿æ„æ·±å…¥åšç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å¤§æ•°æ®è¿ç»´ã€å®¹å™¨åŒ–è¿™æ ·çš„å·¥ä½œã€‚è‡³ä»Šä¸ºæ­¢ï¼Œç‰¹åˆ«æ€€æ‹åœ¨çˆ±å¥‡è‰ºæœåŠ¡äº‘å®ä¹ çš„é˜¶æ®µï¼Œè®°å¾—å‘¨å›´ä¸€äº›åŒäº‹åœ¨åšApacheé¡¹ç›®ç§æœ‰åŒ–ç›¸å…³çš„å·¥ä½œï¼Œæ¯”å¦‚zookeeperã€sparkã€flinkã€kylinã€atlasè¿™äº›é¡¹ç›®çš„å‚å†…è½åœ°ï¼Œä»¥åŠæ—¥å¸¸ä¸ºå¼€æºé¡¹ç›®æäº¤patchç­‰ã€‚å½“æ—¶æˆ‘å¤ªèœï¼Œè™½ç„¶æ²¡åšè¿™æ ·çš„äº‹æƒ…ï¼Œä½†æ˜¯ä»ç„¶æœ€å–œæ¬¢é‚£é‡Œçš„å·¥ä½œå†…å®¹å’Œæ°›å›´ã€‚</p><hr><p>ä¸Šæ¬¡è¯´çš„ä¸€ä¸ªåŸºäºredisçš„è½»é‡æ¶ˆè´¹è°ƒåº¦ç³»ç»Ÿï¼Œæ”¯æŒå¤šä¼˜å…ˆçº§å’Œæ»‘åŠ¨çª—å£åŠ¨æ€è°ƒæ•´æ¶ˆè´¹é€Ÿåº¦ï¼ˆæ€è·¯å…¨éƒ¨copyè‡ª<a href="https://github.com/flipkart-incubator/priority-kafka-client" target="_blank" rel="noopener">priority-kafka-client</a>ï¼Œæœ¬ç³»ç»Ÿå¯ä»¥è§†åšå…¶rediså®ç°ï¼‰ï¼Œè¿™ä¸¤å¤©ä¼˜åŒ–ä¸‹å‡ ä¸ªå°ç‚¹ï¼Œå‡†å¤‡å‘å¸ƒæºç äº†ã€‚</p><hr><p>åä¸€è¿˜å›å®¶è¡¥åŠäº†å©šç¤¼ï¼Œå¦»å­å€’æŒºä¹åœ¨å…¶ä¸­çš„ã€‚å©šç¤¼ç°åœºçš„æ±‚å©šè¯æˆ‘ç‰¹æ„å‡†å¤‡äº†ä¸‹ï¼Œæœ¬ä»¥ä¸ºæŒºç®€å•çš„äº‹æƒ…ï¼Œæ²¡æƒ³åˆ°å½“æ—¶çœ‹åˆ°å¦»å­æµæ³ªï¼Œæˆ‘ç«Ÿä¹Ÿå¿˜äº†è¯ï¼Œå¥½ä¸€ä¼šå„¿æ‰æƒ³èµ·æ¥ã€‚<br>â€œäº²çˆ±çš„ï¼Œå’Œä½ ç›¸é‡ç›¸çˆ±çš„ç‚¹æ»´å¦‚åœ¨æ˜¨æ—¥ï¼Œè½¬çœ¼å´å·²ç»ä¸€èµ·èµ°è¿‡ä¸ƒå¹´ã€‚å¦‚æœè¯´æ¸…æ¬¢æ˜¯æ„å¤–çš„ç»“æœï¼Œé‚£ä»Šå¤©ä½ å’Œæˆ‘ç«™åœ¨è¿™é‡Œï¼Œä¸€å®šæ˜¯å¿…ç„¶çš„ç»“å±€å’Œå…¨æ–°çš„å¼€å§‹ã€‚ç”Ÿæ´»å°±è¦ç¿»ç¯‡ï¼Œæˆ‘æƒ³å’Œä½ è®¸ä¸‹æ„¿æœ›ã€‚å¸Œæœ›ä¸€åˆ‡è¿‡å¾€çš„ä¸å¿«ä¹ï¼Œéƒ½è¢«æ·±è—å’Œæ©åŸ‹ã€‚å¸Œæœ›ä¸€åˆ‡å°†æ¥çš„é¡ºåˆ©å’Œä¸é¡ºåˆ©ï¼Œæˆ‘ä»¬éƒ½èƒ½ä»å®¹åº”å¯¹ã€‚å¸Œæœ›ä½ å’Œæˆ‘ä¸€èµ·èµ°è¿‡å‰©ä¸‹çš„å‡ åå¹´ï¼Œå¸Œæœ›æ¸…æ¬¢å¿«ä¹çš„é•¿å¤§ã€‚<br>äº²çˆ±çš„ï¼Œæˆ‘æƒ³ï¼Œæˆ‘æ°¸è¿œæ¯”ä»¥å¾€æ›´çˆ±ä½ ã€‚â€</p><p>è€æœ‹å‹ä»¬èšåœ¨ä¸€èµ·å€’æ˜¯æŒºéš¾å¾—ï¼Œå¯æƒœæ²¡æœºä¼šå¤šå–å–é…’ã€‚</p><hr><p>1024åƒäº†å…¬å¸çš„å°è›‹ç³•ï¼Œå–äº†pmä¸¤æ¯å¥¶èŒ¶ï¼Œä¸Šäº†ä¸‰æ¬¡å•æ‰€ã€‚</p><hr><p>æ¸…æ¬¢æ¥åŒ—äº¬åï¼Œçš®è‚¤ä¸å¤§å¥½ã€‚åœ¨é¦–éƒ½å„¿ç§‘ç ”ç©¶æ‰€æŒ‚ä¸Šäº†å·ï¼Œæ’é˜Ÿ1å°æ—¶ï¼Œçœ‹ç—…5åˆ†é’Ÿï¼Œä¹°è¯å›å®¶æ“¦äº†å…¨èº«ï¼Œæ•ˆæœå€’æ˜¯ååˆ†çš„å¥½ï¼Œçœ‹ä¸¤å‘¨åçº¿ä¸Šå¤è¯Šç»“æœå§ã€‚åæ§½åŒ—äº¬çš„åŒ»ç–—èµ„æºï¼Œäººå¤šåŒ»é™¢å°‘ï¼Œå°½é‡ä¸å»å„¿ç ”æ‰€è¿™æ ·çš„å„¿ç§‘åŒ»é™¢ï¼Œæ»¡åœ°éƒ½æ˜¯å®¶é•¿å’Œå­©å­ï¼Œç‰¹åˆ«å®¹æ˜“äº’ç›¸æ„ŸæŸ“ã€‚</p><hr><p>ä»Šå¤œéš¾çœ ï¼Œ<br>äº2020å¹´10æœˆ29æ—¥1ç‚¹13åˆ†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;10æœˆæœ‰äº†åä¸€é•¿å‡ï¼Œå°±å¥½åƒè¿‡å¾—ç‰¹åˆ«å¿«ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ€»ç»“" scheme="https://foreti.me/blog/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>2020å¹´09æœˆåº¦æ€»ç»“</title>
    <link href="https://foreti.me/blog/2020/10/28/2020-09-review/"/>
    <id>https://foreti.me/blog/2020/10/28/2020-09-review/</id>
    <published>2020-10-28T15:30:00.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>9æœˆæ˜¯ä¸ªå¿™ç¢Œçš„æœˆä»½ã€‚</p><a id="more"></a><hr><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=5255798&auto=0&height=66"></iframe><p>å·¥ä½œä¸€å¦‚æ—¢å¾€çš„å¿™å¿™ç¢Œç¢Œï¼Œå¥½åœ¨è¿›åº¦ä¾ç€ç†Ÿæ‚‰çš„èŠ‚å¥èµ°ï¼Œå€’ä¹Ÿä¸è§‰å¾—ç´¯ã€‚æ²¡æœ‰å¤ªå€¼å¾—è¯´çš„äº‹æƒ…ï¼Œå¤§ä½“ä¸Šæœ‰æ–°çš„ä¸œè¥¿å¯åšï¼Œè¿˜ç®—ä¸é”™ã€‚</p><hr><p>è¿™ä¸ªæœˆæœ‰ä¸€å¤§æ³¢7æœˆç•ªå®Œç»“ã€‚8å¹´åˆ€å‰‘å°±è¿™æ ·æ½¦è‰ç»“æŸäº†ï¼Œour memories are right here.ï¼ŒæœŸå¾…ä¸¤å¹´åè‰¾æ©è‘›æœ—ç‰¹æµ®ç©ºå²›çš„é‡é€¢ã€‚ç§Ÿå€Ÿå¥³å‹çœ‹ç½¢ï¼Œè¿˜è¿½èµ·äº†æ¼«ç”»ï¼Œå…³æ³¨äº†å®«å²›ç¤¼åçš„Twitterï¼ŒçœŸæ˜¯éå¸¸æ´»è·ƒçš„æ¼«ç”»å®¶ã€‚å¦å¤–è¿˜çœ‹äº†äº›ä¸ƒä¸ƒå…«å…«çš„ç•ªï¼Œxxæƒ³è¦xxï¼Œç”²é“åŸï¼Œç½ªæ¶ç‹å† ï¼ŒçŸ³çºªå…ƒâ€¦â€¦<br>ä¸ºä»€ä¹ˆæˆ‘æœ‰è¿™ä¹ˆå¤šæ—¶é—´ï¼Ÿæˆä¸ºä¿®ä»™è€…å§ï¼ˆè¯¯ï¼Œæœ€è¿‘çœ‹ä¿®çœŸå››ä¸‡å¹´å°è¯´ï¼‰</p><hr><p>å™¢ï¼ŒåŸç¥æŒºå¥½çš„ï¼Œæƒ³æ°ªå°±æ°ªï¼Œä½•å¿…è¦éª‚ç±³å“ˆæ¸¸å‘¢ï¼Ÿå»ºæ¨¡è¿™ä¹ˆå¥½ï¼Œåœ°å›¾è¿™ä¹ˆå¤§ï¼Œæˆ‘è½»åº¦ä½“éªŒç©çš„æŒºå¼€å¿ƒçš„ã€‚</p><hr><p>æ¢äº†å·¥ä½œæ¡Œé¢çš„æ‘†æ”¾æ–¹æ¡ˆï¼Œæ‰‹æŒ‡å…³èŠ‚èˆ’æœå¤šäº†ã€‚<br><img src="https://raw.githubusercontent.com/fakeYanss/imgplace/master/2020/bf0e6bbb2ea9cc67db3fa86f65defc8.mtyxrzj96ya.jpg" alt></p><hr><p>æˆ‘éª‘è½¦æ’åˆ°å‡ºç§Ÿè½¦äº†ã€‚å—äº†ç‚¹çš®å¤–ä¼¤ï¼Œå°ç”µé©´æ’çš„é¢ç›®å…¨éã€‚è™½ç„¶æˆ‘é€†è¡Œå…¨è´£ï¼Œä½†æˆ‘è¿˜æ˜¯æƒ³åæ§½ä¸‹è¥¿äºŒæ——çš„äº¤é€šè§„åˆ’çœŸçš„æ˜¯å¤ªçƒ‚äº†ï¼Œä»¥åä¸‹ç­æˆ‘å†ä¹Ÿä¸ä¼šèµ°é‚£æ¡è·¯äº†ã€‚</p><hr><p>åä¸€è¿˜æ²¡åˆ°ï¼Œå¿ƒå·²ç»é£å›å®¶äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;9æœˆæ˜¯ä¸ªå¿™ç¢Œçš„æœˆä»½ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ€»ç»“" scheme="https://foreti.me/blog/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>2020å¹´08æœˆåº¦æ€»ç»“</title>
    <link href="https://foreti.me/blog/2020/09/06/2020-08-review/"/>
    <id>https://foreti.me/blog/2020/09/06/2020-08-review/</id>
    <published>2020-09-05T18:46:23.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>8æœˆå¼€å§‹ï¼Œç”Ÿæ´»ä¼¼ä¹å¥½è½¬äº†ã€‚</p><a id="more"></a><hr><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=28381564&auto=0&height=66"></iframe><h2 id="ä¸€"><a href="#ä¸€" class="headerlink" title="ä¸€"></a>ä¸€</h2><p>å·¥ä½œä¸Šçš„é¡¹ç›®è¿›åº¦ç¼“äº†ä¸‹æ¥ï¼Œæˆ‘èŠ±äº†å‡ å¤©æ—¶é—´ï¼Œå»äº†è§£å’Œå®è·µäº†filebeatåšæ—¥å¿—é‡‡é›†ç»„ä»¶çš„ç‰¹æ€§ï¼Œä¸€æ­¥ä¸€æ­¥æ­å»ºäº†EFKæ—¥å¿—é‡‡é›†å¹³å°ï¼Œç”¨äºæ”¶é›†çº¿ä¸Šä¸¤ä¸ªå°å‹ä¸šåŠ¡çš„æœåŠ¡è¯·æ±‚æ—¥å¿—ã€‚filebeatç»“åˆelastic search ingest pipelineçœŸçš„éå¸¸æ–¹ä¾¿ï¼Œä¸ªäººè®¤ä¸ºæ˜¯è½»é‡åŒ–æ—¥å¿—æ”¶é›†çš„ä¸äºŒä¹‹é€‰ã€‚</p><p>å¦å¤–ä¸€ä¸ªå€¼å¾—è¯´é“çš„äº‹æƒ…ï¼Œæ˜¯ä»¿ç…§çº¿ä¸Šç°æœ‰çš„ä¸€å¥—åŸºäºkafkaçš„æ”¯æŒä¼˜å…ˆçº§çš„ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼ŒåŸºäºredisé‡å†™äº†ä¸€å¥—ï¼Œè¿™å¥—ç³»ç»Ÿçš„ç‰¹ç‚¹æ˜¯æ”¯æŒå¤šä¼˜å…ˆçº§ã€åŸºäºæ»‘åŠ¨æ—¶é—´çª—å£å®ç°æ¶ˆè´¹é€Ÿåº¦è‡ªé€‚åº”è°ƒæ•´ã€‚redisç›¸æ¯”kafkaçš„ä¼˜ç‚¹æ˜¯å‡ ä¹å¯ä»¥åˆ›å»ºæ— é™å¤šçš„é˜Ÿåˆ—ï¼Œè€Œkafkaçš„å»ºè®®topicæ•°æ˜¯æœ‰é™çš„ã€‚</p><p>å¦å¤–è€Œåšäº†ä¸€äº›å°çš„ç³»ç»Ÿä¼˜åŒ–ï¼Œæ¯”å¦‚é¡¹ç›®çš„redisåˆ†å¸ƒå¼é”é‡å†™ï¼Œæ­¤å‰çš„å®ç°åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯æœ‰bugçš„ï¼Œè¿™æ¬¡åˆ©ç”¨luaè„šæœ¬å®ç°åŸå­æ€§ã€‚è¿™é‡Œä¸ªäººè¿˜æ˜¯å»ºè®®ç›´æ¥ç”¨redissonçš„RLockï¼Œå¦‚æ— å¿…è¦ä¸éœ€è‡ªå·±å†é€ è½®å­ï¼Œä¸”è‡ªå·±çš„å®ç°å¤§æ¦‚ç‡æ²¡æœ‰redissonè€ƒè™‘å®Œå–„ã€‚ä¸‹æ¬¡æœ‰ç©ºå¯ä»¥å‡ºä¸€ä¸ªè‡ªå®ç°å’Œredisson RLockçš„åˆ†æå¯¹æ¯”ã€‚</p><h2 id="äºŒ"><a href="#äºŒ" class="headerlink" title="äºŒ"></a>äºŒ</h2><p>8æœˆçœ‹äº†å¾ˆå¤šåŠ¨æ¼«ã€‚æ„Ÿè°¢Bç«™ï¼Œé™ªæˆ‘åº¦è¿‡ä¸€ä¸ªäººçš„å­¤ç‹¬æ—¶é—´ã€‚ </p><p>æ„Ÿè§‰ä»Šå¹´7æœˆçš„æ–°ç•ªæœ‰ç‚¹éåœ°å¼€èŠ±çš„æ„Ÿè§‰ã€‚<br>è¿™å…¶ä¸­æœ‰å›½æ¼«ï¼Œ<br>æœªæ¥æœ«æ—¥èƒŒæ™¯çš„ã€Šçµç¬¼ã€‹ï¼Œäººç±»æœ€åçš„æµ®ç©ºå ¡å’ï¼Œäººç‰©æ¨¡å‹å¤ªç²¾è‡´äº†ï¼›<br>å°è¯´æ”¹ç¼–çš„ã€Šå…ƒé¾™ã€‹ï¼Œç‰¹ç§å…µç©¿è¶Šå¼‚ä¸–ç•Œï¼Œç±»é¾™å‚²å¤©å±æ€§ï¼Œç¨å¾®å¥½ç‚¹ï¼Œæ™ºæ–—æˆåˆ†å±…å¤šã€‚  </p><p>ä¹Ÿæœ‰æ—¥æ¼«ï¼Œ<br>ç»§ç»­åœ¨è¿½çš„ã€Šåˆ€å‰‘ã€‹ï¼Œè™½ç„¶è¯„åˆ†åˆ›æ–°ä½ï¼Œä½†æ˜¯è¿™ä¹ˆå¤šå­£éƒ½çœ‹äº†ï¼Œä¹Ÿä¸èƒ½æ¼æ‰è¿™æ¬¡çš„æœ€ç»ˆç« ã€‚ä¸€å¥è¯ï¼Œå¥‡æ€ªçš„åå®«å¢åŠ äº†ï¼›<br>åŠ¨æ¼«è¥¿éƒ¨ä¸–ç•Œçš„ã€ŠDECA-DENCEã€‹ï¼Œåæ´¾çš„å£å¤´ç¦…ï¼šå»é™¤äººç±»ä¸–ç•Œçš„BUGï¼›<br>è½»æ¾çš„å¤§å­¦ç”Ÿæ´»ï¼ˆè¯¯ï¼‰ã€Šå®‡å´å­¦å¦¹æƒ³è¦ç©ã€‹ï¼›<br>åˆ‡ç£‹èŒ¶è‰ºçš„ã€Šå‡ºç§Ÿå¥³å‹ã€‹ï¼›<br>æœ€åï¼Œåº”è¯¥æ˜¯ä»Šå¹´æœ€å–œæ¬¢çš„ã€Šé«˜æ ¡ä¹‹ç¥ã€‹ï¼Œæ‹³æ‹³åˆ°è‚‰çš„æ‰“å‡»æ„Ÿï¼Œä¸Šä¸€ä¸ªè¿™ä¹ˆçˆ½çš„æ˜¯ã€Šå¼‚å…½é­”éƒ½ã€‹ã€‚</p><p>å¦å¤–ï¼Œé‡æ–°çœ‹äº†ã€Šçˆ±åœ¨é»æ˜ç ´æ™“å‰ã€‹ï¼Œç»§è€Œçœ‹äº†åä¸¤éƒ¨ã€Šçˆ±åœ¨æ—¥è½é»„æ˜æ—¶ã€‹ã€ã€Šçˆ±åœ¨åˆå¤œé™ä¸´å‰ã€‹ã€‚æ•´ä½“æ¥è¯´ï¼Œå°±æ˜¯çœ‹ä¸¤ä¸ªè¯ç—¨è·¨åº¦18å¹´ï¼ˆç°å®æ—¶é•¿ï¼‰çš„å¯¹è¯ï¼Œå¯¹è¯å†…å®¹æ²¡æœ‰è¾¹ç•Œï¼Œä»æ–‡å­¦åˆ°éŸ³ä¹ï¼Œä»æ”¿æ²»åˆ°æ—¶äº‹ï¼Œä»å…¬ç›Šç¯ä¿åˆ°æ„Ÿæƒ…ç”Ÿæ´»ï¼Œç”šè‡³æ˜¯æˆä¸ºè€å¤«è€å¦»åçš„å˜´ç‚®å¼€è½¦ã€‚è¿™æ˜¯ä¸€ç§éå¸¸ç‰¹åˆ«çš„ç”µå½±å‰§æƒ…å±•å¼€æ–¹å¼ï¼Œè¿˜æœ‰åœ¨äºŒä¸‰éƒ¨é‡Œç»å¸¸å‡ºç°çš„é•¿é•œå¤´ï¼Œå°±åƒæ˜¯ç»¼è‰ºè®¿è°ˆä¸€æ ·ï¼Œæ‘„åƒå¤´å°±æ­£å¯¹ä¸¤ä¸ªä¸»è§’çš„è„¸ã€‚å¦å¤–ä¸¤äººçš„å¯¹è¯é•¿åº¦å¯èƒ½è¶…è¿‡ç»å¤§å¤šæ•°çš„å‰§æœ¬å¯¹è¯æ—¶é•¿ï¼Œæˆ‘çŒœæµ‹å¯¹è¯åº”è¯¥æ˜¯ä¸¤äººçš„éšæ€§å‘æŒ¥ï¼Œè¿™ç§é•¿è¾¾åå¤šåˆ†é’Ÿçš„ä¸€é•œåˆ°åº•é‡Œï¼Œä¸¤äººå¯¹è¯ä¸åœï¼Œè¦èƒŒä¸‹æ¥è¿™ä¹ˆé•¿çš„å°è¯åº”è¯¥å¤ªéš¾äº†ã€‚</p><p>åœ¨è¯»ã€Šç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯ã€‹ï¼Œç›®å‰æ¥çœ‹æ˜¯ä¸€æœ¬æŒºæœ‰æ„æ€çš„ä¹¦ï¼Œä½ ä¸ä»…å¯ä»¥å­¦ç¦…ï¼Œè¿˜å¯ä»¥å­¦æ‘©æ‰˜è½¦ç»´ä¿®\dogeã€‚</p><h2 id="ä¸‰"><a href="#ä¸‰" class="headerlink" title="ä¸‰"></a>ä¸‰</h2><p>çˆ±æˆ‘çš„å¦»å­ï¼Œæ„Ÿè°¢å¥¹é™ªæˆ‘åº¦è¿‡äº†è¿™ä¸ªä¸ƒå¤•ã€‚</p><h2 id="å››"><a href="#å››" class="headerlink" title="å››"></a>å››</h2><p>æœŸæœ›9æœˆè¦åšçš„äº‹ï¼šä¹ æƒ¯å…»æˆã€‚</p><ul><li>[ ] é”»ç‚¼ï¼šè·‘æ­¥/æ³¢æ¯”è·³/æ·±è¹²</li><li>[ ] é˜…è¯»ï¼šæ–‡å­¦ã€ç¤¾ä¼šå­¦ã€é‡‘èä¹¦ç±</li><li>[ ] ä¸“ä¸šï¼šleetcodeåˆ·é¢˜ã€javaåŸºç¡€æ‰¾å›ã€dockerå®è·µ</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;8æœˆå¼€å§‹ï¼Œç”Ÿæ´»ä¼¼ä¹å¥½è½¬äº†ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ€»ç»“" scheme="https://foreti.me/blog/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>2020å¹´07æœˆåº¦æ€»ç»“</title>
    <link href="https://foreti.me/blog/2020/07/30/2020-07-review/"/>
    <id>https://foreti.me/blog/2020/07/30/2020-07-review/</id>
    <published>2020-07-29T16:12:17.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>è½¬çœ¼å·²ç»ä¸€å¹´å¤šäº†ï¼Œä¸Šä¸€æ¬¡å†™æœˆåº¦reviewï¼Œè¿˜æ˜¯å»å¹´åˆšæ¯•ä¸šå·¥ä½œé‚£ä¼šå„¿ã€‚</p><a id="more"></a><hr><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&amp;id=30394202&amp;auto=0&amp;height=66"></iframe><h1 id="ä¸€"><a href="#ä¸€" class="headerlink" title="ä¸€"></a>ä¸€</h1><p>ç”±äº5è‡³6æœˆä¼‘äº†ä¸€ä¸ªå¤§é•¿å‡ï¼Œç§¯ç•™äº†å¾ˆå¤šä»»åŠ¡å¡ç‰‡ï¼Œæ‰€ä»¥æœ€è¿‘æ¯”è¾ƒå¿™ï¼Œä¸‹ç­ç¨æ™šç‚¹ã€‚7æœˆä¹‹åï¼Œå¯èƒ½æ˜¯ä»Šå¹´ä»¥æ¥æœ€å¿™çš„ä¸€æ®µæ—¶é—´äº†ï¼Œå¿™ç€åšæœ‰ä¸€ä¸ªæ–°çš„å¤§åŠŸèƒ½è¿­ä»£ï¼Œä¸­é—´ç”šè‡³æœ‰ä¸€ä¸ªå‘¨å…­åœ¨åŠ ç­ã€‚è¯´å®è¯ï¼Œè¿™æ˜¯æˆ‘å·¥ä½œä»¥æ¥ï¼Œç¬¬ä¸€ä¸ªåŠ ç­çš„å‘¨æœ«ï¼Œæˆ‘å’Œå°ä¼™ä¼´ç”šè‡³å¸¦äº†switchå»å…¬å¸ï¼Œå¯æƒœæœ€åæ²¡æ—¶é—´ç©ä¸Šã€‚</p><p>è°ˆè°ˆè¿™æ®µæ—¶é—´çš„çŠ¶æ€å§ï¼Œå·¥ä½œä¸Šçš„äº‹ï¼Œå¹¶ä¸æ¯”å»å¹´æ›´å¤šï¼Œä½†æ˜¯äººå´æ„Ÿè§‰æœ‰äº›åƒä¸æ¶ˆäº†ï¼ŒåŒ…æ‹¬èº«ä½“ä¸Šï¼Œä¹ŸåŒ…æ‹¬ç²¾ç¥ä¸Šã€‚è€å©†5æœˆç”Ÿäº§åï¼Œæ˜¯ä¸€ç›´åœ¨æ­¦æ±‰å’Œæˆ‘çˆ¸å¦ˆä¸€èµ·çš„ï¼Œé•¿å‡ä¿®å®Œåï¼Œæˆ‘ç‹¬è‡ªåˆ°åŒ—äº¬æ¥ï¼Œæ—¶å¸¸æ„Ÿåˆ°éš¾ä»¥å¿å—ç‹¬å¤„çš„å¯‚å¯ã€‚æœ€è¿‘ä¸¤ä¸ªå­£åº¦ï¼Œè¹­å…¬å¸ç¦åˆ©ä¹°äº†ã€Šä¸–ç•Œçš„å‡›å†¬ã€‹å’Œã€Šç»¿æ¯›æ°´æ€ªã€‹ï¼Œæˆ‘ä»¥ä¸ºæˆ‘åº”è¯¥å¾ˆäº«å—æ‰“å¼€éŸ³ä¹æ…¢æ…¢ç¿»ä¹¦çš„æ„Ÿè§‰ï¼Œä½†æœ€è¿‘æ¯ä¸ªæ™šä¸Šï¼Œæˆ‘å¾ˆå°‘æ‰“å¼€ç½‘æŠ‘äº‘ï¼Œå³ä½¿æ‰“å¼€ä¹Ÿä¼šå¾ˆå¿«å…³ä¸Šï¼Œæ·±å¤œå¬æ­Œå¯¹æˆ‘æ¥è¯´åªä¼šåŠ æ·±å­¤ç‹¬æ„Ÿã€‚</p><p>è¿‡å»è¿™äº›å¹´ï¼Œæˆ‘ä¸€ç›´è®¤ä¸ºæˆ‘æ˜¯æ“…é•¿ç‹¬å±…ã€äº«å—å­¤ç‹¬çš„æ€§æ ¼ï¼Œè¿™ç§é”™è¯¯çš„è‡ªæˆ‘è®¤çŸ¥æœ€æ—©æºè‡ªé«˜ä¸­ä»å‘¨å›½å¹³çš„ã€Šå„è‡ªçš„æœåœ£è·¯ã€‹ä¸­æŠ„ä½œæ–‡çš„æ—¶å€™ã€‚é‚£æ—¶æˆ‘æ²‰æµ¸äºè¿™ç§è™šå‡çš„ã€ä¼¼æ˜¯è€Œéçš„è®¤çŸ¥ï¼Œç”šè‡³åœ¨äººé™…äº¤å¾€ä¸­æ•…æ„è¥é€ ä¸€äº›ç–ç¦»æ„Ÿï¼Œç°åœ¨å›æƒ³èµ·çœŸæ˜¯æ„Ÿåˆ°å¯ç¬‘å’Œå°´å°¬ã€‚æˆ–è®¸è¿™ä¹ˆå¤šå¹´ï¼Œæˆ‘ä»æœªçœŸæ­£ç‹¬å¤„è¿‡ï¼Œäº²äººåœ¨æ—ï¼Œæœ‹å‹åœ¨è¿‘ï¼Œçˆ±äººä»å¤§å­¦æ—¶ä¾¿ä»æœªåˆ†å¼€ï¼Œæˆ‘ä¹Ÿä»æœªçœŸæ­£æ„Ÿå—åˆ°ç‹¬å±…çš„å­¤ç‹¬æ„Ÿã€‚ç›´åˆ°è¿™æ®µç‹¬è‡ªåœ¨åŒ—äº¬çš„æ—¶é—´ï¼Œæˆ‘ç»ˆäºæ„Ÿè§‰äººçš„ç¤¾ç¾¤æ€§ï¼Œæˆ‘å¹¶ä¸å–œæ¬¢ä¸€ä¸ªäººåšä»»ä½•äº‹ï¼Œæˆ‘å¹¶ä¸äº«å—å­¤ç‹¬ã€‚ä»…ä»è¿™ä¸€ç‚¹çœ‹ï¼Œæˆ‘å°±å¾ˆéš¾è„±ç¦»æ­£å¸¸çš„ç¤¾ä¼šç¯å¢ƒï¼Œå¾ˆéš¾é€ƒç¦»ç°åœ¨çš„ç”Ÿæ´»ï¼Œæˆ‘åšä¸æˆç½‘ä¸Šæµä¼ çš„æ•°å­—ç§»æ°‘æˆ–æ˜¯ç‹¬ç«‹å·¥ä½œè€…ï¼Œé™¤éæœ‰äººé™ªæˆ‘ã€‚</p><p>æ¯å¤©æ™šä¸Šæˆ‘ä¼šçœ‹ä¸€ä¼šå„¿æ¸¸æˆç›´æ’­ï¼Œå¾ˆå¤§ç¨‹åº¦æ˜¯æƒ³å¬äººç£•å” ã€‚æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œäººç¡®å®åªæœ‰åœ¨ç‹¬å¤„çš„æ—¶å€™ï¼Œæ‰èƒ½çœŸæ­£çš„è®¤è¯†è‡ªå·±ã€‚</p><h1 id="äºŒ"><a href="#äºŒ" class="headerlink" title="äºŒ"></a>äºŒ</h1><p>7æœˆä¸Šï¼Œsteamå¤å­£ç‰¹å–ï¼Œè¯´å®è¯è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¤ä¿ƒä¹°æ¸¸æˆï¼Œä»¥å¾€æ²¡æ”¶å…¥èˆä¸å¾—ä¹°ï¼Œåªåœ¨æ˜¥èŠ‚å‰ä¿ƒé”€ä¹°äº†ä¸€äº›ä¾¿å®œå°æ¸¸æˆã€‚è¿™æ¬¡å…¥æ‰‹äº†å‘†åœ¨å¿ƒæ„¿å•å¾ˆä¹…çš„The Witcher 3å’Œå¤å‰‘å¥‡è°­ä¸‰ï¼Œå¦å¤–ä¸´æ—¶æƒ³ä¹°Red Dead Redempition 2ï¼Œè¿™æ˜¯ä¸ªæ„å¤–ï¼Œä½†æ˜¯çœŸçš„å¥½ç©ã€‚ä¸‹ç­åä¸€è¾¹çœ‹ç›´æ’­ï¼Œä¸€è¾¹ç©å¤§å«–å®¢ï¼Œéå¸¸å¾—åŠ²å„¿ã€‚å¤§å«–å®¢çš„æ•´ä½“ç±»å‹åº”è¯¥æ˜¯å‰§æƒ…å‘æ¸¸æˆï¼Œæ²¡æœ‰å¤ªéš¾çš„æ“ä½œï¼Œåœ¨ä¸»çº¿å‰§æƒ…çš„å¼•å¯¼ä¸‹å®Œæˆä¸€ä¸ªä¸ªä»»åŠ¡ï¼Œæ•çŒã€æ”¶å€ºã€å»ºè®¾è¥åœ°ç­‰ï¼Œç”»é¢æ²‰æµ¸æ„Ÿéå¸¸å¼ºï¼Œæˆ‘ç»ä¸æ„¿æ„åœ¨å‰§æƒ…è¿‡åœºåŠ¨ç”»ä¸­ç‚¹è·³è¿‡ã€‚ä½†æ˜¯å€¼å¾—ä¸€è¯´çš„æ˜¯ï¼Œå¤§å«–å®¢éå¸¸è‚ï¼Œè¿™ä¸æ˜¯è¯´éœ€è¦ä¸åœçš„åˆ·ä»»åŠ¡æ”¶é›†ææ–™ï¼Œæˆ‘å¯¹ä»»åŠ¡è¯„åˆ†å¹¶ä¸åœ¨æ„ï¼Œåªæ˜¯å¸¸å¸¸ä¼šç©çš„å¿˜äº†æ—¶é—´ï¼Œæœ‰æ—¶å‘¨æœ«æ™šä¸Šå¼€å§‹ï¼Œä¸çŸ¥ä¸è§‰å°±å¤©äº®äº†ã€‚è¿˜æœ‰è¿™æ¬¡ä¸€èµ·ä¹°çš„Hollow Knightï¼Œè™½ç„¶å‡ ä¸ªå¹³å°è¯„åˆ†å¾ˆé«˜ï¼Œä½†æ˜¯æˆ‘ç©è¿‡åæ²¡è§‰å¾—å¤ªå–œæ¬¢ï¼Œå¯¹äºè¿™ä¸€ç±»æ¨ªæ¿è¿‡å…³æ¸¸æˆï¼Œæˆ‘ä¸€ç›´æ›´å€¾å‘åœ¨çº¿è”æœºç±»å‹çš„ã€‚</p><h1 id="ä¸‰"><a href="#ä¸‰" class="headerlink" title="ä¸‰"></a>ä¸‰</h1><p>7æœˆä¸‹è¿™ä¸€å‘¨ï¼Œæˆ‘åˆå……äº†Bç«™ä¼šå‘˜ï¼Œèµ·å…ˆæ˜¯ä¸ºäº†è¿½ä¸‹Reå¼‚ç•Œå’Œåˆ€å‰‘ï¼Œæœ€åå´æ„å¤–çœ‹èµ·æå­æŸ’çš„è§†é¢‘ï¼Œå¹¶ä¸”ä¸€çœ‹å†çœ‹ï¼Œåˆ·äº†å¥¹æœ€è¿‘ä¸¤å¹´ä¸Šä¼ çš„è§†é¢‘ã€‚æˆ‘ä¸æƒ³ç»™å‡ºä»»ä½•è¯„ä»·ï¼Œåªè¯´æˆ‘å¾ˆç¾¡æ…•è¿™æ ·çš„ç”°å›­ç‰§æ­Œå¼ç”Ÿæ´»ï¼Œä½†æˆ‘åšä¸åˆ°ï¼Œæˆ‘å¾ˆæ¬£å–œä»Šå¤©ä»ç„¶æœ‰æå­æŸ’è¿™æ ·çš„äººåœ¨è¿™æ ·ç”Ÿæ´»ï¼Œå¹¶æ„¿æ„ç”¨ç¾å¥½çš„å½¢å¼å±•ç°ç»™ä¸­å›½å’Œä¸–ç•Œã€‚å¦å¤–è¯´ä¸€å¥çœ‹æå­æŸ’å¹²æ´»ï¼ŒçœŸçš„æ˜¯ä¸€ç§äº«å—ï¼Œçœ‹å¥¹å¹²å†œæ´»ã€åšæ‰‹å·¥ã€åšé¥­ï¼Œèƒ½æ„Ÿå—åˆ°ä¸€ç§è¡Œäº‘æµæ°´çš„ç¾æ„Ÿã€‚</p><h1 id="å››"><a href="#å››" class="headerlink" title="å››"></a>å››</h1><p>æˆ‘çœŸçš„éœ€è¦é”»ç‚¼äº†ï¼Œå‡å°‘é£Ÿé‡ï¼Œä½“é‡ä»é™ä¸ä¸‹æ¥ï¼Œæ²¡æœ‰è¿åŠ¨é‡ï¼Œä¸å†å¹´è½»ï¼Œæ–°é™ˆä»£è°¢ä¹Ÿè·Ÿä¸ä¸Šäº†ã€‚</p><hr><p>ç”Ÿæ´»è¿˜å¾—ç»§ç»­ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è½¬çœ¼å·²ç»ä¸€å¹´å¤šäº†ï¼Œä¸Šä¸€æ¬¡å†™æœˆåº¦reviewï¼Œè¿˜æ˜¯å»å¹´åˆšæ¯•ä¸šå·¥ä½œé‚£ä¼šå„¿ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ€»ç»“" scheme="https://foreti.me/blog/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>steamå®¢æˆ·ç«¯é¡µé¢å¾ªç¯åŠ è½½å¤±è´¥ä¿®å¤æ–¹æ³•</title>
    <link href="https://foreti.me/blog/2020/07/16/steam-load-error-fix/"/>
    <id>https://foreti.me/blog/2020/07/16/steam-load-error-fix/</id>
    <published>2020-07-15T16:00:00.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>é‡è£…steamå·®ç‚¹è®©æˆ‘ç©ä¸äº†å¤§å«–å®¢äº†ï¼ï¼ï¼</p><a id="more"></a><p>æœ€è¿‘é‡è£…äº†win10ç³»ç»Ÿï¼Œä¸‹è½½äº†steamåï¼Œå‘ç°é™¤äº†æ¸¸æˆåº“é¡µé¢èƒ½æ­£å¸¸åŠ è½½ï¼Œå…¶ä»–é¡µé¢éƒ½æ˜¯è¦ä¹ˆæ‰“ä¸å¼€ï¼Œè¦ä¹ˆæ‰“å¼€åæ˜¾ç¤º2ç§’å°±è‡ªåŠ¨è·³è½¬åˆ°é»‘å±ã€‚</p><p>æœäº†å¥½ä¹…çš„è§£å†³åŠæ³•ï¼Œè¯¸å¦‚ä¿®æ”¹hostsã€åˆ·æ–°æœ¬åœ°dnsç¼“å­˜ã€ä¿®æ”¹dnsæœåŠ¡å™¨ã€ä½¿ç”¨socksä»£ç†ã€ä½¿ç”¨proxifierä»£ç†æœ¬åœ°åº”ç”¨ï¼Œæ¸¸æˆåŠ é€Ÿå™¨ä¹Ÿè¯•äº†å‡ ä¸ªï¼Œçš†æ— æ•ˆï¼›<br>ç½‘ä¸Šæµä¼ çš„UseEAm Hosts Editorã€steamcommunity_302ç­‰å·¥å…·éƒ½è¯•è¿‡äº†ï¼Œçš†æ— æ•ˆã€‚</p><p>å°±åœ¨æˆ‘ä»¥ä¸ºæœ€è¿‘æœ‰å•¥å¤§äº‹steamå®Œå…¨è¢«å¢™ï¼Œå‡†å¤‡æ”¾å¼ƒçš„æ—¶å€™ï¼Œçªç„¶æƒ³å»è´´å§æ‰¾æ‰¾ç­”æ¡ˆã€‚ç„¶åå°±åœ¨steamå§æ‰¾åˆ°äº†å‡ ä¸ªå¸–å­ï¼Œå’Œæˆ‘çš„æƒ…å†µä¸€æ¨¡ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨7æœˆ15å·é‡æ–°ä¸‹è½½steamåå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢æœ‰å›å¤äº†è¿™ä¹ˆå‡ ä¸ªè§£å†³æ–¹æ³•ï¼š</p><p><img src="https://foreti.me/imgplace/2020/steam%20fix.iaflk4hk8o.jpg" alt="steam-fix"></p><p>åŠ é€Ÿå™¨è¯•è¿‡äº†æ— æ•ˆï¼Œè¯•äº†ç¬¬äºŒæ¡ï¼Œæ›´æ–°åˆ°steamæµ‹è¯•ç‰ˆï¼Œæˆ‘ç†Ÿæ‚‰çš„steamé¡µé¢åˆå›æ¥äº†ã€‚</p><hr><p>è™½ç„¶é—®é¢˜è§£å†³äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æƒ³æ˜ç™½steamå®¢æˆ·ç«¯æœ‰å•¥é—®é¢˜ã€‚æŒ‰ç†è¯´steamå®¢æˆ·ç«¯ä¹Ÿæ˜¯èµ°çš„httpåè®®ï¼Œæˆ‘çš„æœ¬åœ°ä»£ç†å®Œå…¨å¯ä»¥ç”Ÿæ•ˆæ‰å¯¹ï¼Œå¹¶ä¸”æˆ‘åœ¨æ­¤å‰ä¹Ÿåœ¨æµè§ˆå™¨æ‰“å¼€steamå®˜ç½‘å®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚ä¸çŸ¥æœ‰è°äº†è§£ç›¸å…³ä¿¡æ¯ï¼Œæ¬¢è¿è¯„è®ºå‘ŠçŸ¥ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é‡è£…steamå·®ç‚¹è®©æˆ‘ç©ä¸äº†å¤§å«–å®¢äº†ï¼ï¼ï¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="steam" scheme="https://foreti.me/blog/tags/steam/"/>
    
  </entry>
  
  <entry>
    <title>ç®€å•å®ç°ä¾èµ– MySQL çš„åˆ†å¸ƒå¼é”</title>
    <link href="https://foreti.me/blog/2019/05/27/simple-mysql-distributed-locks/"/>
    <id>https://foreti.me/blog/2019/05/27/simple-mysql-distributed-locks/</id>
    <published>2019-05-27T11:37:16.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>201905W21 Share</p><a id="more"></a><hr><p>åˆé‡åˆ°ä¸€ä¸ªä½¿ç”¨åˆ†å¸ƒå¼é”çš„æƒ…å†µï¼Œ ä½†æ˜¯æ²¡æœ‰ç”¨ Redis æˆ–è€… Zookeeperï¼Œ è€Œæ˜¯ç›´æ¥ä¾èµ– MySQL ç»™å®ç°äº†ã€‚</p><p>å…¶å®ç”¨ MySQL åšåˆ†å¸ƒå¼é”ä¸æ˜¯å¾ˆé€‚åˆï¼Œ ä½†æ˜¯åœ¨åŸç†ä¸Šéå¸¸å®¹æ˜“ç†è§£ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦åœ¨æ•°æ®åº“é‡Œåˆ›å»ºä¸€å¼ è¡¨ï¼Œ ç„¶åå¯¹è¿™ä¸ªè¡¨å†™æ•°æ®ï¼Œ å¤šä¸ªå®ä¾‹ä¸­ï¼Œ æˆåŠŸå†™å…¥çš„é‚£ä¸€ä¸ªï¼Œ ä¾¿æ‹¿åˆ°äº†é”ï¼Œ å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥é€»è¾‘ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä¸è€ƒè™‘ä»»ä½•çš„å¯é‡å…¥æ€§ã€ è¶…æ—¶ã€ é˜»å¡ç­‰ï¼Œ ä»…ä»…åŒºæ»¡è¶³åˆ†å¸ƒå¼é”çš„äº’æ–¥æ€§ï¼Œ å…¶ä»–çš„ç‰¹æ€§æˆ‘ä»¬å¯ä»¥åœ¨ä¸‹ä¸€æ¬¡æ¥å®ç°ã€‚</p><p>ä¸‹é¢å¼€å§‹æˆ‘ä»¬çš„å®ç°ï¼Œ ä½¿ç”¨ SpringBoot å’Œ MySQLã€‚</p><ol><li>é¦–å…ˆï¼Œ éœ€è¦åœ¨ maven å¼•å…¥ä¾èµ–</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»º Event çš„ model å’Œ dao</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Entity;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GenerationType;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Id;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span>(name = <span class="string">"event"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Event</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.AUTO)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Date startTime;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Date finishTime;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Event <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Event <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getStartTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> startTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Event <span class="title">setStartTime</span><span class="params">(Date startTime)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.startTime = startTime;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getFinishTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> finishTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Event <span class="title">setFinishTime</span><span class="params">(Date finishTime)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.finishTime = finishTime;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> indi.yanss.dls.model.Event;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EventRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Event</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">Event <span class="title">findByName</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>åˆ›å»ºé”çš„è·å–å’Œé‡Šæ”¾æ–¹æ³•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> indi.yanss.dls.model.Event;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EventLock</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EventRepository eventRepository;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Event <span class="title">acquire</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        Event event = eventRepository.findByName(name);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (event == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰äº‹ä»¶ï¼Œæ³¨å†Œ</span></span><br><span class="line">            event = <span class="keyword">new</span> Event().setName(name).setStartTime(<span class="keyword">new</span> Date());</span><br><span class="line">            eventRepository.save(event);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getFinishTime() == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// äº‹ä»¶åœ¨è¿è¡Œ</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Lock has been acquired."</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getFinishTime().before(<span class="keyword">new</span> Date())) &#123;</span><br><span class="line">            <span class="comment">// ä¸Šä¸€ä¸ªäº‹ä»¶å·²ç»å®Œæˆï¼Œå¼€å§‹æ–°äº‹ä»¶</span></span><br><span class="line">            <span class="keyword">int</span> id = event.getId();</span><br><span class="line">            event = <span class="keyword">new</span> Event().setId(id).setName(name).setStartTime(<span class="keyword">new</span> Date());</span><br><span class="line">            eventRepository.save(event);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> event;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(Event event)</span> </span>&#123;</span><br><span class="line">        eventRepository.save(event.setFinishTime(<span class="keyword">new</span> Date()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>åˆ›å»º Schedule ä»»åŠ¡</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> indi.yanss.dls.model.Event;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EventLock</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EventRepository eventRepository;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Event <span class="title">acquire</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        Event event = eventRepository.findByName(name);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (event == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰äº‹ä»¶ï¼Œæ³¨å†Œ</span></span><br><span class="line">            event = <span class="keyword">new</span> Event().setName(name).setStartTime(<span class="keyword">new</span> Date());</span><br><span class="line">            eventRepository.save(event);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getFinishTime() == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// äº‹ä»¶åœ¨è¿è¡Œ</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Lock has been acquired."</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getFinishTime().before(<span class="keyword">new</span> Date())) &#123;</span><br><span class="line">            <span class="comment">// ä¸Šä¸€ä¸ªäº‹ä»¶å·²ç»å®Œæˆï¼Œå¼€å§‹æ–°äº‹ä»¶</span></span><br><span class="line">            <span class="keyword">int</span> id = event.getId();</span><br><span class="line">            event = <span class="keyword">new</span> Event().setId(id).setName(name).setStartTime(<span class="keyword">new</span> Date());</span><br><span class="line">            eventRepository.save(event);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> event;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(Event event)</span> </span>&#123;</span><br><span class="line">        eventRepository.save(event.setFinishTime(<span class="keyword">new</span> Date()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li>å¯åŠ¨ MySQLï¼Œ é…ç½®è¿æ¥ã€‚ è¿™é‡Œä¸ç”¨æ‰‹åŠ¨åˆ›å»ºè¡¨ï¼Œ JPA ä¼šåœ¨å®ä¾‹å¯åŠ¨æ—¶è‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºå’Œ Event model å¯¹åº”çš„è¡¨ã€‚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># éœ€è¦å¯åŠ¨mysqlï¼Œ åˆ›å»ºæ•°æ®åº“demo</span><br><span class="line">spring.datasource.url = jdbc:mysql://localhost:3306/demo</span><br><span class="line">    spring.datasource.username = root</span><br><span class="line">spring.datasource.password = 123456</span><br></pre></td></tr></table></figure><ol start="6"><li>å¯åŠ¨å¤šä¸ªå®ä¾‹ï¼Œ ç”¨ä¸åŒç«¯å£å³å¯ã€‚</li></ol><p><img src="https://foreti.me/imgplace/2019/image.4orwrpw8u3o.png" alt="å¤šå®ä¾‹é…ç½®"></p><ol start="7"><li>Doneï¼ è§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºå§ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;201905W21 Share&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>TODO with Mac Menubar</title>
    <link href="https://foreti.me/blog/2019/05/17/bitbar-with-todo/"/>
    <id>https://foreti.me/blog/2019/05/17/bitbar-with-todo/</id>
    <published>2019-05-17T12:18:43.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>BitBar ä½¿æˆ‘å·¥ä½œæ›´å¿«ä¹ï¼</p><a id="more"></a><hr><p>æœ€è¿‘è§‰å¾—æ¯å¤©çš„è®¡åˆ’æ€»æ˜¯å®Œä¸æˆï¼Œæ˜æ˜ä¹Ÿä¸å¤šï¼Œä½†æ˜¯å¾ˆå®¹æ˜“è¢«å…¶ä»–äº‹æƒ…å¹²æ‰°ã€‚æˆ‘ä¸€ç›´ä¸å–œæ¬¢ç”¨æ—¥ç¨‹è¡¨æ¥æ’æ¯å¤©çš„äº‹æƒ…ï¼Œä½†æˆ‘å¾ˆå–œæ¬¢ç»™è‡ªå·±åˆ¶å®šä¸€ä¸ª TODO åˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨åŒ…å«äº†çŸ­æœŸå†…è¦åšçš„äº‹æƒ…ï¼Œä½†ä¸é™äºæŸä¸€å¤©æˆ–è€…æŸä¸€ä¸ªå°æ—¶ï¼Œä¸è‡³äºå¤ªç»†è‡´ï¼Œè®©è‡ªå·±ç»å¸¸ä¸èƒ½æŒ‰æ—¶å®Œæˆï¼Œè·å¾—è¿‡å¤šçš„æŒ«è´¥æ„Ÿã€‚</p><p>æˆ‘å¸Œæœ›çš„å±•ç°å½¢å¼æ˜¯åœ¨ç”µè„‘æ¡Œé¢ä¸Šæ—¶åˆ»å¯ä»¥çœ‹åˆ°çš„ï¼Œè¿™æ ·çš„è¯ï¼Œå°±ä¸èƒ½ç”¨å„ç§æµè¡Œçš„ GTD å·¥å…·ã€‚åƒ OmniFocusã€Microsoft To-Doç­‰ï¼Œéƒ½éœ€è¦å…ˆæ‰“å¼€å†ç¡®è®¤çš„è¿‡ç¨‹ã€‚</p><p>åƒæ¡Œé¢ä¾¿ç­¾ä¹Ÿä¸å¤ªå¥½ï¼Œå› ä¸ºå¹³æ—¶æ˜¯æ‰“å¼€äº†ä¸åŒçš„åº”ç”¨é“ºæ»¡äº†æ¡Œé¢ã€‚</p><p>äºæ˜¯æƒ³åˆ°äº†èœå•æ ä¸Šå¯ä»¥åšç‚¹äº‹æƒ…ã€‚</p><p>æ‰¾äº†ä¸€åœˆï¼ŒMacå¹³å°ä¸Šçš„ TODO in menubar çš„åº”ç”¨è¿˜ä¸å°‘ï¼Œæœ€åˆå¿ƒæ„çš„æ˜¯ <a href="https://www.mactodo.app/?ref=producthunt" target="_blank" rel="noopener">TODO Menubar</a>ã€‚<br><img src="https://foreti.me/imgplace/2019/20190517153927.png" alt="TODO Menubar"><br>ä½†æ˜¯å®ƒæ”¶è´¹â€¦</p><p>è¿˜æœ‰ä¸€ä¸ª<a href="https://itunes.apple.com/us/app/doo-get-things-done/id1066322956?mt=8" target="_blank" rel="noopener">Doo</a>ï¼Œä¹Ÿæ”¶è´¹ï¼Œè€Œä¸”å¤ªèŠ±å“¨äº†ï¼Œå¥½çœ‹ä½†ä¸ç›´è§‚ã€‚<br><img src="https://foreti.me/imgplace/2019/20190517160402.png" alt></p><p>åœ¨ Github ä¸Šä¹Ÿæœåˆ°äº†ä¸€ä¸ª<a href="https://github.com/Praseetha-KR/postit-todo" target="_blank" rel="noopener">postit-todo</a>ï¼Œä¸é”™ä½†æ˜¯ç”¨èµ·æ¥å¤ªå¡ï¼Œè€Œä¸”å…³é—­åé‡æ–°æ‰“å¼€åŠ è½½æ•°æ®å¾ˆæ…¢ã€‚<br><img src="https://foreti.me/imgplace/2019/20190517160158.png" alt></p><p>æœ€åï¼Œåœ¨ AppSo çš„ä¸€ç¯‡æ¨ TODO Menubar çš„æ–‡ç« è¯„è®ºé‡Œçœ‹åˆ°äº† <a href="https://getbitbar.com/" target="_blank" rel="noopener">BitBar</a>ã€‚</p><p>BitBar æ˜¯ä¸€ä¸ªå¯ä»¥ç¼–å†™è„šæœ¬ï¼Œå°†ä½ èƒ½æƒ³åˆ°çš„ä»»ä½•ä¿¡æ¯ï¼Œæ”¾åˆ° menubar é‡Œæ˜¾ç¤ºã€‚</p><p>æˆ‘ç›´æ¥åœ¨ homebrew ä¸‹è½½äº† BitBarï¼Œ<code>brew cask install bitbar</code>ï¼Œå¹¶ä¸”åœ¨å®ƒçš„æ’ä»¶å¸‚åœºé‡Œæ‰¾äº†ä¸€ä¸ª TODO çš„<a href="https://raw.githubusercontent.com/matryer/bitbar-plugins/master/Tools/todolist.2m.sh" target="_blank" rel="noopener">è„šæœ¬</a>ã€‚è¿™ä¸ªè„šæœ¬å®ç°çš„æ˜¯åœ¨ Mac çš„åŸç”Ÿ Reminder åº”ç”¨é‡ŒæŒ‡å®šä¸€ä¸ªæé†’åˆ—è¡¨ï¼Œå°†è¿™ä¸ªåˆ—è¡¨é‡Œçš„æé†’äº‹é¡¹æ”¾åˆ°èœå•æ æ˜¾ç¤ºï¼Œå¹¶ä¸”åªæ˜¾ç¤ºç¬¬ä¸€ä¸ªï¼Œåœ¨èœå•æ ç‚¹å‡»è¿™ä¸ªæé†’äº‹é¡¹ï¼Œå¯ä»¥å°†å®ƒåœ¨ Reminder é‡Œæ ‡è®°ä¸ºå®Œæˆã€‚è§‰å¾—è¿™ä¸ªè„šæœ¬åŠŸèƒ½æœ‰ç‚¹å¼±ï¼Œè¿˜å·®ç‚¹æˆ‘è¦çš„ä¸œè¥¿ã€‚</p><p>é¡ºç€è¿™ä¸ªè„šæœ¬çš„æ€è·¯ï¼Œè¾¹æŸ¥ AppleScript çš„è¯­æ³•è¾¹ä¿®æ”¹ï¼Œæœ€åæ”¹æˆäº†æˆ‘è¦çš„æ ·å­ï¼Œå’Œ TODO Menubar æœ‰ç‚¹åƒã€‚èœå•æ æ˜¾ç¤ºå®Œæˆæƒ…å†µï¼Œå­èœå•æ˜¾ç¤ºå…·ä½“çš„ TODOï¼Œç‚¹å‡» TODO å¯ä»¥æ ‡è®°ä¸ºå®Œæˆã€‚</p><p>åˆ›å»ºè„šæœ¬æ–‡ä»¶<code>todo.2m.sh</code>ï¼Œ2mè¡¨ç¤ºè¿™ä¸ªè„šæœ¬2mæ‰§è¡Œä¸€æ¬¡ï¼Œè¿™æ˜¯bitbaræä¾›çš„åŠŸèƒ½ï¼›</p><p>è„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">TODO="Todo" # your todo list name in reminder</span><br><span class="line">ARCHIVE="Archive" # your archive list name in reminder</span><br><span class="line"></span><br><span class="line">reminder=$(osascript -e "tell application \"Reminders\"</span><br><span class="line">set activeReminders to (reminders of list \"$TODO\" whose completed is true)</span><br><span class="line">set numOfActiveReminders to (count of activeReminders)</span><br><span class="line">set allReminders to (reminders of list \"$TODO\")</span><br><span class="line">set numOfAllReminders to (count of allReminders)</span><br><span class="line">set result to ((numOfActiveReminders as string) &amp; \"/\" &amp; numOfAllReminders as string)</span><br><span class="line">return result</span><br><span class="line">end tell")</span><br><span class="line"></span><br><span class="line">todolist=$(osascript -e "tell application \"Reminders\"</span><br><span class="line">set todos to (reminders of list \"$TODO\" whose completed is false)</span><br><span class="line">set newlist to &#123;&#125;</span><br><span class="line">repeat with todo in todos</span><br><span class="line">copy (name of todo as text) to the end of the newlist</span><br><span class="line">end repeat</span><br><span class="line">return newlist</span><br><span class="line">end tell")</span><br><span class="line"></span><br><span class="line">todolist=$&#123;todolist// /#holder&#125; # åˆ é™¤ç©ºæ ¼</span><br><span class="line">todolist=$&#123;todolist//,/ &#125; # è½¬æ¢ AppleScript çš„ list ä¸º shell çš„ list æ ¼å¼</span><br><span class="line"></span><br><span class="line">if [ "$1" = "done" ]; then</span><br><span class="line">osascript -e "tell application \"Reminders\"</span><br><span class="line">set activeReminders to (reminders of list \"$TODO\" whose completed is false)</span><br><span class="line">repeat with todo in activeReminders</span><br><span class="line">if (name of todo as text) is equal to \"$2\" then</span><br><span class="line">tell todo</span><br><span class="line">set completed to true</span><br><span class="line">end tell</span><br><span class="line">end if</span><br><span class="line">end repeat</span><br><span class="line">end tell"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ "$1" = "open" ]; then</span><br><span class="line">osascript -e 'tell application "Reminders" to activate'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ "$1" = "archive" ]; then</span><br><span class="line">osascript -e "tell application \"Reminders\"</span><br><span class="line">    set output to \"\"</span><br><span class="line">    set newList to list \"$ARCHIVE\"</span><br><span class="line">    show newList</span><br><span class="line">    repeat with thisReminder in (get reminders in list \"$TODO\" whose completed is true)</span><br><span class="line">        set nameObj to name of thisReminder</span><br><span class="line">        move thisReminder to newList</span><br><span class="line">    end repeat</span><br><span class="line">    return output</span><br><span class="line">end tell"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo "âœ”ï¸ $reminder"</span><br><span class="line">echo "---"</span><br><span class="line">echo "âš™ï¸ Open Reminder| bash='$0' param1='open' terminal=false"</span><br><span class="line">echo "---"</span><br><span class="line">for loop in $todolist</span><br><span class="line">do</span><br><span class="line">echo "$&#123;loop//#holder/ &#125;| bash='$0' param1='done' param2='$&#123;loop//#holder/ &#125;' terminal=false refresh=true"</span><br><span class="line">done | sort</span><br><span class="line">echo "---"</span><br><span class="line">echo "â†» Refresh| terminal=false refresh=true"</span><br><span class="line">echo "---"</span><br><span class="line">echo "â™º Archive| bash='$0' param1='archive' terminal=false refresh=true"</span><br></pre></td></tr></table></figure><blockquote><p>2020-09-27 update: ç”±äºæ‰‹åŠ¨ç§»åŠ¨ todo åˆ° Archive æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥å¢åŠ äº† archive åŠŸèƒ½ã€‚<br>2020-09-28 update: ç”±äºå»æ‰ todo çš„ç©ºæ ¼ï¼Œä¼šå¯¼è‡´ç‚¹å‡»è¯¥ todo æ— æ³•åœ¨ reminder ä¸­è‡ªåŠ¨å‹¾é€‰å®Œæˆï¼Œæ‰€ä»¥åœ¨è„šæœ¬å†…éƒ¨åšäº†ä¼˜åŒ–ï¼Œä» reminder ä¸­è¯»å–åˆ—è¡¨æ—¶ï¼Œå°†ç©ºæ ¼è½¬ä¸ºä¸€ä¸ªå ä½ç¬¦ï¼Œç„¶ååœ¨ menubar ä¸­å±•ç¤ºæ—¶ï¼Œå°†å ä½ç¬¦è¿˜åŸä¸ºç©ºæ ¼ã€‚</p></blockquote><p>æ•ˆæœå›¾ï¼š</p><p><img src="https://foreti.me/imgplace/2019/20190523204949.png" alt></p><p>å¯¹åº”åœ¨ Reminder ä¸­çš„ä»»åŠ¡åˆ—è¡¨</p><p><img src="https://foreti.me/imgplace/2019/20190523150457.png" alt></p><p>(å·²ä¼˜åŒ–)<del>å¦‚æœä½ ç»†å¿ƒç‚¹ï¼Œå¯ä»¥å‘ç°ç¬¬ 3 æ¡ todoï¼Œ<code>æäº¤ commit</code> åœ¨èœå•æ ä¸­å˜æˆäº† <code>æäº¤commit</code>ï¼Œè¿™æ˜¯ç”±äº shell ä¸­çš„æ•°ç»„å…ƒç´ ä»¥ç©ºæ ¼åŒºåˆ†ï¼Œä¸ºäº†é¿å…1 ä¸ª todo æ˜¾ç¤ºåœ¨ä¸¤è¡Œï¼Œæˆ‘å°†æ¯ä¸ª todo ä¸­çš„ç©ºæ ¼éƒ½å»æ‰äº†ã€‚</del></p><p><del>è¿™æ ·ï¼Œæ¯å¤©åªç”¨ç»´æŠ¤è‡ªå·±çš„ Reminder çš„ä»»åŠ¡åˆ—è¡¨å°±è¡Œäº†ã€‚å¦‚æœå¾ˆå¤šå¤©è¿‡å»ï¼Œä»»åŠ¡æ€»æ•°å¤ªå¤šï¼Œå¯ä»¥å†åˆ›å»ºä¸€ä¸ª Archive æé†’åˆ—è¡¨ï¼Œå°†è¿‡å»å®Œæˆçš„ä»»åŠ¡éƒ½ç§»åŠ¨åˆ°é‡Œé¢ã€‚</del></p><p>å¿«ä¹çš„å†™ TODO å§ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;BitBar ä½¿æˆ‘å·¥ä½œæ›´å¿«ä¹ï¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="Tool" scheme="https://foreti.me/blog/tags/Tool/"/>
    
  </entry>
  
  <entry>
    <title>å€¾æ–œäººç”Ÿ - 1</title>
    <link href="https://foreti.me/blog/2019/05/15/tip1/"/>
    <id>https://foreti.me/blog/2019/05/15/tip1/</id>
    <published>2019-05-15T14:15:05.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>201905W20 Tip</p><a id="more"></a><hr><h2 id="Hexo-tag-shortcut-in-hollow"><a href="#Hexo-tag-shortcut-in-hollow" class="headerlink" title="Hexo tag shortcut in hollow"></a>Hexo tag shortcut in hollow</h2><p>éªŒè¯ Hexo çš„å†…ç½®æ ‡ç­¾åœ¨ hollow ä¸­å¯ä½¿ç”¨çš„éƒ¨åˆ†ã€‚</p><h3 id="Block-Quote"><a href="#Block-Quote" class="headerlink" title="Block Quote"></a>Block Quote</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% blockquote David Levithan, Wide Awake %&#125;</span><br><span class="line">Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</span><br><span class="line">&#123;% endblockquote %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p><footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote><h3 id="Code-Block"><a href="#Code-Block" class="headerlink" title="Code Block"></a>Code Block</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% codeblock _.compact http://underscorejs.org/#compact Underscore.js %&#125;</span><br><span class="line">_.compact([0, 1, false, 2, &apos;&apos;, 3]);</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&#123;% endcodeblock %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>_.compact</span><a href="http://underscorejs.org/#compact" target="_blank" rel="noopener">Underscore.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_.compact([0, 1, false, 2, &apos;&apos;, 3]);</span><br><span class="line">=&gt; [1, 2, 3]</span><br></pre></td></tr></table></figure><h3 id="YouTube"><a href="#YouTube" class="headerlink" title="YouTube"></a>YouTube</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% youtube video_id %&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="Mysql-å‘½ä»¤"><a href="#Mysql-å‘½ä»¤" class="headerlink" title="Mysql å‘½ä»¤"></a>Mysql å‘½ä»¤</h2><p>æŸ¥è¯¢æ•°æ®åº“ç¼–ç æ–¹å¼ï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'character%'</span>;</span><br></pre></td></tr></table></figure></p><p>å°†æŸ¥è¯¢è¯­å¥ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h127.0.0.1 -P3306 -uroot -Ddatabases -p -e <span class="string">"select * from table"</span> &gt; file</span><br></pre></td></tr></table></figure></p><hr><h2 id="å°†-bash-æ¢æˆ-zsh-amp-oh-my-zsh"><a href="#å°†-bash-æ¢æˆ-zsh-amp-oh-my-zsh" class="headerlink" title="å°† bash æ¢æˆ zsh &amp; oh my zsh"></a>å°† bash æ¢æˆ zsh &amp; oh my zsh</h2><p>ä¸€æ—¦ä½ ä½¿ç”¨äº† zsh å’Œ oh my zshï¼Œä½ å°±å¾ˆéš¾æ¢å› bash äº†ã€‚</p><p>å¦‚ä½•åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ zsh å’Œ oh my zshï¼Ÿ</p><p><strong>ç¬¬ä¸€æ­¥ï¼š</strong></p><p>ä»¥ Ubuntu ä¸ºä¾‹ï¼Œé¦–å…ˆå®‰è£… zshã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install zsh</span><br></pre></td></tr></table></figure></p><p>ç„¶åå°†é»˜è®¤ Shell è®¾ç½®ä¸º zshï¼Œæœ‰å¯èƒ½è·¯å¾„æ˜¯ <code>/bin/zsh</code><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /usr/bin/zsh</span><br></pre></td></tr></table></figure></p><p>æ£€æŸ¥ã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure></p><p>ç¬¬äºŒæ­¥ï¼š</p><p>å®‰è£… oh my zshã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></span><br></pre></td></tr></table></figure></p><p>ç¬¬ä¸‰æ­¥ï¼š</p><p>é…ç½®æ’ä»¶ï¼Œå‘½ä»¤æç¤ºå’Œé«˜äº®<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹ <code>vim .zshrc</code>ï¼Œæ‰¾åˆ° <code>plugins=(git)</code> æ”¹ä¸º <code>plugins=(git zsh-autosuggestions zsh-syntax-highlighting)</code></p><p>å¹¶ä¿®æ”¹ä¸»é¢˜ä¸º <code>ZSH_THEME=&quot;agnoster&quot;</code>ã€‚</p><p>ç„¶åé€€å‡ºä¿å­˜ã€‚</p><p>è¿™ä¸ªä¸»é¢˜çš„è·¯å¾„å‰ç¼€å¤ªé•¿ï¼Œç¼–è¾‘<code>~/.oh-my-zsh/themes/agnoster.zsh-theme</code>ï¼Œå°† <code>build_prompt</code> ä¸‹çš„ <code>prompt_context</code> æ³¨é‡Šæ‰ã€‚</p><p>æœ€å<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .zshrc</span><br></pre></td></tr></table></figure></p><p>å¦‚æœè¿™æ—¶å€™å‘ç°æ˜¾ç¤ºæœ‰äº›ä¹±ç ï¼Œå¯ä»¥æ¢ä¸€ä¸‹å­—ä½“ï¼Œå¦‚æœæ²¡æœ‰å¯ç”¨çš„å­—ä½“ï¼Œå¯ä»¥å®‰è£…powerlineçš„å­—ä½“ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/powerline/fonts.git</span><br><span class="line">cd fonts</span><br><span class="line">./install.sh</span><br></pre></td></tr></table></figure></p><p>é‡è¿ä¸€ä¸‹æœåŠ¡å™¨ï¼Œæ‰“å¼€æ–°ä¸–ç•Œã€‚</p><hr><h2 id="å°è±¡ç¬”è®°-Markdown-æ”¯æŒä»€ä¹ˆå¿«æ·é”®ï¼Ÿ"><a href="#å°è±¡ç¬”è®°-Markdown-æ”¯æŒä»€ä¹ˆå¿«æ·é”®ï¼Ÿ" class="headerlink" title="å°è±¡ç¬”è®° Markdown æ”¯æŒä»€ä¹ˆå¿«æ·é”®ï¼Ÿ"></a>å°è±¡ç¬”è®° Markdown æ”¯æŒä»€ä¹ˆå¿«æ·é”®ï¼Ÿ</h2><p><strong>Mac ç«¯</strong></p><table><thead><tr><th>Command</th><th>Shortcut</th></tr></thead><tbody><tr><td>æ–°å»º Markdown ç¬”è®°</td><td>CMD+D</td></tr><tr><td>ç²—ä½“</td><td>CMD+B</td></tr><tr><td>æ–œä½“</td><td>CMD+I</td></tr><tr><td>åˆ é™¤çº¿</td><td>CMD+S</td></tr><tr><td>åˆ†éš”çº¿</td><td>CMD+L</td></tr><tr><td>ç¼–å·åˆ—è¡¨</td><td>CMD+Shift+O</td></tr><tr><td>é¡¹ç›®ç¬¦å·åˆ—è¡¨</td><td>CMD+Shift+U</td></tr><tr><td>æ’å…¥å¾…åŠäº‹é¡¹</td><td>CMD+Shift+T</td></tr><tr><td>ä»£ç å—</td><td>CMD+Shift+P</td></tr><tr><td>æ’¤é”€</td><td>CMD+Z</td></tr><tr><td>åœ¨ç¬”è®°å†…æœç´¢</td><td>CMD+F</td></tr></tbody></table><p><strong>Windows ç«¯</strong></p><table><thead><tr><th>Command</th><th>Shortcut</th></tr></thead><tbody><tr><td>æ–°å»º Markdown ç¬”è®°</td><td>Ctrl+Alt+D</td></tr><tr><td>ç²—ä½“</td><td>Ctrl+B</td></tr><tr><td>æ–œä½“</td><td>Ctrl+I</td></tr><tr><td>åˆ é™¤çº¿</td><td>Ctrl+T</td></tr><tr><td>ä¸‹åˆ’çº¿</td><td>Ctrl+U</td></tr><tr><td>åˆ†éš”çº¿</td><td>Ctrl + Shift + -</td></tr><tr><td>ç¼–å·åˆ—è¡¨</td><td>Ctrl + Shift + O</td></tr><tr><td>é¡¹ç›®ç¬¦å·åˆ—è¡¨</td><td>Ctrl + Shift + W</td></tr><tr><td>æ’å…¥å¾…åŠäº‹é¡¹</td><td>Ctrl + Shift + C</td></tr><tr><td>ä»£ç å—</td><td>Ctrl+Shift+L</td></tr><tr><td>æ’å…¥æ—¥æœŸå’Œæ—¶é—´</td><td>Alt + Shift + D</td></tr><tr><td>æ’¤é”€</td><td>Ctrl+Z</td></tr><tr><td>åœ¨ç¬”è®°å†…æœç´¢</td><td>Ctrl+F</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;201905W20 Tip&lt;/p&gt;
    
    </summary>
    
    
      <category term="tip" scheme="https://foreti.me/blog/tags/tip/"/>
    
  </entry>
  
  <entry>
    <title>å€¾æ–œäººç”Ÿ - 0</title>
    <link href="https://foreti.me/blog/2019/05/07/tip0/"/>
    <id>https://foreti.me/blog/2019/05/07/tip0/</id>
    <published>2019-05-06T16:15:05.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>201905W19 Tip</p><a id="more"></a><hr><p>åœ¨ ARTS ç³»åˆ—ä¸­ï¼Œé™¤äº† Algorithmå¤–ï¼ŒTip ä¼¼ä¹ä¹Ÿä¸å¤§å¥½ä½œä¸ºåšå®¢çš„å½¢å¼æ¥å±•ç°ã€‚ä½†æ˜¯ Leetcode é¢˜è§£è¿˜èƒ½å‘åˆ° Github repo ä¸­ä½œä¸ºè®°å½•ï¼ŒTip è¯¥æ€ä¹ˆåŠï¼Ÿ<br>äºæ˜¯æƒ³æŠŠæ‰€æœ‰çš„ Tip ä½œä¸ºä¸€ä¸ªç³»åˆ—å‘å‡ºï¼Œå ã€Œå€¾æ–œäººç”Ÿã€ï¼Œå–è‡ª â€œtipâ€ çš„ã€Œå€¾æ–œã€ä¹‹æ„ã€‚</p><hr><h2 id="ä¸‹è½½æœåŠ¡å™¨æ–‡ä»¶"><a href="#ä¸‹è½½æœåŠ¡å™¨æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æœåŠ¡å™¨æ–‡ä»¶"></a>ä¸‹è½½æœåŠ¡å™¨æ–‡ä»¶</h2><p>ä¸€èˆ¬åœ¨è‡ªå·±æœåŠ¡å™¨ä¸Šä¼ ä¸‹è½½æ–‡ä»¶ï¼Œç›´æ¥ç”¨ <code>rz</code> <code>sz</code> æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†æ˜¯æ–‡ä»¶è¾ƒå¤§æ—¶ï¼Œé€Ÿåº¦è¾ƒæ…¢è€Œä¸”å®¹æ˜“å¤±è´¥ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨ Python å¯åŠ¨ç®€å•çš„æ–‡ä»¶æœåŠ¡ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2</span></span><br><span class="line">python -m SimpleHTTPServer 8080</span><br><span class="line"></span><br><span class="line"><span class="comment"># python3</span></span><br><span class="line">python3 -m http.server 8080</span><br></pre></td></tr></table></figure></p><p>è€Œä¸” SimpleHTTPServer æœåŠ¡æœ‰ä¸ªå¥½å¤„æ˜¯å¯ä»¥ç”¨åœ¨æš‚æ—¶éœ€è¦ç»™å…¶ä»–äººä¸€ä¸ªæ–‡ä»¶ä¸‹è½½ï¼Œä½†åˆä¸æƒ³ç»™å‡ºç™»å½•æƒé™çš„åœºæ™¯ã€‚</p><p>å¦‚æœéœ€è¦ä¸Šä¼ æ–‡ä»¶ï¼Œå¯ä»¥ä¸‹è½½è¿è¡Œè¿™ä¸ª <a href="https://gist.githubusercontent.com/fakeYanss/22ab76030c0633835440e86b5b37b572/raw/8765e34ffe1a981b7d7911bdc17380bb85356f39/SimpleHTTPServerWithUpload.py" target="_blank" rel="noopener">Python æ–‡ä»¶</a><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://gist.githubusercontent.com/fakeYanss/22ab76030c0633835440e86b5b37b572/raw/8765e34ffe1a981b7d7911bdc17380bb85356f39/SimpleHTTPServerWithUpload.py -O</span><br><span class="line">python SimpleHTTPServerWithUpload.py 8080</span><br></pre></td></tr></table></figure></p><hr><h2 id="Linux-æ–‡ä»¶å†…å®¹æŸ¥è¯¢ç»Ÿè®¡"><a href="#Linux-æ–‡ä»¶å†…å®¹æŸ¥è¯¢ç»Ÿè®¡" class="headerlink" title="Linux æ–‡ä»¶å†…å®¹æŸ¥è¯¢ç»Ÿè®¡"></a>Linux æ–‡ä»¶å†…å®¹æŸ¥è¯¢ç»Ÿè®¡</h2><p>æœ€è¿‘é‡åˆ°çš„ä¸€ä¸ªäº‹å„¿ï¼Œéœ€è¦åœ¨ä¸€å †æ—¥å¿—æ–‡ä»¶ä¸­ç»Ÿè®¡å‡ºåŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„è¡Œå†…å®¹ã€‚é¦–å…ˆæ—¥å¿—æ–‡ä»¶æ˜¯æŒ‰å¤©å­˜å‚¨çš„ï¼Œæ¯å¤©çš„æ—¥å¿—æ–‡ä»¶ä¼šæŒ‰ 50MB å¤§å°è¿›è¡Œåˆ†å‰²ï¼Œè¿™æ ·åˆ†ä¸‹æ¥ï¼Œä¸€å¤©çš„æ—¥å¿—æ–‡ä»¶æœ‰ 2000 è‡³ 3000 ä¸ªï¼Œæ€»å…± 100+GBã€‚</p><p>debug çº§åˆ«çš„æ—¥å¿—å­˜æ”¾è·¯å¾„åœ¨ <code>/home/user/project/log/debug/</code> ä¸‹ï¼Œæˆ‘ä»¬å…ˆè¿›å…¥è¿™ä¸ªè·¯å¾„ä¸‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/user/project/<span class="built_in">log</span>/debug/peoject-name.debug.log-2019-05-05</span><br></pre></td></tr></table></figure></p><p>ä¸‹é¢æ˜¯ 2000+ ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ <code>ls</code> ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2019-05-05.1000.debug.log  2019-05-05.2000.debug.log  2019-05-05.3000.debug.log</span><br><span class="line">2019-05-05.1001.debug.log  2019-05-05.2001.debug.log  2019-05-05.3001.debug.log</span><br><span class="line">......</span><br></pre></td></tr></table></figure></p><p>éœ€è¦æ‰¾åˆ°è¿™ä¸€å¤©çš„æ—¥å¿—é‡Œï¼Œå…³äº <code>[aaaa]bbbb</code> ç›¸å…³çš„å†…å®¹ï¼Œäºæ˜¯åœ¨å½“å‰ç›®å½•è¾“å…¥ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name <span class="string">'*.log'</span> | xargs grep <span class="string">'\[aaaa\]bbbb'</span></span><br></pre></td></tr></table></figure></p><p>ç”±äºæ–‡ä»¶å¤ªå¤šï¼Œç­‰äº†ä¸€ä¼šæ‰æœ‰äº†è¾“å‡ºï¼Œç¡®è®¤å¯ä»¥æŸ¥åˆ°ç›¸å…³ä¿¡æ¯ï¼Œäºæ˜¯å°†è¾“å‡ºä¿¡æ¯å­˜åˆ°æ–‡ä»¶é‡Œï¼Œæ‹…å¿ƒè¾“å‡ºçš„æ–‡ä»¶å¤ªå¤§ï¼Œå°†æŸ¥è¯¢å‘½ä»¤åˆ†æ‰¹æ‰§è¡Œï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir /home/user/project/tmp</span><br><span class="line">find -name <span class="string">'2019-05-05.1*'</span> | xargs grep <span class="string">'\[aaaa\]bbbb'</span> &gt; /home/user/project/tmp/res-1.log</span><br><span class="line">find -name <span class="string">'2019-05-05.2*'</span> | xargs grep <span class="string">'\[aaaa\]bbbb'</span> &gt; /home/user/project/tmp/res-2.log</span><br><span class="line">find -name <span class="string">'2019-05-05.3*'</span> | xargs grep <span class="string">'\[aaaa\]bbbb'</span> &gt; /home/user/project/tmp/res-3.log</span><br></pre></td></tr></table></figure></p><p>ç­‰å¾…æ—¶é—´è¾ƒé•¿ï¼Œæœ€åæŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶ï¼Œ<code>ll /home/user/project/tmp</code>ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-rw-rw-r-- 1 user user 20944335 May  5 14:08 res-1.log</span><br><span class="line">-rw-rw-r-- 1 user work 54233966 May  5 13:25 res-2.log</span><br><span class="line">-rw-rw-r-- 1 user user 70104519 May  5 13:36 res-3.log</span><br></pre></td></tr></table></figure></p><p>æå–å‡ºéœ€è¦çš„æ—¥å¿—åï¼Œå¯ä»¥å†æŒ‰å†…å®¹è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œï¼Œæ¯”å¦‚ç»Ÿè®¡æˆ–æ’é”™ç­‰ã€‚</p><hr><h2 id="Mockito-ä½¿ç”¨"><a href="#Mockito-ä½¿ç”¨" class="headerlink" title="Mockito ä½¿ç”¨"></a>Mockito ä½¿ç”¨</h2><p><a href="https://segmentfault.com/a/1190000006746409" target="_blank" rel="noopener">Mockito</a>ã€‚</p><p>Mockito å¤šåœ¨ Java é¡¹ç›®å•æµ‹ä¸­ä½¿ç”¨ï¼Œå¯ä»¥è¯´ Junit + Mockito æ˜¯å•å…ƒæµ‹è¯•çš„åˆ©å™¨ã€‚Mockito å¯ä»¥æ–¹ä¾¿çš„ mock å¯¹è±¡ï¼Œé¿å…å¤–éƒ¨ä¾èµ–å¯¹å•æµ‹çš„å½±å“ã€‚</p><hr><h2 id="ç§äººç½‘ç›˜-FileBrowser"><a href="#ç§äººç½‘ç›˜-FileBrowser" class="headerlink" title="ç§äººç½‘ç›˜ - FileBrowser"></a>ç§äººç½‘ç›˜ - FileBrowser</h2><p><a href="https://github.com/filebrowser/filebrowser" target="_blank" rel="noopener">FileBrowser</a></p><p>åˆ©ç”¨ FileBrowser å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºç§äººç½‘ç›˜ï¼Œæä¾›äº†åŸºç¡€çš„æ–‡ä»¶æœåŠ¡ï¼Œä»¥åŠç”¨æˆ·æƒé™ç®¡ç†ã€‚å¼€å‘è€…æä¾›äº†è‡ªåŠ¨æ­å»ºè„šæœ¬ï¼Œæ­å»ºçš„æµç¨‹ååˆ†å¿«æ·ã€‚</p><p><img src="https://foreti.me/imgplace/2019/filebrowser-case.gif" alt></p><hr><h2 id="MySQLæŠ€å·§"><a href="#MySQLæŠ€å·§" class="headerlink" title="MySQLæŠ€å·§"></a>MySQLæŠ€å·§</h2><p>æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“æ¯ä¸ªè¡¨çš„è¡Œæ•°ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  table_name,</span><br><span class="line">  table_rows</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">  INFORMATION_SCHEMA.TABLES</span><br><span class="line"><span class="keyword">WHERE</span> TABLE_SCHEMA = <span class="string">'database_name'</span>;</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸¤ä¸ªç½‘é¡µå¤´éƒ¨èƒŒæ™¯å›¾"><a href="#ä¸¤ä¸ªç½‘é¡µå¤´éƒ¨èƒŒæ™¯å›¾" class="headerlink" title="ä¸¤ä¸ªç½‘é¡µå¤´éƒ¨èƒŒæ™¯å›¾"></a>ä¸¤ä¸ªç½‘é¡µå¤´éƒ¨èƒŒæ™¯å›¾</h2><p>OverWatch çš„ Mercy å’Œ D.vaï¼Œéƒ½æ˜¯æˆ‘å–œæ¬¢çš„è§’è‰²ï¼Œå¯ä»¥ä½œä¸ºç½‘ç«™çš„å¤´éƒ¨èƒŒæ™¯ä½¿ç”¨ã€‚<br><img src="https://foreti.me/imgplace/2019/headback.jpg" alt><br><img src="https://foreti.me/imgplace/2019/headback2.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;201905W19 Tip&lt;/p&gt;
    
    </summary>
    
    
      <category term="tip" scheme="https://foreti.me/blog/tags/tip/"/>
    
  </entry>
  
  <entry>
    <title>2019å¹´04æœˆåº¦æ€»ç»“</title>
    <link href="https://foreti.me/blog/2019/04/30/2019-04-review/"/>
    <id>https://foreti.me/blog/2019/04/30/2019-04-review/</id>
    <published>2019-04-30T12:59:17.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>åè„šè·Ÿè½»è½»ä¸€æï¼Œåªè¸å‡ºæ ¡é—¨çš„æœ€åä¸€æ­¥ï¼Œä»æ­¤ä¾¿æ˜¯æ±Ÿæ¹–å†è§ã€‚</p><a id="more"></a><hr><iframe src="https://open.spotify.com/embed/track/0V6mWe5eWcVk6C0Y5ZQBt5" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe><h2 id="ä¸€"><a href="#ä¸€" class="headerlink" title="ä¸€"></a>ä¸€</h2><p>ä»¥å¾€åšè¿‡çš„é¡¹ç›®ï¼Œå‰åç«¯å¾€å¾€æ˜¯å¯¹åº”çš„ï¼Œåœ¨å‰ç«¯èƒ½çœ‹åˆ°çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå¾€å¾€åœ¨åç«¯èƒ½æ‰¾åˆ°å¯¹åº”çš„æ”¯æ’‘ï¼Œæˆ‘è®¤ä¸ºè¿™ä¹Ÿæ˜¯éµä»ä¸€ç§æ‰€è§å³æ‰€å¾—çš„ç†å¿µã€‚ä½†æ˜¯ç°åœ¨çš„ç€æ‰‹çš„é¡¹ç›®ï¼Œåç«¯çš„ä¸œè¥¿ä¼¼ä¹æ¯”å‰ç«¯è¦é‡çš„å¤šã€‚æ•´ä¸ªåç«¯ä»£ç ï¼Œé™¤äº†å‰ç«¯å¯è§çš„åŠŸèƒ½ä»¥å¤–ï¼Œè¿˜åŒ…æ‹¬äº†å¾ˆå¤šé‰´æƒçš„é…ç½®ã€å†…éƒ¨ç”¨æˆ·çš„è‡ªå®šä¹‰åŠŸèƒ½ã€‚å°¤å…¶æ˜¯ä½¿ç”¨é‡ä¸Šå¤§éƒ¨åˆ†æ˜¯æ¥è‡ªå†…éƒ¨ç”¨æˆ·ï¼Œè¿™é€ æˆæ•´ä¸ªé¡¹ç›®çš„åç«¯ä»£ç å¤šå‡ºäº†å¾ˆå¤šå¯¹å†…ä¸“ç”¨çš„éƒ¨åˆ†ï¼Œè€Œè¿™ä¸€éƒ¨åˆ†åœ¨å†å²å¼€å‘ä¸­æ˜¯æ·»ç –åŠ ç“¦å¼çš„ï¼Œä¸€æ®µä¸€æ®µçš„å¾€é‡ŒåŠ åŠŸèƒ½æ–¹æ³•ã€æ¡ä»¶åˆ¤æ–­ï¼Œæ—¥ç§¯æœˆç´¯çš„è®©ç¨‹åºçš„å¤æ‚æ€§æ— é™æå‡ã€‚æ°é€¢æ­¤æ—¶æˆ‘çš„ mentor å°±è¦ç¦»èŒï¼Œæ–°åŠ å…¥çš„æˆå‘˜ä¹Ÿå’Œæˆ‘ä¸€æ ·å¤„äºä¸‡è„¸æ‡µé€¼çš„çŠ¶æ€ã€‚ç°æœ‰åŠŸèƒ½çš„ç»´æŠ¤éƒ½è®©äººå¤´ç–¼ï¼Œå¹¶ä¸”è¿˜æœ‰ä¸€äº›æ–°åŠŸèƒ½çš„å¼€å‘ï¼ŒæœŸé—´çš„å„ä¸ªçŠ¶æ€éœ€è¦ç¡®è®¤å’Œå•†è®¨ã€‚</p><p>â€¦</p><p>é¡¹ç›®è¿˜æ˜¯éš¾ä»¥ç»´æŠ¤ï¼Œå‡ ä¸ªæ–°åŠŸèƒ½çš„å¼€å‘ç£•ç£•ç¢°ç¢°ï¼Œä¸Šçº¿å›°éš¾ã€‚å¥½åœ¨ç»„å†…çš„æˆå‘˜å’Œç¦å‹çˆ±ï¼Œç›¸äº’é—´çš„é¼“åŠ±è®©äººè§‰å¾—ä¸æ˜¯å¤ªéš¾ç†¬ã€‚æœŸå¾…è¿™ä¸€é˜µå­çš„åŠŸèƒ½å¼€å‘ç»“æŸåï¼Œè¿›å…¥æ–°çš„é˜¶æ®µã€‚</p><h2 id="äºŒ"><a href="#äºŒ" class="headerlink" title="äºŒ"></a>äºŒ</h2><p>ç¦»å¼€å­¦æ ¡çš„æ—¶å€™æ²¡æœ‰å¤ªæ·±çš„æ„Ÿæ…¨ï¼Œåªè§‰å¯ä»¥æŠ›å¼ƒè¿‡å¾€çš„èº«ä»½ï¼Œå¼€å§‹è‡ªåŠ›æ›´ç”Ÿçš„å…¨æ–°é˜¶æ®µï¼Œåªè§‰è¿™æ˜¯æˆ‘äººç”Ÿä¸­å€¼å¾—åº†ç¥çš„æ—¶åˆ»ã€‚æ²¡æƒ³åˆ°ä¸¤ä¸ªæœˆè¿‡å»ï¼ˆæˆ‘æ¯•ä¸šå‰å°±å·²ç¦»æ ¡ï¼‰ï¼Œè¶Šæ¥è¶Šæƒ³å¿µåœ¨å­¦æ ¡çš„ç”Ÿæ´»ã€‚å°½ç®¡å®¿èˆçš„åºŠé‚£ä¹ˆçª„é‚£ä¹ˆç¡¬ï¼Œæ´—æ¼±é—´çƒ­æ°´é™æ—¶å¼€æ”¾ï¼Œä¸€åˆ‡éƒ½ä¸é‚£ä¹ˆæ–¹ä¾¿ï¼Œä½†å°±æ˜¯æƒ³å¿µã€‚æƒ³å¿µæ¯ä¸ªä¸è®¾é—¹é’Ÿçš„æ—©æ™¨ï¼›æƒ³å¿µæ¯ä¸ªåˆåçš„é˜³å°ä¸Šï¼Œè¿‘å¤„å’Œè¿œå¤„çš„ä¸çŸ¥åè€æ ‘ä¸€æ£µæ£µæ’åˆ—ç€ï¼Œé˜³å…‰ä»æ»¡æ ‘çš„å¶éš™é—´ç©¿è¿‡ï¼ŒæŠ•å°„åœ¨åœ°ä¸Šã€é—¨ä¸Šã€é‹æ¶ä¸Šã€æœ¨æ¤…å­ä¸Šï¼›æƒ³å¿µæ¯ä¸ªæ™šä¸Šå’Œå®¤å‹å¼€é»‘çš„ç¬‘éª‚å£°ï¼›æƒ³å¿µé£Ÿå ‚çš„å„å¼é¥­èœï¼Œä¹Ÿæƒ³å¿µå°åƒè¡—çš„ç‚¸é¸¡å’Œç…é¥¼ã€‚</p><p>åè„šè·Ÿè½»è½»ä¸€æï¼Œåªè¸å‡ºæ ¡é—¨çš„æœ€åä¸€æ­¥ï¼Œä»æ­¤ä¾¿æ˜¯æ±Ÿæ¹–å†è§ã€‚</p><h2 id="ä¸‰"><a href="#ä¸‰" class="headerlink" title="ä¸‰"></a>ä¸‰</h2><p>æ„Ÿè°¢è€å©†çš„å¥½è¿æ°”ï¼Œæˆ‘ä»¬ç§Ÿåˆ°ä¸€ä¸ªå¾ˆä¸é”™çš„ç§Ÿæˆ¿ï¼Œå®¹å¾—ä¸‹æˆ‘ä»¬çš„ç”Ÿæ´»å’Œä¹è¶£ã€‚ä»1æœˆæ¥åˆ°åŒ—äº¬ï¼Œç»è¿‡çŸ­æš‚çš„é€‚åº”æœŸåï¼Œä½“ä¼šåˆ°é›†ä½“ä¾›æš–çš„ã€Œä¼˜è¶Šæ€§ã€ï¼Œåœ¨å®¶æ˜¯ä¸ç”¨ç©¿ä»€ä¹ˆåšè¡£æœçš„ã€‚æˆ‘åœ¨ç©æ¸¸æˆçš„æ—¶å€™ï¼Œè…‹ä¸‹ä¼šå‡ºæ±—ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯ä¸ªä¾‹ï¼Œæ€»ä¹‹ä¸ç”¨è£¹ä¸Šç¾½ç»’æœæˆ–è€…åšç¡è¡£ï¼Œä¼šèˆ’æœå¾ˆå¤šã€‚</p><p>æˆ¿ä¸œåœ¨ç¦»å¼€å‰ç•™ä¸‹äº†å‡ ç“¶é…’ï¼ŒæŸ¥äº†ä¸€ç•ªåæ‰çŸ¥é“æ˜¯ç™½æœ—å§†ã€é‡‘é…’è¿™äº›åŸºé…’ï¼Œæµªè´¹äº†ä¹Ÿä¸å¥½ï¼Œæ€»å¾—æƒ³åŠæ³•å–æ‰å§ã€‚äºæ˜¯å­¦äº†äº›è°ƒé…’çš„åŸºç¡€çŸ¥è¯†ï¼Œåˆæ·»ç½®äº†ä¸€äº›ä¾¿å®œé…’å…·ï¼Œæ‘†æ‹äº†ä¸€äº›è°ƒå¥½çš„é…’çš„ç…§ç‰‡åï¼Œå‘ç°è¿˜æŒºå¥½å–çš„ã€‚å°±è¿™æ ·ï¼Œè°ƒé…’æˆä¸ºæˆ‘ä¸ºæ•°ä¸å¤šçš„çˆ±å¥½ä¹‹ä¸€ã€‚å‡†å¤‡å¥½å†°å—ï¼ŒæŒ‰é¡ºåºåŠ å¥½æ¯ä¸ªææ–™ï¼Œå†æ…æ‹Œæˆ–æ‘‡æ™ƒï¼Œä¸€æ¯é¸¡å°¾é…’é…’å®Œæˆäº†ï¼Œä¹Ÿä¸ç”¨ä¸Šå‡åˆ°äººç”Ÿå“²ç†çš„é«˜åº¦ï¼Œåªæ˜¯ç®€å•çš„å¥½å–ã€‚</p><p>è¿™ä¸ªæœˆå–ç€å„å¼è‡ªè°ƒé¸¡å°¾é…’åœ¨å¡å°”è¾¾é‡Œæ¸¸æ™ƒæ˜¯æˆ‘æœ€å¤§çš„å¿«ä¹äº†ã€‚</p><h2 id="å››"><a href="#å››" class="headerlink" title="å››"></a>å››</h2><p>äº”ä¸€å›å®¶ï¼Œå¤§åƒå¤§å–ã€‚è€çˆ¶äº²å‡†å¤‡äº†ä¸€å¤§ç›†ç”°èºå…»äº†å¤§åŠä¸ªæœˆï¼Œæ—¥æ€å¤œæƒ³ã€‚</p><p>æœŸå¾…äº”æœˆå¼€å§‹æ–°çš„é˜¶æ®µã€‚</p><!-- more -->]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åè„šè·Ÿè½»è½»ä¸€æï¼Œåªè¸å‡ºæ ¡é—¨çš„æœ€åä¸€æ­¥ï¼Œä»æ­¤ä¾¿æ˜¯æ±Ÿæ¹–å†è§ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ€»ç»“" scheme="https://foreti.me/blog/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ—</title>
    <link href="https://foreti.me/blog/2019/04/27/chinese-copywriting-guidelines/"/>
    <id>https://foreti.me/blog/2019/04/27/chinese-copywriting-guidelines/</id>
    <published>2019-04-27T06:38:34.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>ç»Ÿä¸€ä¸­æ–‡æ–‡æ¡ˆã€æ’ç‰ˆçš„ç›¸å…³ç”¨æ³•ï¼Œé™ä½å›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„æ²Ÿé€šæˆæœ¬ï¼Œå¢å¼ºç½‘ç«™æ°”è´¨ã€‚</p><a id="more"></a><hr><p>åœ¨ä»Šå¤©ä¹‹å‰ï¼Œæˆ‘éƒ½åœ¨åˆ»æ„åœ°ä½¿ç”¨åŠè§’ç¬¦å·ï¼Œå› ä¸ºåœ¨ä¸­æ–‡è¾“å…¥çš„æ—¶å€™ï¼Œæƒ³è¾“å…¥ä¸€ä¸ª <kbd>`</kbd> æˆ–è€… <kbd>/</kbd> å­—ç¬¦ï¼Œæ˜¯å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œæ¥å›åˆ‡æ¢è¾“å…¥æ³•è®©æˆ‘æƒ³ç«‹åˆ»åœä¸‹æ‰“å­—ï¼Œå…³æ‰ç”µè„‘ã€‚</p><p>ä½†æ˜¯è¿™ç¯‡æ–‡ç« ç¡®å®è¯´çš„å¾ˆå¥½ï¼Œè€Œä¸”æŒ‰ç…§æ–‡æ¡£çš„æ’ç‰ˆï¼Œè¡¨ç°å½¢å¼çœ‹èµ·æ¥éå¸¸å¥½ï¼Œæˆ‘æƒ³è®°åœ¨è¿™é‡Œï¼Œå¸®åŠ©æˆ‘åˆ»æ„ç»ƒä¹ ä¸€ä¸‹è¿™æ ·çš„æ’ç‰ˆæ–¹å¼ã€‚</p><p>ä¸‹é¢æ˜¯åŸæ–‡å†…å®¹ï¼Œ<a href="https://github.com/mzlogin/chinese-copywriting-guidelines" target="_blank" rel="noopener">å‡ºè‡ª mzlogin</a>ã€‚</p><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><!-- vim-markdown-toc GFM --><ul><li><a href="#ç›®å½•">ç›®å½•</a></li><li><a href="#ç©ºæ ¼">ç©ºæ ¼</a><ul><li><a href="#ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼">ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼</a></li><li><a href="#ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼">ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼</a></li><li><a href="#æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼">æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼</a></li><li><a href="#å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼">å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼</a></li><li><a href="#-ms-text-autospace-to-the-rescue"><code>-ms-text-autospace</code> to the rescue?</a></li></ul></li><li><a href="#æ ‡ç‚¹ç¬¦å·">æ ‡ç‚¹ç¬¦å·</a><ul><li><a href="#ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·">ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·</a></li></ul></li><li><a href="#å…¨è§’å’ŒåŠè§’">å…¨è§’å’ŒåŠè§’</a><ul><li><a href="#ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹">ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹</a></li><li><a href="#æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦">æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦</a></li><li><a href="#é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ç‰¹æ®Šåè¯å…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹">é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹</a></li></ul></li><li><a href="#åè¯">åè¯</a><ul><li><a href="#ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™">ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™</a></li><li><a href="#ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™">ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™</a></li></ul></li><li><a href="#äº‰è®®">äº‰è®®</a><ul><li><a href="#é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼">é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼</a></li><li><a href="#ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·">ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·</a></li></ul></li><li><a href="#å·¥å…·">å·¥å…·</a></li><li><a href="#è°åœ¨è¿™æ ·åš">è°åœ¨è¿™æ ·åšï¼Ÿ</a></li><li><a href="#å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</a></li></ul><!-- vim-markdown-toc --><h2 id="ç©ºæ ¼"><a href="#ç©ºæ ¼" class="headerlink" title="ç©ºæ ¼"></a>ç©ºæ ¼</h2><p>ã€Œæœ‰ç ”ç©¶æ˜¾ç¤ºï¼Œæ‰“å­—çš„æ—¶å€™ä¸å–œæ¬¢åœ¨ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ ç©ºæ ¼çš„äººï¼Œæ„Ÿæƒ…è·¯éƒ½èµ°å¾—å¾ˆè¾›è‹¦ï¼Œæœ‰ä¸ƒæˆçš„æ¯”ä¾‹ä¼šåœ¨ 34 å²çš„æ—¶å€™è·Ÿè‡ªå·±ä¸çˆ±çš„äººç»“å©šï¼Œè€Œå…¶ä½™ä¸‰æˆçš„äººæœ€ååªèƒ½æŠŠé—äº§ç•™ç»™è‡ªå·±çš„çŒ«ã€‚æ¯•ç«Ÿçˆ±æƒ…è·Ÿä¹¦å†™éƒ½éœ€è¦é€‚æ—¶åœ°ç•™ç™½ã€‚</p><p>ä¸å¤§å®¶å…±å‹‰ä¹‹ã€‚ã€â€”â€”<a href="https://github.com/vinta/pangu.js" target="_blank" rel="noopener">vinta/paranoid-auto-spacing</a></p><h3 id="ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼"><a href="#ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼" class="headerlink" title="ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼"></a>ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>åœ¨ LeanCloud ä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»• <code>AVObject</code> è¿›è¡Œçš„ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>åœ¨LeanCloudä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»•<code>AVObject</code>è¿›è¡Œçš„ã€‚</p></blockquote><blockquote><p>åœ¨ LeanCloudä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»•<code>AVObject</code> è¿›è¡Œçš„ã€‚</p></blockquote><p>å®Œæ•´çš„æ­£ç¡®ç”¨æ³•ï¼š</p><blockquote><p>åœ¨ LeanCloud ä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»• <code>AVObject</code> è¿›è¡Œçš„ã€‚æ¯ä¸ª <code>AVObject</code> éƒ½åŒ…å«äº†ä¸ JSON å…¼å®¹çš„ key-value å¯¹åº”çš„æ•°æ®ã€‚æ•°æ®æ˜¯ schema-free çš„ï¼Œä½ ä¸éœ€è¦åœ¨æ¯ä¸ª <code>AVObject</code> ä¸Šæå‰æŒ‡å®šå­˜åœ¨å“ªäº›é”®ï¼Œåªè¦ç›´æ¥è®¾å®šå¯¹åº”çš„ key-value å³å¯ã€‚</p></blockquote><p>ä¾‹å¤–ï¼šã€Œè±†ç“£FMã€ç­‰äº§å“åè¯ï¼ŒæŒ‰ç…§å®˜æ–¹æ‰€å®šä¹‰çš„æ ¼å¼ä¹¦å†™ã€‚</p><h3 id="ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼"><a href="#ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼" class="headerlink" title="ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼"></a>ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº† 5000 å…ƒã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº† 5000å…ƒã€‚</p></blockquote><blockquote><p>ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº†5000å…ƒã€‚</p></blockquote><h3 id="æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼"><a href="#æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼" class="headerlink" title="æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼"></a>æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>æˆ‘å®¶çš„å…‰çº¤å…¥æˆ·å®½å¸¦æœ‰ 10Gbpsï¼ŒSSD ä¸€å…±æœ‰ 10TBã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>æˆ‘å®¶çš„å…‰çº¤å…¥æˆ·å®½å¸¦æœ‰ 10 Gbpsï¼ŒSSD ä¸€å…±æœ‰ 20 TBã€‚</p></blockquote><p>å¦å¤–ï¼Œåº¦ï¼ç™¾åˆ†æ¯”ä¸æ•°å­—ä¹‹é—´ä¸éœ€è¦å¢åŠ ç©ºæ ¼ï¼š</p><p>æ­£ç¡®ï¼š</p><blockquote><p>ä»Šå¤©æ˜¯ 233Â° çš„é«˜æ¸©ã€‚</p></blockquote><blockquote><p>æ–° MacBook Pro æœ‰ 15% çš„ CPU æ€§èƒ½æå‡ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>ä»Šå¤©æ˜¯ 233 Â° çš„é«˜æ¸©ã€‚</p></blockquote><blockquote><p>æ–° MacBook Pro æœ‰ 15 % çš„ CPU æ€§èƒ½æå‡ã€‚</p></blockquote><h3 id="å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼"><a href="#å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼" class="headerlink" title="å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼"></a>å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>åˆšåˆšä¹°äº†ä¸€éƒ¨ iPhoneï¼Œå¥½å¼€å¿ƒï¼</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>åˆšåˆšä¹°äº†ä¸€éƒ¨ iPhone ï¼Œå¥½å¼€å¿ƒï¼</p></blockquote><h3 id="ms-text-autospace-to-the-rescue"><a href="#ms-text-autospace-to-the-rescue" class="headerlink" title="-ms-text-autospace to the rescue?"></a><code>-ms-text-autospace</code> to the rescue?</h3><p>Microsoft æœ‰ä¸ª <a href="http://msdn.microsoft.com/en-us/library/ie/ms531164(v=vs.85" target="_blank" rel="noopener"><code>-ms-text-autospace</code></a>.aspx) çš„ CSS å±æ€§å¯ä»¥å®ç°è‡ªåŠ¨ä¸ºä¸­è‹±æ–‡ä¹‹é—´å¢åŠ ç©ºç™½ã€‚ä¸è¿‡ç›®å‰å¹¶æœªæ™®åŠï¼Œå¦å¤–åœ¨å…¶ä»–åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ OS Xã€iOS çš„ç”¨æˆ·ç•Œé¢ç›®å‰å¹¶ä¸å­˜åœ¨è¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥è¯·ç»§ç»­ä¿æŒéšæ‰‹åŠ ç©ºæ ¼çš„ä¹ æƒ¯ã€‚</p><h2 id="æ ‡ç‚¹ç¬¦å·"><a href="#æ ‡ç‚¹ç¬¦å·" class="headerlink" title="æ ‡ç‚¹ç¬¦å·"></a>æ ‡ç‚¹ç¬¦å·</h2><h3 id="ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·"><a href="#ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·" class="headerlink" title="ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·"></a>ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼</p></blockquote><blockquote><p>å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼ï¼</p></blockquote><blockquote><p>å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p></blockquote><blockquote><p>å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼Ÿï¼ï¼</p></blockquote><blockquote><p>å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼ï¼Ÿï¼ï¼Ÿï¼Ÿï¼ï¼</p></blockquote><h2 id="å…¨è§’å’ŒåŠè§’"><a href="#å…¨è§’å’ŒåŠè§’" class="headerlink" title="å…¨è§’å’ŒåŠè§’"></a>å…¨è§’å’ŒåŠè§’</h2><p>ä¸æ˜ç™½ä»€ä¹ˆæ˜¯å…¨è§’ï¼ˆå…¨å½¢ï¼‰ä¸åŠè§’ï¼ˆåŠå½¢ï¼‰ç¬¦å·ï¼Ÿè¯·æŸ¥çœ‹ç»´åŸºç™¾ç§‘è¯æ¡ã€<a href="http://zh.wikipedia.org/wiki/%E5%85%A8%E5%BD%A2%E5%92%8C%E5%8D%8A%E5%BD%A2" target="_blank" rel="noopener">å…¨è§’å’ŒåŠè§’</a>ã€ã€‚</p><h3 id="ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹"><a href="#ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹" class="headerlink" title="ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹"></a>ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>å—¨ï¼ä½ çŸ¥é“å˜›ï¼Ÿä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´ã€Œå–µã€äº†å“ï¼</p></blockquote><blockquote><p>æ ¸ç£å…±æŒ¯æˆåƒï¼ˆNMRIï¼‰æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“ï¼ŸJFGIï¼</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>å—¨! ä½ çŸ¥é“å˜›? ä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´ â€œå–µâ€ äº†å“!</p></blockquote><blockquote><p>å—¨!ä½ çŸ¥é“å˜›?ä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´â€å–µâ€äº†å“!</p></blockquote><blockquote><p>æ ¸ç£å…±æŒ¯æˆåƒ (NMRI) æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“? JFGI!</p></blockquote><blockquote><p>æ ¸ç£å…±æŒ¯æˆåƒ(NMRI)æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“?JFGI!</p></blockquote><h3 id="æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦"><a href="#æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦" class="headerlink" title="æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦"></a>æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>è¿™ä»¶è›‹ç³•åªå– 1000 å…ƒã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>è¿™ä»¶è›‹ç³•åªå– ï¼‘ï¼ï¼ï¼ å…ƒã€‚</p></blockquote><p>ä¾‹å¤–ï¼šåœ¨è®¾è®¡ç¨¿ã€å®£ä¼ æµ·æŠ¥ä¸­å¦‚å‡ºç°æå°‘é‡æ•°å­—çš„æƒ…å½¢æ—¶ï¼Œä¸ºæ–¹ä¾¿æ–‡å­—å¯¹é½ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨å…¨è§’æ•°å­—çš„ã€‚</p><h3 id="é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹"><a href="#é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹" class="headerlink" title="é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹"></a>é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>ä¹”å¸ƒæ–¯é‚£å¥è¯æ˜¯æ€ä¹ˆè¯´çš„ï¼Ÿã€ŒStay hungry, stay foolish.ã€</p></blockquote><blockquote><p>æ¨èä½ é˜…è¯»ã€ŠHackers &amp; Painters: Big Ideas from the Computer Ageã€‹ï¼Œéå¸¸çš„æœ‰è¶£ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>ä¹”å¸ƒæ–¯é‚£å¥è¯æ˜¯æ€ä¹ˆè¯´çš„ï¼Ÿã€ŒStay hungryï¼Œstay foolishã€‚ã€</p></blockquote><blockquote><p>æ¨èä½ é˜…è¯»ã€ŠHackersï¼†Paintersï¼šBig Ideas from the Computer Ageã€‹ï¼Œéå¸¸çš„æœ‰è¶£ã€‚</p></blockquote><h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><h3 id="ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™"><a href="#ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™" class="headerlink" title="ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™"></a>ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™</h3><p>å¤§å°å†™ç›¸å…³ç”¨æ³•åŸå±äºè‹±æ–‡ä¹¦å†™èŒƒç•´ï¼Œä¸å±äºæœ¬ wiki è®¨è®ºå…§å®¹ï¼Œåœ¨è¿™é‡Œåªå¯¹éƒ¨åˆ†æ˜“é”™ç”¨æ³•è¿›è¡Œç®€è¿°ã€‚</p><p>æ­£ç¡®ï¼š</p><blockquote><p>ä½¿ç”¨ GitHub ç™»å½•</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ GitHubã€Foursquareã€Microsoft Corporationã€Googleã€Facebook, Inc.ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>ä½¿ç”¨ github ç™»å½•</p></blockquote><blockquote><p>ä½¿ç”¨ GITHUB ç™»å½•</p></blockquote><blockquote><p>ä½¿ç”¨ Github ç™»å½•</p></blockquote><blockquote><p>ä½¿ç”¨ gitHub ç™»å½•</p></blockquote><blockquote><p>ä½¿ç”¨ gï½²ã‚“Ä¤Ğ¦8 ç™»å½•</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ githubã€foursquareã€microsoft corporationã€googleã€facebook, inc.ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ GITHUBã€FOURSQUAREã€MICROSOFT CORPORATIONã€GOOGLEã€FACEBOOK, INC.ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ Githubã€FourSquareã€MicroSoft Corporationã€Googleã€FaceBook, Inc.ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ gitHubã€fourSquareã€microSoft Corporationã€googleã€faceBook, Inc.ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ gï½²ã‚“Ä¤Ğ¦8ã€ï½·ouĞ¯Æ§quï¾‘Ğ³Ñ”ã€à¹“à¹€Ï‚Ğ³à¹à¸£à¹Å¦t Ï‚à¹Ğ³×§à¹Ğ³à¸„tà¹€à¹à¸ nã€900913ã€Æ’4á„ƒÃ«Ğ²à¹à¹Ğº, IĞŸá„ƒ.ã€‚</p></blockquote><p>æ³¨æ„ï¼šå½“ç½‘é¡µä¸­éœ€è¦é…åˆæ•´ä½“è§†è§‰é£æ ¼è€Œå‡ºç°å…¨éƒ¨å¤§å†™ï¼å°å†™çš„æƒ…å½¢ï¼ŒHTML ä¸­è¯·ä½¿ç”¨æ ‡å‡†çš„å¤§å°å†™è§„èŒƒè¿›è¡Œä¹¦å†™ï¼›å¹¶é€šè¿‡ <code>text-transform: uppercase;</code>ï¼<code>text-transform: lowercase;</code> å¯¹è¡¨ç°å½¢å¼è¿›è¡Œå®šä¹‰ã€‚</p><h3 id="ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™"><a href="#ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™" class="headerlink" title="ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™"></a>ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>æˆ‘ä»¬éœ€è¦ä¸€ä½ç†Ÿæ‚‰ JavaScriptã€HTML5ï¼Œè‡³å°‘ç†è§£ä¸€ç§æ¡†æ¶ï¼ˆå¦‚ Backbone.jsã€AngularJSã€React ç­‰ï¼‰çš„å‰ç«¯å¼€å‘è€…ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>æˆ‘ä»¬éœ€è¦ä¸€ä½ç†Ÿæ‚‰ Jsã€h5ï¼Œè‡³å°‘ç†è§£ä¸€ç§æ¡†æ¶ï¼ˆå¦‚ backboneã€angularã€RJS ç­‰ï¼‰çš„ FEDã€‚</p></blockquote><h2 id="äº‰è®®"><a href="#äº‰è®®" class="headerlink" title="äº‰è®®"></a>äº‰è®®</h2><p>ä»¥ä¸‹ç”¨æ³•ç•¥å¸¦æœ‰ä¸ªäººè‰²å½©ï¼Œå³ï¼šæ— è®ºæ˜¯å¦éµå¾ªä¸‹è¿°è§„åˆ™ï¼Œä»è¯­æ³•çš„è§’åº¦æ¥è®²éƒ½æ˜¯<strong>æ­£ç¡®</strong>çš„ã€‚</p><h3 id="é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼"><a href="#é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼" class="headerlink" title="é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼"></a>é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼</h3><p>ç”¨æ³•ï¼š</p><blockquote><p>è¯· <a href="#">æäº¤ä¸€ä¸ª issue</a> å¹¶åˆ†é…ç»™ç›¸å…³åŒäº‹ã€‚</p></blockquote><blockquote><p>è®¿é—®æˆ‘ä»¬ç½‘ç«™çš„æœ€æ–°åŠ¨æ€ï¼Œè¯· <a href="#">ç‚¹å‡»è¿™é‡Œ</a> è¿›è¡Œè®¢é˜…ï¼</p></blockquote><p>å¯¹æ¯”ç”¨æ³•ï¼š</p><blockquote><p>è¯·<a href="#">æäº¤ä¸€ä¸ª issue</a> å¹¶åˆ†é…ç»™ç›¸å…³åŒäº‹ã€‚</p></blockquote><blockquote><p>è®¿é—®æˆ‘ä»¬ç½‘ç«™çš„æœ€æ–°åŠ¨æ€ï¼Œè¯·<a href="#">ç‚¹å‡»è¿™é‡Œ</a>è¿›è¡Œè®¢é˜…ï¼</p></blockquote><h3 id="ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·"><a href="#ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·" class="headerlink" title="ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·"></a>ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·</h3><p>ç”¨æ³•ï¼š</p><blockquote><p>ã€Œè€å¸ˆï¼Œã€æœ‰æ¡ä¸ç´Šã€çš„ã€ç´Šã€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿã€</p></blockquote><p>å¯¹æ¯”ç”¨æ³•ï¼š</p><blockquote><p>â€œè€å¸ˆï¼Œâ€˜æœ‰æ¡ä¸ç´Šâ€™çš„â€˜ç´Šâ€™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿâ€</p></blockquote><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><table><thead><tr><th>ä»“åº“</th><th>è¯­è¨€</th></tr></thead><tbody><tr><td><a href="https://github.com/vinta/paranoid-auto-spacing" target="_blank" rel="noopener">vinta/paranoid-auto-spacing</a></td><td>JavaScript</td></tr><tr><td><a href="https://github.com/huei90/pangu.node" target="_blank" rel="noopener">huei90/pangu.node</a></td><td>Node.js</td></tr><tr><td><a href="https://github.com/huacnlee/auto-correct" target="_blank" rel="noopener">huacnlee/auto-correct</a></td><td>Ruby</td></tr><tr><td><a href="https://github.com/sparanoid/space-lover" target="_blank" rel="noopener">sparanoid/space-lover</a></td><td>PHP (WordPress)</td></tr><tr><td><a href="https://github.com/NauxLiu/auto-correct" target="_blank" rel="noopener">nauxliu/auto-correct</a></td><td>PHP</td></tr><tr><td><a href="https://github.com/ricoa/copywriting-correct" target="_blank" rel="noopener">ricoa/copywriting-correct</a></td><td>PHP</td></tr><tr><td><a href="https://github.com/hotoo/pangu.vim" target="_blank" rel="noopener">hotoo/pangu.vim</a></td><td>Vim</td></tr><tr><td><a href="https://github.com/sparanoid/grunt-auto-spacing" target="_blank" rel="noopener">sparanoid/grunt-auto-spacing</a></td><td>Node.js (Grunt)</td></tr><tr><td><a href="https://github.com/hjiang/scripts/blob/master/add-space-between-latin-and-cjk" target="_blank" rel="noopener">hjiang/scripts/add-space-between-latin-and-cjk</a></td><td>Python</td></tr></tbody></table><h2 id="è°åœ¨è¿™æ ·åšï¼Ÿ"><a href="#è°åœ¨è¿™æ ·åšï¼Ÿ" class="headerlink" title="è°åœ¨è¿™æ ·åšï¼Ÿ"></a>è°åœ¨è¿™æ ·åšï¼Ÿ</h2><table><thead><tr><th>ç½‘ç«™</th><th>æ–‡æ¡ˆ</th><th>UGC</th></tr></thead><tbody><tr><td><a href="http://www.apple.com/cn/" target="_blank" rel="noopener">Apple ä¸­å›½</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="http://www.apple.com/hk/" target="_blank" rel="noopener">Apple é¦™æ¸¯</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="http://www.apple.com/tw/" target="_blank" rel="noopener">Apple å°æ¹¾</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="http://www.microsoft.com/zh-cn/" target="_blank" rel="noopener">Microsoft ä¸­å›½</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="http://www.microsoft.com/zh-hk/" target="_blank" rel="noopener">Microsoft é¦™æ¸¯</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="http://www.microsoft.com/zh-tw/" target="_blank" rel="noopener">Microsoft å°æ¹¾</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="https://leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="https://www.zhihu.com/" target="_blank" rel="noopener">çŸ¥ä¹</a></td><td>Yes</td><td>éƒ¨åˆ†ç”¨æˆ·è¾¾æˆ</td></tr><tr><td><a href="https://www.v2ex.com/" target="_blank" rel="noopener">V2EX</a></td><td>Yes</td><td>Yes</td></tr><tr><td><a href="https://segmentfault.com/" target="_blank" rel="noopener">SegmentFault</a></td><td>Yes</td><td>éƒ¨åˆ†ç”¨æˆ·è¾¾æˆ</td></tr><tr><td><a href="http://apple4us.com/" target="_blank" rel="noopener">Apple4us</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="https://www.wandoujia.com/" target="_blank" rel="noopener">è±Œè±†èš</a></td><td>Yes</td><td>N/A</td></tr><tr><td><a href="https://ruby-china.org/" target="_blank" rel="noopener">Ruby China</a></td><td>Yes</td><td>æ ‡é¢˜è¾¾æˆ</td></tr><tr><td><a href="https://phphub.org/" target="_blank" rel="noopener">PHPHub</a></td><td>Yes</td><td>æ ‡é¢˜è¾¾æˆ</td></tr><tr><td><a href="http://sspai.com/" target="_blank" rel="noopener">å°‘æ•°æ´¾</a></td><td>Yes</td><td>N/A</td></tr></tbody></table><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul><li><a href="http://grammar.about.com/od/punctuationandmechanics/a/Guidelines-For-Using-Capital-Letters.htm" target="_blank" rel="noopener">Guidelines for Using Capital Letters</a></li><li><a href="http://en.wikipedia.org/wiki/Letter_case" target="_blank" rel="noopener">Letter case - Wikipedia</a></li><li><a href="http://www.oxforddictionaries.com/words/punctuation" target="_blank" rel="noopener">Punctuation - Oxford Dictionaries</a></li><li><a href="https://owl.english.purdue.edu/owl/section/1/6/" target="_blank" rel="noopener">Punctuation - The Purdue OWL</a></li><li><a href="http://www.wikihow.com/Use-English-Punctuation-Correctly" target="_blank" rel="noopener">How to Use English Punctuation Corrently - wikiHow</a></li><li><a href="https://zh.opensuse.org/index.php?title=Help:%E6%A0%BC%E5%BC%8F" target="_blank" rel="noopener">æ ¼å¼ - openSUSE</a></li><li><a href="http://zh.wikipedia.org/wiki/%E5%85%A8%E5%BD%A2%E5%92%8C%E5%8D%8A%E5%BD%A2" target="_blank" rel="noopener">å…¨è§’å’ŒåŠè§’ - ç»´åŸºç™¾ç§‘</a></li><li><a href="http://zh.wikipedia.org/wiki/%E5%BC%95%E8%99%9F" target="_blank" rel="noopener">å¼•å· - ç»´åŸºç™¾ç§‘</a></li><li><a href="http://zh.wikipedia.org/wiki/%E7%96%91%E5%95%8F%E9%A9%9A%E5%98%86%E8%99%9F" target="_blank" rel="noopener">ç–‘é—®æƒŠå¹å· - ç»´åŸºç™¾ç§‘</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»Ÿä¸€ä¸­æ–‡æ–‡æ¡ˆã€æ’ç‰ˆçš„ç›¸å…³ç”¨æ³•ï¼Œé™ä½å›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„æ²Ÿé€šæˆæœ¬ï¼Œå¢å¼ºç½‘ç«™æ°”è´¨ã€‚&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä½ åº”è¯¥çŸ¥é“çš„10ä¸ªGitå‘½ä»¤</title>
    <link href="https://foreti.me/blog/2019/03/17/10-git-command-you-should-know/"/>
    <id>https://foreti.me/blog/2019/03/17/10-git-command-you-should-know/</id>
    <published>2019-03-17T13:48:24.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>201902W11 Review, Gitçš„ä¸€äº›å¸¸ç”¨ä¸”å¾ˆæœ‰ç”¨çš„å‘½ä»¤ã€‚</p><a id="more"></a><hr><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://towardsdatascience.com/10-git-commands-you-should-know-df54bea1595c" target="_blank" rel="noopener">10 Git Commands You Should Know</a></p><p>by Jeff Hale</p><p>åœ¨è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°†è®¨è®ºä½ ä½œä¸ºä¸€åå¼€å‘è€…ã€æ•°æ®ç§‘å­¦å®¶æˆ–è€…äº§å“ç»ç†åº”è¯¥çŸ¥é“çš„å„ç§ Git å‘½ä»¤ã€‚æˆ‘ä»¬å°†å…³æ³¨ç”¨ Git è¿›è¡Œå®¡æŸ¥ã€ç§»é™¤å’Œæ•´ç†ã€‚æˆ‘ä»¬è¿˜æä¾›æ–¹æ³•å»è®¾ç½® Git ç¼–è¾‘å™¨é…ç½®æ¥é¿å… Vim å’Œä½¿ç”¨ Bash åˆ«åèŠ‚çœæ—¶é—´ã€‚</p><p>å¦‚æœä½ å¯¹åŸºç¡€çš„ git å‘½ä»¤ä¸ç†Ÿæ‚‰ï¼Œå…ˆè¯»ä¸€ä¸‹æˆ‘çš„<a href="https://towardsdatascience.com/learn-enough-git-to-be-useful-281561eef959" target="_blank" rel="noopener">å‰ä¸€ç¯‡æ–‡ç« </a>ï¼Œå…³äº Git å·¥ä½œæµã€‚</p><p>è¿™é‡Œæœ‰ 10 ä¸ªè¦çŸ¥é“çš„å‘½ä»¤å’Œä¸€äº›å…¬å…±çš„æ ‡å¿—ã€‚æ¯ä¸ªå‘½ä»¤éƒ½é“¾æ¥åˆ°ç›¸å…³çš„ Atlassian Bitbucket æŒ‡å¯¼ã€‚</p><h2 id="å®¡æŸ¥"><a href="#å®¡æŸ¥" class="headerlink" title="å®¡æŸ¥"></a>å®¡æŸ¥</h2><p>è®©æˆ‘ä»¬å…ˆæ£€æŸ¥å˜åŒ–ã€‚</p><p><img src="https://foreti.me/imgplace/2019/20190430170003.png" alt></p><ul><li><a href="https://www.atlassian.com/git/tutorials/saving-changes/git-diff" target="_blank" rel="noopener">git diff</a> â€”â€” æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰æ–‡ä»¶çš„å˜åŒ–ã€‚åé¢åŠ ä¸Šæ–‡ä»¶åå¯ä»¥åªæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å˜åŒ–</li><li><a href="https://www.atlassian.com/git/tutorials/git-log" target="_blank" rel="noopener">git log</a> â€”â€” æŸ¥çœ‹æ‰€æœ‰çš„æäº¤å†å²ã€‚ä¹Ÿå¯ä»¥ç”¨äºä¸€ä¸ªæ–‡ä»¶ï¼Œ<code>git log -p my_file</code>ã€‚è¾“å…¥<code>q</code>é€€å‡ºã€‚</li><li><a href>git balme my_file</a> â€”â€” æŸ¥çœ‹æ”¹å˜äº† <em>my_file</em> çš„äººï¼Œä»¥åŠæ”¹å˜çš„å†…å®¹å’Œæ—¶é—´ã€‚</li><li><a href="https://www.atlassian.com/git/tutorials/rewriting-history/git-reflog" target="_blank" rel="noopener">git reflog</a> â€”â€” æŸ¥çœ‹å˜åŒ–çš„æ—¥å¿—ï¼Œç›´åˆ°æœ¬åœ°ä»“åº“çš„ HEADã€‚æœ‰åˆ©äºæ‰¾åˆ°ä¸¢å¤±çš„å·¥ä½œã€‚</li></ul><p>ä½¿ç”¨ Git å®¡æŸ¥äº‹æƒ…å¹¶ä¸æ˜¯éå¸¸è®©äººå›°æƒ‘ã€‚ç›¸åçš„ï¼ŒGit æä¾›äº†å¤ªå¤šçš„ç§»é™¤å’Œæ’¤å›æäº¤ä»¥åŠæ–‡ä»¶æ”¹åŠ¨æ“ä½œã€‚</p><h2 id="æ’¤å›"><a href="#æ’¤å›" class="headerlink" title="æ’¤å›"></a>æ’¤å›</h2><p><code>git reset</code>ï¼Œ<code>git checkout</code> å’Œ <code>git revert</code> è¢«ç”¨äºæ’¤å›å˜åŒ–å¯¹ä»“åº“çš„å½±å“ã€‚è¿™äº›å‘½ä»¤å¯èƒ½å›éš¾ä»¥ä¿æŒç›´çº¿ã€‚</p><p><code>git reset</code> å’Œ <code>git checkout</code> å¯ä»¥è¢«ç”¨äºæäº¤å’Œå•ç‹¬çš„æ–‡ä»¶ã€‚<code>git revert</code> åªè¢«ç”¨åœ¨æäº¤çº§åˆ«ã€‚</p><p>å¦‚æœä½ æ­£åœ¨å¤„ç†ä½ æ²¡æœ‰åˆå¹¶åˆ°è¿œç¨‹å¤šäººå·¥ä½œé‡Œçš„æœ¬åœ°æäº¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•è¿™äº›å‘½ä»¤ã€‚</p><p>å¦‚æœä½ åœ¨å¤šäººå·¥ä½œé‡Œéœ€è¦æ¶ˆé™¤ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯çš„æäº¤ï¼Œ<code>git revert</code> æ˜¯ä½ çš„å·¥å…·ã€‚</p><p><img src="https://foreti.me/imgplace/2019/20190501155041.png" alt="undo"></p><p>æ¯ä¸ªè¿™äº›å‘½ä»¤éƒ½å¯ä»¥åŠ ä¸Šä¸åŒçš„å‚æ•°ã€‚è¿™é‡Œæ˜¯é€šç”¨çš„ç”¨æ³•ï¼š</p><ul><li><a href="https://www.atlassian.com/git/tutorials/resetting-checking-out-and-reverting" target="_blank" rel="noopener"><code>git reset --hard HEAD</code></a> â€”â€” ä¸¢å¼ƒå·²æš‚å­˜å’Œä¸ºæš‚å­˜çš„æ”¹å˜ï¼Œæ¢å¤åˆ°æœ€è¿‘çš„ä¸€æ¬¡æäº¤ã€‚</li></ul><p>ç‰¹åˆ«æŒ‡å®šä¸€ä¸ªä¸åŒçš„æäº¤ä»£æ›¿ <code>HEAD</code> å¯ä»¥ä¸¢å¼ƒæ”¹å˜ç›´åˆ°è¯¥æ¡æäº¤ã€‚<code>--hard</code> ç‰¹æŒ‡å·²æš‚å­˜å’Œæœªæš‚å­˜çš„æ”¹å˜éƒ½è¢«æ’¤é™¤ã€‚</p><p>ç¡®è®¤ä½ æ²¡æœ‰ä»è¿œç¨‹åˆ†æ”¯åˆ é™¤ä¸€ä¸ªä½ çš„åˆä½œè€…ä¾èµ–çš„æäº¤ã€‚</p><ul><li><a href="https://www.atlassian.com/git/tutorials/undoing-changes" target="_blank" rel="noopener"><code>git checkout my_commit</code></a> â€”â€” ä» <em>my_commit</em> ååˆ é™¤ä¸ºæš‚å­˜çš„æ”¹å˜ã€‚</li></ul><p><code>HEAD</code> é€šå¸¸ç”¨åœ¨ <code>my_commit</code> æ¥æ’¤é”€æ”¹å˜ï¼Œå°†ä½ æœ¬åœ°çš„å·¥ä½œç›®å½•æ¢å¤åˆ°æœ€è¿‘çš„ä¾æ¬¡æäº¤çŠ¶æ€ã€‚</p><p><code>checkout</code> è¢«æœ€å¤šçš„ç”¨äºä»…åœ¨æœ¬åœ°çš„æ’¤é”€ã€‚å®ƒä¸ä¼šä»è¿œç¨‹åˆ†æ”¯å¼„æ··ä½ çš„åˆä½œè€…ä¾èµ–çš„æäº¤å†å²ï¼</p><p>å¦‚æœä½ ä½¿ç”¨ <code>checkout</code> æ—¶ç”¨ä¸€ä¸ªåˆ†æ”¯ä»£æ›¿æäº¤ï¼Œ<code>HEAD</code> è¢«åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå·¥ä½œç›®å½•ä¹Ÿè¢«ç›¸åº”æ›´æ–°ã€‚è¿™æ˜¯æ˜¯ <code>checkout</code> æ›´å…¬å…±çš„ç”¨æ³•ã€‚</p><ul><li><a href="https://www.atlassian.com/git/tutorials/undoing-changes/git-revert" target="_blank" rel="noopener"><code>git revert my_commit</code></a> â€”â€” æ’¤é”€ <em>my_commit</em> é‡Œçš„æ”¹å˜çš„å½±å“ã€‚<code>revert</code> æ’¤é”€æ”¹å˜æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ã€‚</li></ul><p><code>revert</code> å¯¹å¤šäººåˆä½œé¡¹ç›®æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒä¸ä¼šé‡å†™å…¶ä»–ç”¨æˆ·çš„åˆ†æ”¯å¯èƒ½ä¾èµ–çš„æäº¤å†å²ã€‚</p><p><img src="https://foreti.me/imgplace/2019/20190501161219.png" alt></p><div style="text-align: center;">revert is safe</div><p>æœ‰æ—¶ä½ åªæƒ³åˆ é™¤ä½ æœ¬åœ°ç›®å½•æœªè¢«è¿½è¸ªçš„æ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œå¯èƒ½ä½ è¿è¡Œäº†ä¸€äº›ä»£ç å»åˆ›å»ºå¤§é‡ä¸åŒç±»å‹çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä½ å¹¶ä¸æƒ³åŠ åˆ°ä½ çš„ä»“åº“ã€‚Oops. ğŸ˜ ä½ å¯ä»¥å¿«é€Ÿåœ°æ¸…é™¤å®ƒä»¬ã€‚</p><ul><li><a href="https://www.atlassian.com/git/tutorials/undoing-changes/git-clean" target="_blank" rel="noopener"><code>git clean -n</code></a> â€”â€” åˆ é™¤æœ¬åœ°ç›®å½•æœªè¿½è¸ªçš„æ–‡ä»¶ã€‚</li></ul><p><code>-n</code> æ ‡å¿— â€œis for a dry run where nothing is deleted.â€ ?</p><p>ä½¿ç”¨ <code>-f</code> æ ‡å¿—å»å¼ºåˆ¶ç§»é™¤æ–‡ä»¶ã€‚</p><p>ä½¿ç”¨ <code>-d</code> æ ‡å¿—å»ç§»é™¤æœªè¿½è¸ªçš„ç›®å½•ã€‚</p><p>é»˜è®¤çš„ <em>.gitignore</em> æŒ‡å®šçš„æœªè¿½è¸ªæ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤ï¼Œä½†æ˜¯è¿™ä¸ªè¡Œä¸ºå¯ä»¥è¢«æ›´æ”¹ã€‚</p><p><img src="https://foreti.me/imgplace/2019/20190501162527.png" alt></p><p>ç°åœ¨ä½ äº†è§£äº† Git é‡Œçš„æ’¤é”€äº‹æƒ…çš„å·¥å…·ï¼Œè®©æˆ‘ä»¬çœ‹ä¸‹ä¿æŒäº‹æƒ…æœ‰åºçš„ä¸¤ä¸ªå‘½ä»¤ã€‚</p><h2 id="æ•´ç†"><a href="#æ•´ç†" class="headerlink" title="æ•´ç†"></a>æ•´ç†</h2><ul><li><a href="https://www.atlassian.com/git/tutorials/rewriting-history#git-commit--amend" target="_blank" rel="noopener"><code>git commit --amend</code></a> â€”â€” æ·»åŠ æš‚å­˜çš„æ”¹å˜åˆ°æœ€è¿‘çš„ä¸€æ¡æäº¤é‡Œã€‚</li></ul><p>å¦‚æœæ²¡æœ‰è¢«æš‚å­˜çš„ï¼Œè¿™ä¸ªå‘½ä»¤å°±åªå…è®¸ä½ ç¼–è¾‘æœ€è¿‘çš„æäº¤ä¿¡æ¯ã€‚åªåœ¨è¿™ä¸ªæäº¤æ²¡è¢«æ•´åˆè¿›è¿œç¨‹ä¸»åˆ†æ”¯çš„æ—¶å€™ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼</p><ul><li><a href="https://www.atlassian.com/git/tutorials/syncing/git-push" target="_blank" rel="noopener">git push my_remote â€“tags</a> â€”â€” å‘é€æ‰€æœ‰çš„æœ¬åœ°æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ã€‚æœ‰åˆ©äºç‰ˆæœ¬å˜åŒ–ã€‚</li></ul><p>å¦‚æœä½ åœ¨ä½¿ç”¨ Python å¹¶åœ¨ä½ åˆ›å»ºçš„åŒ…é‡Œç”Ÿæˆæ”¹å˜ï¼Œ<a href="https://pypi.org/project/bump2version/" target="_blank" rel="noopener">bump2version</a> ä¼šè‡ªåŠ¨åœ°ä¸ºä½ åˆ›å»ºæ ‡ç­¾ã€‚ä¸€æ—¦ä½ æ¨é€äº†ä½ çš„æ ‡ç­¾ï¼Œä½ å°±å¯ä»¥åœ¨å‘å¸ƒä¸­ä½¿ç”¨å®ƒä»¬ã€‚<a href="https://towardsdatascience.com/build-your-first-open-source-python-project-53471c9942a7?source=friends_link&amp;sk=576540dbd90cf2ee72a3a0e0bfa72ffb" target="_blank" rel="noopener">è¿™æ˜¯æˆ‘çš„æŒ‡å¯¼</a> ï¼Œå¸®ä½ ç”Ÿæˆä½ çš„ç¬¬ä¸€ä¸ª OSS Python åŒ…ã€‚å…³æ³¨ <a href="https://medium.com/@jeffhale" target="_blank" rel="noopener">æˆ‘</a> æ¥ç¡®è®¤ä½ æ²¡æœ‰é—å¤±å‘ç‰ˆéƒ¨åˆ†ï¼</p><h2 id="æ±‚åŠ©ï¼Œæˆ‘é™·åœ¨-Vim-é‡Œå‡ºä¸æ¥äº†ï¼"><a href="#æ±‚åŠ©ï¼Œæˆ‘é™·åœ¨-Vim-é‡Œå‡ºä¸æ¥äº†ï¼" class="headerlink" title="æ±‚åŠ©ï¼Œæˆ‘é™·åœ¨ Vim é‡Œå‡ºä¸æ¥äº†ï¼"></a>æ±‚åŠ©ï¼Œæˆ‘é™·åœ¨ Vim é‡Œå‡ºä¸æ¥äº†ï¼</h2><p>ä½¿ç”¨ Gitï¼Œä½ å¯èƒ½å¶å°”å‘ç°è‡ªå·±è¢«ä¸¢è¿›äº†ä¸€ä¸ª Vim ç¼–è¾‘å™¨é‡Œã€‚æ¯”å¦‚ï¼Œä½ è¯•å›¾æäº¤ï¼Œä½†æ²¡å†™æäº¤æ¶ˆæ¯ â€”â€” Vim å°†ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚å¦‚æœä½ ä¸çŸ¥é“ Vimï¼Œä¸€ç§ç³Ÿç³•çš„ä¸œè¥¿ï¼ˆå¤§è¯¯ï¼‰ â€”â€” çœ‹çœ‹ <a href="https://stackoverflow.com/a/11828573/4590385" target="_blank" rel="noopener">è¿™ä¸ª 4000+ èµåŒçš„ Stack Overflow å›ç­”</a>ï¼Œäº†è§£æ€æ ·é€€å‡ºå®ƒã€‚</p><p><img src="https://foreti.me/imgplace/2019/20190501164225.png" alt></p><div style="text-align: center;">Freedom!</div><p>è¿™é‡Œæ˜¯ä¿å­˜æ–‡ä»¶é€€å‡º Vim çš„ 4 æ­¥è®¡åˆ’ï¼š</p><ol><li>æŒ‰ <code>i</code> è¿›å…¥è¾“å…¥æ¨¡å¼ã€‚</li><li>åœ¨ç¬¬ä¸€è¡Œè¾“å…¥ä½ çš„æäº¤ä¿¡æ¯ã€‚</li><li>æŒ‰é€€å‡ºé”® â€”â€” <code>Esc</code>ã€‚</li><li>è¾“å…¥ <code>:x</code>ã€‚ä¸è¦å¿˜äº†å†’å·ã€‚</li></ol><p>æ¬¢å‘¼ï¼Œä½ è‡ªç”±äº†ï¼ ğŸ˜„</p><h2 id="æ”¹å˜é»˜è®¤ç¼–è¾‘å™¨"><a href="#æ”¹å˜é»˜è®¤ç¼–è¾‘å™¨" class="headerlink" title="æ”¹å˜é»˜è®¤ç¼–è¾‘å™¨"></a>æ”¹å˜é»˜è®¤ç¼–è¾‘å™¨</h2><p>ä¸ºäº†å®Œå…¨é¿å… Vimï¼Œä½ å¯ä»¥åœ¨ Git é‡Œæ”¹å˜ä½ çš„é»˜è®¤ç¼–è¾‘å™¨ã€‚ï¼ˆè¿™ä¸€æ®µæˆ‘ä¸ç¿»è¯‘ï¼ŒVim å¤©ä¸‹ç¬¬ä¸€ï¼‰</p><h2 id="åˆ›å»º-Git-å‘½ä»¤çš„å¿«æ·æ–¹å¼"><a href="#åˆ›å»º-Git-å‘½ä»¤çš„å¿«æ·æ–¹å¼" class="headerlink" title="åˆ›å»º Git å‘½ä»¤çš„å¿«æ·æ–¹å¼"></a>åˆ›å»º Git å‘½ä»¤çš„å¿«æ·æ–¹å¼</h2><p><img src="https://cdn-images-1.medium.com/max/1600/1*iyvZMHER_5neLUhZaXSCdw.jpeg" alt></p><p>é€šè¿‡æ·»åŠ ä¸‹é¢çš„åˆ«ååˆ°ä½ çš„ <em>.bash_profile</em> æ¥æ·»åŠ  Git å‘½ä»¤çš„å¿«æ·æ–¹å¼ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> gs=<span class="string">'git status '</span></span><br><span class="line"><span class="built_in">alias</span> ga=<span class="string">'git add '</span></span><br><span class="line"><span class="built_in">alias</span> gaa=<span class="string">'git add -A '</span></span><br><span class="line"><span class="built_in">alias</span> gb=<span class="string">'git branch '</span></span><br><span class="line"><span class="built_in">alias</span> gc=<span class="string">'git commit '</span></span><br><span class="line"><span class="built_in">alias</span> gcm=<span class="string">'git commit -m '</span></span><br><span class="line"><span class="built_in">alias</span> go=<span class="string">'git checkout '</span></span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥è°ƒæ•´è¿™äº›ï¼Œä¸ºä½ å–œæ¬¢çš„ Git å‘½ä»¤æ·»åŠ å¿«æ·æ–¹å¼ã€‚</p><p>å¦‚æœä½ æ²¡æœ‰ä¸€ä¸ª <em>.bash_profile</em>ï¼Œä½ å¯ä»¥åœ¨ macOS ä¸Šåˆ›å»ºä¸€ä¸ªï¼š</p> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch ~/.bash_profile</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰“å¼€å®ƒï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open ~/.bash_profile</span><br></pre></td></tr></table></figure><p><a href="https://stackoverflow.com/a/30462883/4590385" target="_blank" rel="noopener">åœ¨è¿™</a>æŸ¥çœ‹æ›´å¤šæœ‰å…³ <em>.bash_profile</em> çš„ä¿¡æ¯ã€‚</p><p>ç°åœ¨å½“ä½ åœ¨ç»ˆç«¯è¾“å…¥ <code>gs</code> ï¼Œå°±ç­‰åŒäºè¾“å…¥ <code>git status</code>ã€‚æ³¨æ„ä½ å¯ä»¥åœ¨ä½ çš„å¿«æ·æ–¹å¼åè¾“å…¥å…¶ä»–çš„å‚æ•°ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥ç”Ÿæˆ Git åˆ«åï¼Œä½†æ˜¯é‚£éœ€è¦ä½ åœ¨ä½ çš„å¿«æ·å‘½ä»¤å‰è¾“å…¥ <code>git</code>ã€‚è°éœ€è¦å“ªäº›é¢å¤–çš„ä¸€ä¸‹å‘¢ï¼Ÿï¼ˆæˆ‘ï¼Œbash_profileçš„åˆ«åå¤ªå¤šå®¹æ˜“æ··æ·†ï¼Œå¦å¤–é™„èµ ä¸€æ¡æ›´å¥½åœ°æŸ¥çœ‹git logçš„åˆ«å<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias glg=&apos;git log --graph --pretty=format:&quot;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset&quot; --abbrev-commit --date=relative&apos;</span><br></pre></td></tr></table></figure></p><p>ï¼‰</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>åœ¨è¿™ç¯‡æ–‡ç« é‡Œä½ å¯ä»¥çœ‹åˆ°ä¸€äº›å…³é”®çš„ Git å‘½ä»¤ï¼Œä»¥åŠé…ç½®ç¯å¢ƒèŠ‚çœæ—¶é—´ã€‚ç°åœ¨ç†ç”±äº† Git å’Œ Github çš„åŸºç¡€äº†ã€‚å‡†å¤‡å¥½å¼€å§‹ä¸‹ä¸€æ­¥äº†å—ï¼Ÿ</p><ul><li>Check out <a href="https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud" target="_blank" rel="noopener">this Bitbucket Git tutorial</a> to go deeper.</li><li>Explore this <a href="https://learngitbranching.js.org/" target="_blank" rel="noopener">interactive guide</a> to Git branching. Branching can be confusing, so itâ€™s definitely worth a look. ğŸ”</li><li>Go play, learn, and explain the differences to someone else.</li></ul><p>æˆ‘å¸Œæœ›ä½ å‘ç°è¿™ä¸ªå¯¹ Git å’Œ Github çš„ä»‹ç»æ˜¯æœ‰ç”¨çš„ã€‚å¦‚æœä½ æ˜¯çš„ï¼Œè¯·åœ¨ä½ å–œæ¬¢çš„ç¤¾äº¤åª’ä½“é¢‘é“ä¸Šåˆ†äº«å®ƒï¼Œè¿™æ ·å…¶ä»–äººä¹Ÿèƒ½çœ‹è§ã€‚</p><p>æˆ‘å†™å…³äºå¦‚ä½•æœ‰æ•ˆå’Œä¾¿æ·åœ°ä½¿ç”¨ Pythonã€Docker å’Œ å…¶ä»–çš„ç¼–ç¨‹å’Œæ•°æ®ç§‘å­¦å·¥å…·ã€‚å¦‚æœä½ æœ‰å…´è¶£ï¼Œåœ¨<a href="https://medium.com/@jeffhale" target="_blank" rel="noopener">è¿™é‡Œ</a>å…³æ³¨æˆ‘äº†è§£æ›´å¤šã€‚</p><p>å»ä½¿ç”¨ Git å§ï¼</p><p><img src="https://cdn-images-1.medium.com/max/2400/1*jEf16zycWCHBGCn56W-VPA.jpeg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;201902W11 Review, Gitçš„ä¸€äº›å¸¸ç”¨ä¸”å¾ˆæœ‰ç”¨çš„å‘½ä»¤ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="git" scheme="https://foreti.me/blog/tags/git/"/>
    
      <category term="Review" scheme="https://foreti.me/blog/tags/Review/"/>
    
  </entry>
  
  <entry>
    <title>Spring @RequestMappingè¯¦è§£</title>
    <link href="https://foreti.me/blog/2019/03/02/spring-requestmapping/"/>
    <id>https://foreti.me/blog/2019/03/02/spring-requestmapping/</id>
    <published>2019-03-01T16:00:00.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>201902W9 Review, ä¸€ç¯‡å…³äºSpring RequestMappingçš„è¯‘æ–‡ã€‚</p><a id="more"></a><hr><h1 id="Spring-RequestMapping"><a href="#Spring-RequestMapping" class="headerlink" title="Spring RequestMapping"></a>Spring RequestMapping</h1><p><a href="https://www.baeldung.com/spring-requestmapping" target="_blank" rel="noopener">åŸæ–‡</a><br>by <a href="https://www.baeldung.com/author/eugen/" target="_blank" rel="noopener">Eugen Paraschiv</a></p><h2 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å…³æ³¨äºè¿™ä¸ªSpring MVCä¸­å¸¸ç”¨çš„æ³¨é‡Š - @RequestMappingã€‚</p><p>ç®€å•åœ°è¯´ï¼Œè¿™ä¸ªæ³¨é‡Šç”¨äºå°†ç½‘ç»œè¯·æ±‚æ˜ å°„åˆ°Spring Controllerçš„æ–¹æ³•ã€‚</p><h2 id="2-RequestMappingåŸºç¡€"><a href="#2-RequestMappingåŸºç¡€" class="headerlink" title="2. @RequestMappingåŸºç¡€"></a>2. <em>@RequestMapping</em>åŸºç¡€</h2><p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹ - æŒ‰ç…§ä¸€äº›åŸºæœ¬çš„æ ‡å‡†å°†ä¸€ä¸ªHTTPè¯·æ±‚æ˜ å°„åˆ°ä¸€ä¸ªæ–¹æ³•ã€‚</p><h3 id="2-1-RequestMapping-æŒ‰è·¯å¾„"><a href="#2-1-RequestMapping-æŒ‰è·¯å¾„" class="headerlink" title="2.1. @RequestMapping - æŒ‰è·¯å¾„"></a>2.1. <em>@RequestMapping</em> - æŒ‰è·¯å¾„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos"</span>, method = RequestMethod.GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosBySimplePath</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¦ä½¿ç”¨ç®€å•çš„<em>curl</em>å‘½ä»¤æµ‹è¯•æ­¤æ˜ å°„ï¼Œè¯·è¿è¡Œï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p><h3 id="2-2-RequestMapping-HTTPæ–¹æ³•"><a href="#2-2-RequestMapping-HTTPæ–¹æ³•" class="headerlink" title="2.2. @RequestMapping - HTTPæ–¹æ³•"></a>2.2. <em>@RequestMapping</em> - HTTPæ–¹æ³•</h3><p>HTTPæ–¹æ³•å‚æ•°æ²¡æœ‰é»˜è®¤å€¼ - å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä¸æŒ‡å®šå€¼ï¼Œå®ƒå°†æ˜ å°„åˆ°ä»»ä½•HTTPè¯·æ±‚ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œç±»ä¼¼äºå‰ä¸€ä¸ªç¤ºä¾‹ - ä½†è¿™æ¬¡æ˜ å°„åˆ°ä¸€ä¸ªHTTP POSTè¯·æ±‚ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos"</span>, method = POST)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">postFoos</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Post some Foos"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¦é€šè¿‡<em>curl</em>å‘½ä»¤æµ‹è¯•POST ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p><h2 id="3-RequestMapping-å’Œ-HTTP-Headers"><a href="#3-RequestMapping-å’Œ-HTTP-Headers" class="headerlink" title="3. RequestMapping å’Œ HTTP Headers"></a>3. RequestMapping å’Œ HTTP Headers</h2><h3 id="3-1-å¸¦æœ‰headers-Attributeçš„-RequestMapping"><a href="#3-1-å¸¦æœ‰headers-Attributeçš„-RequestMapping" class="headerlink" title="3.1. å¸¦æœ‰headers Attributeçš„@RequestMapping"></a>3.1. å¸¦æœ‰headers Attributeçš„<em>@RequestMapping</em></h3><p>ç»™è¯·æ±‚æŒ‡å®šä¸€ä¸ªheaderï¼Œå¯ä»¥è¿›ä¸€æ­¥é™åˆ¶æ˜ å°„èŒƒå›´ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos"</span>, headers = <span class="string">"key=val"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosWithHeader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos with Header"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¸ºäº†æµ‹è¯•è¿è¡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<em>curl</em>çš„headerå‚æ•°<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -H <span class="string">"key:val"</span> http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p><p>æ›´è¿›ä¸€æ­¥ï¼Œé€šè¿‡ <em>@RequestMapping</em>çš„ <em>header</em>å±æ€§å®ç°å¤šä¸ªheader<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos"</span>, </span><br><span class="line">  headers = &#123; <span class="string">"key1=val1"</span>, <span class="string">"key2=val2"</span> &#125;, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosWithHeaders</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos with Header"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥é€šè¿‡å‘½ä»¤æµ‹è¯•è¿™ä¸ªæ–¹æ³•<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -H <span class="string">"key1:val1"</span> -H <span class="string">"key2:val2"</span> http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼Œå¯¹äº<em>curl</em>è¯­æ³•ï¼Œç”¨å†’å·åˆ†ç¦»headerçš„é”®å’Œå€¼ï¼Œä¸HTTPä¸­çš„è§„èŒƒç›¸åŒï¼Œè€Œåœ¨Springä¸­æ˜¯ç”¨ç­‰å·ã€‚</p><h3 id="3-2-RequestMapping-æ¶ˆè´¹å’Œç”Ÿäº§"><a href="#3-2-RequestMapping-æ¶ˆè´¹å’Œç”Ÿäº§" class="headerlink" title="3.2. @RequestMapping æ¶ˆè´¹å’Œç”Ÿäº§"></a>3.2. <em>@RequestMapping</em> æ¶ˆè´¹å’Œç”Ÿäº§</h3><p>æ˜ å°„<strong>ç”±Controlleräº§ç”Ÿçš„åª’ä½“ç±»å‹</strong>çš„æ–¹æ³•ç‰¹åˆ«å€¼å¾—æ³¨æ„ - æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šé¢ä»‹ç»çš„ <em>@RequestMapping</em> çš„headerså±æ€§ï¼ŒåŸºäº<em>Accept</em> headeræ˜ å°„è¯·æ±‚ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos"</span>, </span><br><span class="line">  method = GET, </span><br><span class="line">  headers = <span class="string">"Accept=application/json"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosAsJsonFromBrowser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos with Header Old"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åŒ¹é…è¿™ç§å®šä¹‰<em>Accept</em> headerçš„æ–¹æ³•æ˜¯çµæ´»çš„ - æ˜¯ç”¨åŒ…å«è€Œä¸æ˜¯ç­‰äºï¼Œæ‰€ä»¥ä¸€ä¸ªä¸‹é¢è¿™æ ·çš„è¯·æ±‚ä¹Ÿèƒ½æ­£ç¡®åœ°åŒ¹é…ã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H <span class="string">"Accept:application/json,text/html"</span> http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p><p>ä»Spring 3.1å¼€å§‹ï¼Œ <strong><em>@RequestMapping</em>æ³¨é‡Šå…·æœ‰produceså’Œconsumeså±æ€§</strong>ï¼Œç‰¹åˆ«æ˜¯ä¸ºäº†è¿™ç§ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos"</span>, </span><br><span class="line">  method = RequestMethod.GET, </span><br><span class="line">  produces = <span class="string">"application/json"</span></span><br><span class="line">)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosAsJsonFromREST</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos with Header New"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ­¤å¤–ï¼Œå¸¦æœ‰<em>headers</em>å±æ€§çš„æ—§ç±»å‹çš„æ˜ å°„å°†è‡ªåŠ¨è½¬æ¢æˆSpring 3.1å¼€å§‹çš„æ–°<em>produces</em>æœºåˆ¶ï¼Œæ‰€ä»¥ç»“æœæ˜¯ç›¸åŒçš„ã€‚</p><p>åŒæ ·çš„æ–¹å¼ï¼Œé€šè¿‡<em>curl</em>è¿›è¡Œconsumeï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H <span class="string">"Accept:application/json"</span> http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p><p>å¦å¤–ï¼Œ<em>produces</em>ä¹Ÿæ”¯æŒå¤šå€¼ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos"</span>, </span><br><span class="line">  method = GET,</span><br><span class="line">  produces = &#123; <span class="string">"application/json"</span>, <span class="string">"application/xml"</span> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>è®°ä½è¿™äº› - æŒ‡å®š<em>accept</em> headerçš„æ—§çš„æ–¹æ³•å’Œæ–°çš„æ–¹æ³• - åŸºæœ¬ä¸Šæ˜¯ç›¸åŒçš„æ˜ å°„ï¼Œæ‰€ä»¥Springä¸å…è®¸å®ƒä»¬ä¸€èµ·ä½¿ç”¨ - ä¸€èµ·ç”¨å°†ä¼šå¯¼è‡´ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.IllegalStateException: Ambiguous mapping found. </span><br><span class="line">Cannot map <span class="string">'fooController'</span> bean method </span><br><span class="line">java.lang.String </span><br><span class="line">org.baeldung.spring.web.controller</span><br><span class="line">  .FooController.getFoosAsJsonFromREST()</span><br><span class="line">to </span><br><span class="line">&#123; [/ex/foos],</span><br><span class="line">  methods=[GET],params=[],headers=[],</span><br><span class="line">  consumes=[],produces=[application/json],custom=[]</span><br><span class="line">&#125;: </span><br><span class="line">There is already <span class="string">'fooController'</span> bean method</span><br><span class="line">java.lang.String </span><br><span class="line">org.baeldung.spring.web.controller</span><br><span class="line">  .FooController.getFoosAsJsonFromBrowser() </span><br><span class="line">mapped.</span><br></pre></td></tr></table></figure></p><p>å…³äºæ–°çš„<em>produces</em>å’Œ<em>consumes</em>æœºåˆ¶çš„æœ€åä¸€ç‚¹ - ä¸å…¶ä»–æ³¨é‡Šè¡¨ç°ä¸åŒçš„æ˜¯ - å½“æŒ‡å®šç±»å‹çº§åˆ«æ—¶ï¼Œæ–¹æ³•çº§åˆ«çš„æ³¨é‡Šä¸ä¼šè¡¥å……è€Œä¼šè¦†ç›–ç±»å‹çº§åˆ«çš„ä¿¡æ¯ã€‚</p><p>è¿™å¥æ²¡ç†è§£ï¼ŒåŸæ–‡</p><blockquote><p>when specified at the type level, <strong>the method level annotations do not complement but override</strong> the type level information.</p></blockquote><p>å½“ç„¶ï¼Œå¦‚æœä½ æƒ³æ·±å…¥äº†è§£ç”¨Springæ„å»ºREST API - è¯·çœ‹<a href="https://www.baeldung.com/rest-with-spring-course?utm_source=blog&amp;utm_medium=web&amp;utm_content=art1&amp;utm_campaign=rws" target="_blank" rel="noopener">the new REST with Spring course</a>ã€‚</p><h2 id="4-RequestMappingä½¿ç”¨è·¯å¾„å˜é‡"><a href="#4-RequestMappingä½¿ç”¨è·¯å¾„å˜é‡" class="headerlink" title="4. RequestMappingä½¿ç”¨è·¯å¾„å˜é‡"></a>4. <em>RequestMapping</em>ä½¿ç”¨è·¯å¾„å˜é‡</h2><p>æ˜ å°„URIçš„ä¸€éƒ¨åˆ†å¯ä»¥é€šè¿‡ <em>@PathVariable</em>æ³¨è§£ç»‘å®šåˆ°å˜é‡ã€‚</p><h3 id="4-1-å•ä¸ª-PathVariable"><a href="#4-1-å•ä¸ª-PathVariable" class="headerlink" title="4.1 å•ä¸ª @PathVariable"></a>4.1 å•ä¸ª <em>@PathVariable</em></h3><p>ä¸€ä¸ªç®€å•çš„å•è·¯å¾„å˜é‡ä¾‹å­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos/&#123;id&#125;"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosBySimplePathWithPathVariable</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @PathVariable(<span class="string">"id"</span>)</span> <span class="keyword">long</span> id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Foo with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥ç”¨<em>curl</em>æµ‹è¯•ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:8080/spring-rest/ex/foos/1</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæ–¹æ³•çš„å‚æ•°åå’Œè·¯å¾„åç›¸åŒï¼Œå¯ä»¥åªç”¨ <em>@PathVariable</em> è€Œä¸é™„åŠ å€¼ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos/&#123;id&#125;"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosBySimplePathWithPathVariable</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @PathVariable String id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Foo with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ <em>@PathVariable</em> å—åˆ©äºè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¿®é¥°idä¸ºï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PathVariable</span> <span class="keyword">long</span> id</span><br></pre></td></tr></table></figure></p><h3 id="4-2-å¤šä¸ª-PathVariable"><a href="#4-2-å¤šä¸ª-PathVariable" class="headerlink" title="4.2 å¤šä¸ª @PathVariable"></a>4.2 å¤šä¸ª <em>@PathVariable</em></h3><p>æ›´å¤æ‚çš„URIå¯èƒ½éœ€è¦æ˜ å°„URIçš„å¤šä¸ªéƒ¨åˆ†åˆ°å¤šä¸ªå€¼ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos/&#123;fooid&#125;/bar/&#123;barid&#125;"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String getFoosBySimplePathWithPathVariables</span><br><span class="line">  (<span class="meta">@PathVariable</span> <span class="keyword">long</span> fooid, <span class="meta">@PathVariable</span> <span class="keyword">long</span> barid) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Bar with id="</span> + barid + </span><br><span class="line">      <span class="string">" from a Foo with id="</span> + fooid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åŒæ ·è¿™å¯ä»¥ç”¨<em>curl</em>å®¹æ˜“çš„æµ‹è¯•ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:8080/spring-rest/ex/foos/1/bar/2</span><br></pre></td></tr></table></figure></p><h3 id="4-3-å¸¦æ­£åˆ™è¡¨è¾¾å¼çš„-PathVariable"><a href="#4-3-å¸¦æ­£åˆ™è¡¨è¾¾å¼çš„-PathVariable" class="headerlink" title="4.3 å¸¦æ­£åˆ™è¡¨è¾¾å¼çš„ @PathVariable"></a>4.3 å¸¦æ­£åˆ™è¡¨è¾¾å¼çš„ <em>@PathVariable</em></h3><p>æ­£åˆ™è¡¨è¾¾å¼ä¹Ÿèƒ½ç”¨æ¥æ˜ å°„ <em>@PathVariable</em>ï¼›ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶æ˜ å°„idåªæ¥å—æ•°å­—ç±»å‹çš„å€¼ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/bars/&#123;numericId:[\\d]+&#125;"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBarsBySimplePathWithPathVariable</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @PathVariable <span class="keyword">long</span> numericId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Bar with id="</span> + numericId;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™å°†æ„å‘³ç€ä¸‹é¢çš„URIå¯ä»¥é€‚é…ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/spring-rest/ex/bars/1</span><br></pre></td></tr></table></figure></p><p>ä½†è¿™ä¸ªä¸èƒ½ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/spring-rest/ex/bars/abc</span><br></pre></td></tr></table></figure></p><h2 id="5-RequestMappingä½¿ç”¨Request-Parameters"><a href="#5-RequestMappingä½¿ç”¨Request-Parameters" class="headerlink" title="5. RequestMappingä½¿ç”¨Request Parameters"></a>5. <em>RequestMapping</em>ä½¿ç”¨Request Parameters</h2><p>@RequestMappingå…è®¸æ–¹ä¾¿çš„ä½¿ç”¨ <em>@RequestParam</em>æ³¨è§£æ˜ å°„URLå‚æ•°ã€‚</p><p>æˆ‘ä»¬ç°åœ¨æ˜ å°„ä¸€ä¸ªè¿™æ ·çš„URIè¯·æ±‚ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/spring-rest/ex/bars?id=100</span><br></pre></td></tr></table></figure></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/bars"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBarBySimplePathWithRequestParam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @RequestParam(<span class="string">"id"</span>)</span> <span class="keyword">long</span> id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Bar with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥ç€åœ¨controlleræ–¹æ³•ä¸­ä½¿ç”¨ <em>@RequestParam(â€œidâ€)</em> æ³¨è§£å–å‡º<em>id</em>å‚æ•°çš„å€¼ã€‚</p><p>è¦å‘é€å¸¦<em>id</em>å‚æ•°çš„è¯·æ±‚ï¼Œæˆ‘ä»¬åœ¨<em>curl</em>ä¸­ä½¿ç”¨å‚æ•°æ”¯æŒï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -d id=100 http://localhost:8080/spring-rest/ex/bars</span><br></pre></td></tr></table></figure></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‚æ•°ç›´æ¥ç»‘å®šè€Œä¸å…ˆå£°æ˜ã€‚</p><p>å¯¹äºæ›´è¿›ä¸€æ­¥çš„åœºæ™¯ï¼Œ <em>@RequestMapping</em>æœ‰å¯é€‰çš„å‚æ•°å®šä¹‰ - ä½œä¸ºåˆä¸€ä¸ªé™åˆ¶è¯·æ±‚æ˜ å°„çš„æ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/bars"</span>, params = <span class="string">"id"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBarBySimplePathWithExplicitRequestParam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @RequestParam(<span class="string">"id"</span>)</span> <span class="keyword">long</span> id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Bar with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç”šè‡³å¯ä»¥æ›´çµæ´»çš„æ˜ å°„ - å¯ä»¥è®¾ç½®å¤šä¸ª<em>params</em>å€¼ï¼Œå¹¶ä¸”ä¸æ˜¯æ‰€æœ‰éƒ½ä½¿ç”¨ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/bars"</span>, </span><br><span class="line">  params = &#123; <span class="string">"id"</span>, <span class="string">"second"</span> &#125;, </span><br><span class="line">  method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBarBySimplePathWithExplicitRequestParams</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @RequestParam(<span class="string">"id"</span>)</span> <span class="keyword">long</span> id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Narrow Get a specific Bar with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å½“ç„¶ï¼Œä¸€ä¸ªåƒè¿™æ ·çš„è¯·æ±‚URIï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/spring-rest/ex/bars?id=100&amp;second=something</span><br></pre></td></tr></table></figure></p><p>å°†æ€»ä¼šè¢«æ˜ å°„åˆ°æœ€å¥½çš„é€‚é… - æ›´è¿›ä¸€æ­¥çš„é€‚é…ï¼ŒåŒæ—¶å®šä¹‰<em>id</em>å’Œ<em>second</em>å‚æ•°ã€‚</p><h2 id="6-RequestMapping-Corner-Cases"><a href="#6-RequestMapping-Corner-Cases" class="headerlink" title="6. RequestMapping Corner Cases"></a>6. <em>RequestMapping</em> Corner Cases</h2><h3 id="6-1-RequestMapping-â€“-å¤šä¸ªè·¯å¾„æ˜ å°„åˆ°åŒä¸€Controlleræ–¹æ³•"><a href="#6-1-RequestMapping-â€“-å¤šä¸ªè·¯å¾„æ˜ å°„åˆ°åŒä¸€Controlleræ–¹æ³•" class="headerlink" title="6.1. @RequestMapping â€“ å¤šä¸ªè·¯å¾„æ˜ å°„åˆ°åŒä¸€Controlleræ–¹æ³•"></a>6.1. <em>@RequestMapping</em> â€“ å¤šä¸ªè·¯å¾„æ˜ å°„åˆ°åŒä¸€Controlleræ–¹æ³•</h3><p>è™½ç„¶ä¸€ä¸ªå•ä¸ª <em>@RequestMapping</em>è·¯å¾„å€¼é€šå¸¸ç”¨äºå•ä¸ªcontrolleræ–¹æ³•ï¼Œ ä½†è¿™åªæ˜¯ä¸€ç§å¥½çš„ç”¨æ³•ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶è§„åˆ™ - æœ‰ä¸€äº›æƒ…å†µä¸‹ï¼Œå¤šä¸ªè¯·æ±‚åˆ°åŒä¸€æ–¹æ³•çš„å¯èƒ½æ˜¯å¿…è¦çš„ã€‚åœ¨é‚£ç§æƒ…å†µä¸‹ï¼Œ <strong>@RequestMappingçš„valueå±æ€§æ¥æ”¶å¤šä¸ªæ˜ å°„</strong>ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ˜ å°„ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = &#123; <span class="string">"/ex/advanced/bars"</span>, <span class="string">"/ex/advanced/foos"</span> &#125;, </span><br><span class="line">  method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosOrBarsByPath</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Advanced - Get some Foos or Bars"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç°åœ¨ï¼Œè¿™ä¸¤ä¸ª<em>curl</em>å‘½ä»¤åº”è¯¥ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -i http://localhost:8080/spring-rest/ex/advanced/foos</span><br><span class="line">curl -i http://localhost:8080/spring-rest/ex/advanced/bars</span><br></pre></td></tr></table></figure></p><h3 id="6-2-RequestMapping-â€“-å¤šä¸ªHTTPè¯·æ±‚æ–¹æ³•åˆ°åŒä¸€ä¸ªcontrolleræ–¹æ³•"><a href="#6-2-RequestMapping-â€“-å¤šä¸ªHTTPè¯·æ±‚æ–¹æ³•åˆ°åŒä¸€ä¸ªcontrolleræ–¹æ³•" class="headerlink" title="6.2. @RequestMapping â€“ å¤šä¸ªHTTPè¯·æ±‚æ–¹æ³•åˆ°åŒä¸€ä¸ªcontrolleræ–¹æ³•"></a>6.2. <em>@RequestMapping</em> â€“ å¤šä¸ªHTTPè¯·æ±‚æ–¹æ³•åˆ°åŒä¸€ä¸ªcontrolleræ–¹æ³•</h3><p>ç”¨ä¸åŒHTTPè¯·æ±‚æ–¹å¼çš„å¤šä¸ªè¯·æ±‚å¯ä»¥è¢«æ˜ å°„åˆ°åŒä¸€ä¸ªControlleræ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos/multiple"</span>, </span><br><span class="line">  method = &#123; RequestMethod.PUT, RequestMethod.POST &#125;</span><br><span class="line">)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">putAndPostFoos</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Advanced - PUT and POST within single method"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç”¨<em>curl</em>ï¼Œè¿™äº›è¯·æ±‚éƒ½è¢«æ‰“åˆ°åŒä¸€ä¸ªæ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST http:<span class="comment">//localhost:8080/spring-rest/ex/foos/multiple</span></span><br><span class="line">curl -i -X PUT http:<span class="comment">//localhost:8080/spring-rest/ex/foos/multiple</span></span><br></pre></td></tr></table></figure></p><h3 id="6-3-RequestMapping-å¯¹æ‰€æœ‰è¯·æ±‚çš„è¿”å›"><a href="#6-3-RequestMapping-å¯¹æ‰€æœ‰è¯·æ±‚çš„è¿”å›" class="headerlink" title="6.3. @RequestMapping - å¯¹æ‰€æœ‰è¯·æ±‚çš„è¿”å›"></a>6.3. <em>@RequestMapping</em> - å¯¹æ‰€æœ‰è¯·æ±‚çš„è¿”å›</h3><p>å¯¹æ‰€æœ‰è¯·æ±‚å®ç°ä¸€ä¸ªè¿”å›ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªç‰¹åˆ«çš„HTTPæ–¹æ³• - ä¾‹å¦‚ï¼Œå¯¹GETæ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"*"</span>, method = RequestMethod.GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Fallback for GET Requests"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æˆ–è€…å¯¹æ‰€æœ‰è¯·æ±‚ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"*"</span>, </span><br><span class="line">  method = &#123; RequestMethod.GET, RequestMethod.POST ... &#125;)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">allFallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Fallback for All Requests"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="6-4-æ¨¡ç³Šæ˜ å°„é”™è¯¯"><a href="#6-4-æ¨¡ç³Šæ˜ å°„é”™è¯¯" class="headerlink" title="6.4 æ¨¡ç³Šæ˜ å°„é”™è¯¯"></a>6.4 æ¨¡ç³Šæ˜ å°„é”™è¯¯</h3><p>æ¨¡ç³Šæ˜ å°„é”™è¯¯å‘ç”Ÿä¸ï¼šå½“Springè¯„ä¼°ä¸¤ä¸ªæˆ–å¤šä¸ªè¯·æ±‚æ˜ å°„å¯¹äºä¸åŒçš„Controlleræ–¹æ³•æ˜¯ç›¸åŒçš„ã€‚å½“ä¸¤ä¸ªè¯·æ±‚æ˜ å°„æœ‰åŒæ ·çš„HTTPæ–¹æ³•ã€URLã€å‚æ•°ã€å¤´éƒ¨å’Œåª’ä½“ç±»å‹æ—¶ï¼Œå®ƒä»¬å°±æ˜¯ç›¸åŒçš„ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¨¡ç³Šæ˜ å°„ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"foos/duplicate"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">duplicate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Duplicate"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"foos/duplicate"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">duplicateEx</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Duplicate"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æŠ›å‡ºçš„å¼‚å¸¸é€šå¸¸åœ¨è¿™äº›è¡Œæœ‰å¼‚å¸¸ä¿¡æ¯ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.IllegalStateException: Ambiguous mapping.</span><br><span class="line">  Cannot map <span class="string">'fooMappingExamplesController'</span> method </span><br><span class="line">  <span class="keyword">public</span> java.lang.String org.baeldung.web.controller.FooMappingExamplesController.duplicateEx()</span><br><span class="line">  to &#123;[/ex/foos/duplicate],methods=[GET]&#125;:</span><br><span class="line">  There is already <span class="string">'fooMappingExamplesController'</span> bean method</span><br><span class="line">  <span class="keyword">public</span> java.lang.String org.baeldung.web.controller.FooMappingExamplesController.duplicate() mapped.</span><br></pre></td></tr></table></figure></p><p>ä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯ï¼ŒæŒ‡å‡ºSpringä¸èƒ½æ˜ å°„æ–¹æ³•<em>org.baeldung.web.controller.FooMappingExamplesController.duplicateEx()</em> ï¼Œå› ä¸ºå®ƒä¸ä¸€ä¸ªå·²ç»æ˜ å°„çš„<em>org.baeldung.web.controller.FooMappingExamplesController.duplicate()</em> æœ‰å†²çªã€‚</p><p>ä¸‹é¢è¿™ä¸ªä»£ç æ®µå°†ä¸ä¼šäº§ç”Ÿæ¨¡ç³Šæ˜ å°„é”™è¯¯ï¼Œå› ä¸ºä¸¤ä¸ªæ–¹æ³•è¿”å›ä¸åŒçš„å†…å®¹ç±»å‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"foos/duplicate"</span>, produces = MediaType.APPLICATION_XML_VALUE)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">duplicate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Duplicate"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"foos/duplicate"</span>, produces = MediaType.APPLICATION_JSON_VALUE)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">duplicateEx</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Duplicate"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="7-æ–°çš„è¯·æ±‚æ˜ å°„æ·å¾„"><a href="#7-æ–°çš„è¯·æ±‚æ˜ å°„æ·å¾„" class="headerlink" title="7. æ–°çš„è¯·æ±‚æ˜ å°„æ·å¾„"></a>7. æ–°çš„è¯·æ±‚æ˜ å°„æ·å¾„</h2><p>Spring Framework 4.3å¼•å…¥äº†<a href="https://www.baeldung.com/spring-new-requestmapping-shortcuts" target="_blank" rel="noopener">ä¸€äº›æ–°çš„</a>HTTPæ˜ å°„æ³¨é‡Šï¼Œæ‰€æœ‰è¿™äº›éƒ½åŸºäº <em>@RequestMapping</em> ï¼š</p><ul><li><strong>@GetMapping</strong></li><li><strong>@PostMapping</strong></li><li><strong>@PutMapping</strong></li><li><strong>@DeleteMapping</strong></li><li><strong>@PatchMapping</strong></li></ul><p>è¿™äº›æ–°çš„æ³¨è§£å¯ä»¥æé«˜å¯è¯»æ€§ï¼Œå‡å°‘ä»£ç å†—é•¿ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›æ–°çš„æ³¨è§£åœ¨åˆ›å»ºä¸€ä¸ªæ”¯æŒCRUDæ“ä½œRESTFUL APIçš„å®ä¾‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; getBazz(<span class="meta">@PathVariable</span> String id)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">new</span> Bazz(id, <span class="string">"Bazz"</span>+id), HttpStatus.OK);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; newBazz(<span class="meta">@RequestParam</span>(<span class="string">"name"</span>) String name)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">new</span> Bazz(<span class="string">"5"</span>, name), HttpStatus.OK);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@PutMapping</span>(<span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; updateBazz(</span><br><span class="line">  <span class="meta">@PathVariable</span> String id,</span><br><span class="line">  <span class="meta">@RequestParam</span>(<span class="string">"name"</span>) String name) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">new</span> Bazz(id, name), HttpStatus.OK);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@DeleteMapping</span>(<span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; deleteBazz(<span class="meta">@PathVariable</span> String id)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">new</span> Bazz(id), HttpStatus.OK);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ·±å…¥äº†è§£è¿™äº›å¯ä»¥åœ¨<a href="https://www.baeldung.com/spring-new-requestmapping-shortcuts" target="_blank" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p><h2 id="8-Springé…ç½®"><a href="#8-Springé…ç½®" class="headerlink" title="8. Springé…ç½®"></a>8. Springé…ç½®</h2><p>Spring MVCçš„é…ç½®è¶³å¤Ÿç®€å• - è€ƒè™‘åˆ°æˆ‘ä»¬çš„<em>FooController</em>è¢«å®šä¹‰åœ¨æ¥ä¸‹æ¥çš„åŒ…é‡Œ:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.baeldung.spring.web.controller;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FooController</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬åªç”¨ä¸€ä¸ª <em>@Configuration</em> å»å¯ç”¨å®Œæ•´çš„MVCæ”¯æŒå¹¶ä¸ºæ§åˆ¶å™¨é…ç½®ç±»è·¯å¾„æ‰«æï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(&#123; <span class="string">"org.baeldung.spring.web.controller"</span> &#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MvcConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="9-ç»“è®º"><a href="#9-ç»“è®º" class="headerlink" title="9. ç»“è®º"></a>9. ç»“è®º</h2><p>è¿™ç¯‡æ–‡ç« ä¸“æ³¨äº<strong>Springçš„ <em>@RequestMapping</em> æ³¨è§£</strong> - è®¨è®ºä¸€ä¸ªç®€å•çš„ç”¨ä¾‹, HTTPå¤´çš„æ˜ å°„, <em>@PathVariable</em> ç»‘å®šURIéƒ¨åˆ†, ä½¿ç”¨URLå‚æ•°å·¥ä½œ, å’Œä½¿ç”¨ <em>@RequestParam</em> æ³¨è§£.</p><p>å¦‚æœä½ æƒ³å­¦ä¹ å¦‚ä½•ä½¿ç”¨å¦ä¸€ä¸ªSpring MVCçš„æ ¸å¿ƒæ³¨è§£, ä½ å¯ä»¥<a href="https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation" target="_blank" rel="noopener">åœ¨è¿™æµè§ˆ <em>@ModelAttribu</em> æ³¨è§£</a>.</p><p>è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨ä»£ç åœ¨<a href="https://github.com/eugenp/tutorials/tree/master/spring-rest-simple" target="_blank" rel="noopener">Github</a>å¯è§. è¿™æ˜¯ä¸€ä¸ªMavené¡¹ç›®, æ‰€ä»¥å®ƒå¯ä»¥å¾ˆå®¹æ˜“è¢«å¯¼å…¥å’Œè¿è¡Œ.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;201902W9 Review, ä¸€ç¯‡å…³äºSpring RequestMappingçš„è¯‘æ–‡ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Review" scheme="https://foreti.me/blog/tags/Review/"/>
    
      <category term="Spring" scheme="https://foreti.me/blog/tags/Spring/"/>
    
      <category term="RequestMapping" scheme="https://foreti.me/blog/tags/RequestMapping/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„steamè´¦å·è¢«ç›—ç»å†</title>
    <link href="https://foreti.me/blog/2019/03/01/steam-account-stolen/"/>
    <id>https://foreti.me/blog/2019/03/01/steam-account-stolen/</id>
    <published>2019-02-28T16:06:37.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>æ¥è‡ªä¸€ä¸ªç¨‹åºå‘˜çš„å¿ƒç†è‡ªé™ˆã€‚</p><a id="more"></a><hr><p><img src="https://foreti.me/imgplace/2019/20190429231202.png" alt></p><p>æœ€è¿‘åœ¨ç©LOLçš„æ— é™ç«åŠ›ï¼Œæ¯•ç«Ÿä¸åœæ•²å‡»æŠ€èƒ½é”®è®©äººæ— ç©·æ— å°½çš„çˆ½å¿«æ„Ÿã€‚ç„¶è€Œå°±åœ¨é‚£å¤©æ™šä¸ŠLOLçš„æœåŠ¡å™¨æ›´æ–°ï¼Œæˆ‘åªå¥½ç©äº†å‡ æŠŠApexï¼Œè¿™æ˜¯å‰äº›å¤©ç«èµ·æ¥çš„æ¸¸æˆï¼Œå®ˆæœ›+å ¡å’ï¼Œéƒ½æ˜¯æˆ‘ä¸æ“…é•¿çš„ç±»å‹ã€‚ç©åƒé¸¡ç±»å‹çš„æ¸¸æˆè¿˜æ˜¯å«æœ‹å‹ä¸€èµ·æ‰æœ‰è¶£ã€‚æˆ‘è‡ªå·±çš„æ¸¸æˆæœºä¸Šä¹ æƒ¯æ˜¯steamå¼€æœºå¯åŠ¨çš„ï¼Œæ‰“å®Œå‡ æŠŠæ²¡æ„æ€åˆ‡äº†å‡ºæ¥ï¼Œçªç„¶æ”¶åˆ°steamèŠå¤©æ¶ˆæ¯æé†’ï¼Œè¿™è®©æˆ‘æœ‰äº›æ„å¤–å’ŒæƒŠå–œã€‚æƒŠå–œçš„æ˜¯ï¼Œå¥½ä¹…æ²¡æœ‰æœ‹å‹åœ¨steamä¸­ä¸æˆ‘å‘èŠå¤©æ¶ˆæ¯ï¼Œä»¥å¾€åœ¨ä¸€èµ·ç©PUBGçš„æ—¶å…‰æå¦‚æ˜¨æ—¥æµ®ç°åœ¨çœ¼å‰ã€‚</p><p>éšåæˆ‘ç‚¹å¼€äº†èŠå¤©çª—å£ï¼Œæ˜¯ä¸€ä¸ªé™Œç”Ÿäººçš„å¥½å‹é‚€è¯·ã€‚è¿™æ˜¯è°å‘¢ï¼Œé™Œç”Ÿçš„å¤´åƒï¼Œæˆ‘åŒæ„äº†ã€‚å—¯ï¼Œè¿™ä¸ªäººä¸åœ¨çº¿ä¸Šã€‚</p><p>æ²¡ç®¡ä»–æ˜¯è°ï¼Œæˆ‘ç»§ç»­äº†ä¸‹ä¸€æŠŠApexï¼Œä¾ç„¶æ²¡æœ‰åƒé¸¡ï¼Œè¯¥ç»“æŸä»Šæ—¥çš„æˆ˜æ–—äº†ï¼Œæˆ‘æƒ³ã€‚</p><p>å’¦ï¼Œè¿™ä¸ªäººåˆç»™æˆ‘å‘äº†æ¶ˆæ¯ï¼Œå—¯ï¼Œæˆ‘å¿˜äº†æˆªå›¾ï¼Œå¤§è‡´è¿™ä¸ªæ„æ€ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">heyï¼Œbroï¼Œæ­å–œä½ ã€‚</span><br><span class="line">æˆ‘è·å¾—äº†ä¸€ä¸ªcs goçš„æªæ¢°çš®è‚¤ï¼Œæˆ‘åˆ†äº«ç»™ä½ äº†ï¼Œä½ ä¹Ÿå¯ä»¥é¢†ä¸€ä¸ªã€‚</span><br><span class="line">è¿™ä¸ªæ˜¯é¢†å–é“¾æ¥http://xxxxxxxxx</span><br><span class="line"></span><br><span class="line">è¿™ä¸ªæ˜¯æˆ‘é¢†å–çš„çš®è‚¤http://xxxxxxxxx</span><br></pre></td></tr></table></figure></p><p>é¢†çš®è‚¤å•Šï¼Œè™½ç„¶æˆ‘ä¸ç©cs goï¼Œä½†æ˜¯æˆ‘å¯ä»¥é¢†äº†å–å‡ºå»å˜›ï¼Œæ‰“å¼€çœ‹çœ‹ã€‚</p><p>å—¯ï¼Œéƒ½æ˜¯äº›ä»€ä¹ˆæªï¼Œä¹Ÿä¸çŸ¥é“å€¼ä¸å€¼é’±ï¼Œç®—äº†æ¡åƒåœ¾å§ï¼Œå—¯ï¼Œsign in with steamã€‚</p><p>å¼¹å‡ºäº†ä¸€ä¸ªå°çª—ï¼Œå—¯ï¼ŒåŸŸå<code>steamcommunity.com/xxxxx</code>ï¼Œæ²¡é”™ï¼Œæ˜¯steamçš„ã€‚</p><p>æˆ‘è¾“å…¥äº†è´¦å·ï¼Œå’¦ï¼Œæˆ‘çš„lastpassæ€ä¹ˆä¸æç¤ºå¡«å……å¯†ç ï¼Œå¯èƒ½ç½‘ä¸å¥½å§ã€‚å—¯ï¼Œè¾“å…¥å¯†ç ï¼Œç™»å½•ï¼Œè¿˜è¦æ‰‹æœºä»¤ç‰Œï¼Œæ²¡é”™äº†ã€‚</p><p>å“ï¼Œæˆ‘è¾“äº†æ‰‹æœºä»¤ç‰Œæ€ä¹ˆä¸å¯¹ï¼Œæ¢ä¸€ä¸ªï¼Œè¿˜ä¸å¯¹ï¼Œæ€ä¹ˆå›äº‹ã€‚</p><p>1åˆ†é’Ÿåï¼Œ<br>å®~<br>å®~<br>â€œä½ çš„steamè´¦å·å·²è¢«ç§»é™¤ç»‘å®šæ‰‹æœºå·â€<br>â€œä½ çš„steamè´¦å·å·²è¢«ç§»é™¤ç»‘å®šé‚®ç®±â€<br>â€œä½ çš„steamè´¦å·å·²è¢«ç§»é™¤æ‰‹æœºä»¤ç‰Œâ€<br><img src="https://foreti.me/imgplace/2019/20190429231247.png" alt></p><p>æˆ‘å·æ²¡äº†ï¼ï¼ï¼</p><p>è¿™ä¸ªsteamcommutyå¼¹çª—æ˜¯å‡çš„ï¼Œé’“é±¼ï¼ï¼ï¼éš¾æ€ªæˆ‘çš„lastpassä¸æç¤ºå¯†ç ï¼ï¼ï¼</p><p>æˆ‘ä»–å—æƒ³èµ·æ¥äº†ï¼Œè¿™ä¸ªsteamcommunityå¯èƒ½æ˜¯ä¿„æ–‡è¥¿é‡Œå°”æ–‡ä¹‹ç±»çš„å…¶ä»–è¥¿æ–‡å­—æ¯ï¼Œä¸æ˜¯è‹±æ–‡å­—æ¯å•Šæˆ‘æ›¹ï¼ï¼ï¼ï¼ˆå¯ä»¥çœ‹ä¸€ç¯‡<a href="https://www.leiphone.com/news/201704/NyHGnviIh1lMKUCX.html" target="_blank" rel="noopener">ä»‹ç»æ–‡ç« </a>ï¼‰</p><p>ä»¥åä¸è¦åªçœ‹åŸŸåè¯†åˆ«å®˜ç½‘ï¼ï¼ï¼</p><p>å¦ˆè€¶èµ¶ç´§ç”³è¯·æ¢å¤å•Šæˆ‘æ›¹ï¼Œç›—å·çš„æ•ˆç‡æ€ä¹ˆè¿™ä¹ˆé«˜ï¼Œæˆ‘æ²¡ä»»ä½•æç¤ºæ€ä¹ˆç§»é™¤äº†æˆ‘çš„æ‰‹æœºå·å’Œé‚®ç®±ï¼Œè¿˜æ”¹äº†æˆ‘çš„å¯†ç ï¼ï¼ï¼</p><p>ç®—äº†ï¼Œå…ˆç”³è¯‰æ¢å¤è´¦å·å§ã€‚</p><p><img src="https://foreti.me/imgplace/2019/20190429231327.png" alt></p><p>æƒ³èµ·æ¥ofoé€€æŠ¼é‡‘å‡è£…å¤–å›½äººï¼Œå®¢æœçš„æœåŠ¡æ•ˆç‡å¯èƒ½é«˜ä¸€ä¸‹ï¼Œä¹±æ‰¯äº†ä¸€é€šè‹±æ–‡ï¼Œç¬¬äºŒå¤©å‚¬äº†ä¸€ä¸‹ã€‚</p><p>å—¯ï¼Œæœ‰å›å¤äº†ï¼Œè°¢è°¢å®¢æœå°å§å§ã€‚</p><p><img src="https://foreti.me/imgplace/2019/20190429231357.png" alt></p><p>è¿™äº‹è¿˜æ²¡å®Œï¼Œæˆ‘çš„steamé‚®ç®±å’Œè´¦å·ï¼Œå’Œå¾ˆå¤šç½‘ç«™çš„è´¦å·å¯†ç éƒ½ä¸€æ ·ï¼Œåªå¥½èŠ±æ—¶é—´æ”¹äº†lastpassé‡Œçš„æ‰€æœ‰è´¦å·çš„å¯†ç ã€‚</p><p>lastpassæ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¯æƒœæˆ‘é”™è¿‡äº†å®ƒçš„æç¤ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¥è‡ªä¸€ä¸ªç¨‹åºå‘˜çš„å¿ƒç†è‡ªé™ˆã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Steam" scheme="https://foreti.me/blog/tags/Steam/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸Šéå¸¸æ–¹ä¾¿çš„ä¸€äº›å·¥å…·å’Œå‘½ä»¤</title>
    <link href="https://foreti.me/blog/2019/02/25/easy-command-tool-mac/"/>
    <id>https://foreti.me/blog/2019/02/25/easy-command-tool-mac/</id>
    <published>2019-02-25T14:51:35.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘æ—¥å¸¸ä½¿ç”¨mac osçš„ä¸€äº›å¸¸ç”¨appå’Œå‘½ä»¤ã€‚</p><a id="more"></a><hr><p><img src="https://foreti.me/imgplace/2019/20190224235353.png" alt></p><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><p>ä»¥ä¸‹å·¥å…·çš†å¼€æºå…è´¹ã€‚</p><h3 id="å®‰è£…Homebrew"><a href="#å®‰è£…Homebrew" class="headerlink" title="å®‰è£…Homebrew"></a>å®‰è£…Homebrew</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨Homebrewå‡çº§gitç‰ˆæœ¬"><a href="#ä½¿ç”¨Homebrewå‡çº§gitç‰ˆæœ¬" class="headerlink" title="ä½¿ç”¨Homebrewå‡çº§gitç‰ˆæœ¬"></a>ä½¿ç”¨Homebrewå‡çº§gitç‰ˆæœ¬</h3><p>Macç³»ç»Ÿè™½ç„¶é¢„è£…gitï¼Œä½†ä¸€èˆ¬æ˜¯è¾ƒè€çš„ç‰ˆæœ¬ï¼Œå¦‚æœå¸Œæœ›æ›´æ–°åˆ°æ–°çš„ç‰ˆæœ¬ï¼Œæœ€æ–¹ä¾¿çš„æ˜¯ç”¨Homebrewæ›´æ–°ã€‚</p><p>å®‰è£…gitï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install git</span><br></pre></td></tr></table></figure></p><p>æ›¿æ¢ç³»ç»Ÿé¢„è£…gitï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew link git</span><br></pre></td></tr></table></figure></p><p>ä»¥åæ›´æ–°gitï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew upgrade git</span><br></pre></td></tr></table></figure></p><h3 id="çª—å£ç®¡ç†åº”ç”¨"><a href="#çª—å£ç®¡ç†åº”ç”¨" class="headerlink" title="çª—å£ç®¡ç†åº”ç”¨"></a>çª—å£ç®¡ç†åº”ç”¨</h3><p><a href="https://github.com/eczarny/spectacle" target="_blank" rel="noopener">Spectacle</a>ï¼Œå…è´¹å¼€æºï¼Œå…³è”çš„å¿«æ·é”®å¤ªå¤šï¼Œå¯ä»¥å–æ¶ˆä¸€äº›çª—å£æ“ä½œçš„keymapã€‚<br>æŠ›å»ä»·æ ¼ä¸è°ˆï¼ŒSpectacle&gt;Moomï¼Œè€Œslateå¤ªéº»çƒ¦ã€‚</p><h3 id="Shadowsocksç§‘å­¦ä¸Šç½‘"><a href="#Shadowsocksç§‘å­¦ä¸Šç½‘" class="headerlink" title="Shadowsocksç§‘å­¦ä¸Šç½‘"></a>Shadowsocksç§‘å­¦ä¸Šç½‘</h3><p>æœåŠ¡ç«¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh</span><br><span class="line">chmod +x shadowsocks.sh</span><br><span class="line">./shadowsocks.sh 2&gt;&amp;1 | tee shadowsocks.log</span><br></pre></td></tr></table></figure></p><p><a href="https://github.com/shadowsocks/shadowsocks-windows" target="_blank" rel="noopener">Windows</a><br><a href="https://github.com/shadowsocks/ShadowsocksX-NG" target="_blank" rel="noopener">Mac</a><br><a href="https://github.com/shadowsocks/shadowsocks-android" target="_blank" rel="noopener">Android</a></p><h3 id="å›¾åºŠä¸Šä¼ å·¥å…·"><a href="#å›¾åºŠä¸Šä¼ å·¥å…·" class="headerlink" title="å›¾åºŠä¸Šä¼ å·¥å…·"></a>å›¾åºŠä¸Šä¼ å·¥å…·</h3><p><a href="https://github.com/Molunerfinn/PicGo" target="_blank" rel="noopener">Picgo</a><br><a href="https://github.com/willnewii/qiniuClient" target="_blank" rel="noopener">äº‘å­˜å‚¨ç®¡ç†å®¢æˆ·ç«¯</a></p><h3 id="èœå•æ Menubaréšè—éƒ¨åˆ†å›¾æ ‡"><a href="#èœå•æ Menubaréšè—éƒ¨åˆ†å›¾æ ‡" class="headerlink" title="èœå•æ Menubaréšè—éƒ¨åˆ†å›¾æ ‡"></a>èœå•æ Menubaréšè—éƒ¨åˆ†å›¾æ ‡</h3><p><a href="https://github.com/DozerMapper/dozer" target="_blank" rel="noopener">Dozer</a></p><h3 id="è½»é‡æ—¥å†å·¥å…·"><a href="#è½»é‡æ—¥å†å·¥å…·" class="headerlink" title="è½»é‡æ—¥å†å·¥å…·"></a>è½»é‡æ—¥å†å·¥å…·</h3><p><a href="https://github.com/sfsam/Itsycal" target="_blank" rel="noopener">Istycal</a></p><h3 id="å‰ªè´´æ¿å·¥å…·"><a href="#å‰ªè´´æ¿å·¥å…·" class="headerlink" title="å‰ªè´´æ¿å·¥å…·"></a>å‰ªè´´æ¿å·¥å…·</h3><p><a href="https://github.com/Clipy/Clipy" target="_blank" rel="noopener">Clipy</a></p><h2 id="ç³»ç»Ÿ"><a href="#ç³»ç»Ÿ" class="headerlink" title="ç³»ç»Ÿ"></a>ç³»ç»Ÿ</h2><h3 id="è°ƒæ•´Dockæ çš„éšè—é€Ÿåº¦"><a href="#è°ƒæ•´Dockæ çš„éšè—é€Ÿåº¦" class="headerlink" title="è°ƒæ•´Dockæ çš„éšè—é€Ÿåº¦"></a>è°ƒæ•´Dockæ çš„éšè—é€Ÿåº¦</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock autohide-delay -int 0 <span class="comment">#æ—¶é—´è®¾ä¸ºæœ€çŸ­</span></span><br><span class="line">defaults write com.apple.dock autohide-delay -int 0.5 <span class="comment">#æ—¶é—´è®¾ä¸º 0.5s</span></span><br><span class="line">killall dock</span><br></pre></td></tr></table></figure><h3 id="å®‰å…¨ä¸éšç§ï¼Œæ‰“å¼€å…è®¸â€œä»»ä½•æ¥æºâ€"><a href="#å®‰å…¨ä¸éšç§ï¼Œæ‰“å¼€å…è®¸â€œä»»ä½•æ¥æºâ€" class="headerlink" title="å®‰å…¨ä¸éšç§ï¼Œæ‰“å¼€å…è®¸â€œä»»ä½•æ¥æºâ€"></a>å®‰å…¨ä¸éšç§ï¼Œæ‰“å¼€å…è®¸â€œä»»ä½•æ¥æºâ€</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sudo spctl --master-disable</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®Launchpadçš„åˆ—æ•°å’Œè¡Œæ•°"><a href="#è®¾ç½®Launchpadçš„åˆ—æ•°å’Œè¡Œæ•°" class="headerlink" title="è®¾ç½®Launchpadçš„åˆ—æ•°å’Œè¡Œæ•°"></a>è®¾ç½®Launchpadçš„åˆ—æ•°å’Œè¡Œæ•°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-columns -int åˆ—æ•°</span><br><span class="line">defaults write com.apple.dock springboard-rows -int è¡Œæ•°</span><br><span class="line">defaults write com.apple.dock ResetLaunchPad -bool TRUE</span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯æˆ‘æ—¥å¸¸ä½¿ç”¨mac osçš„ä¸€äº›å¸¸ç”¨appå’Œå‘½ä»¤ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="mac" scheme="https://foreti.me/blog/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>chromeå¼ºåˆ¶é‡å®šå‘åˆ°httpsçš„é—®é¢˜</title>
    <link href="https://foreti.me/blog/2019/02/24/chrome-https/"/>
    <id>https://foreti.me/blog/2019/02/24/chrome-https/</id>
    <published>2019-02-24T15:08:26.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰äº›åœºæ™¯ä¸‹ï¼Œåœ¨chromeä¸­æ‰“å¼€çš„httpç½‘é¡µä¼šè‡ªåŠ¨é‡å®šå‘åˆ°https</p><a id="more"></a>ï¼Œè¿™æ ·å¯èƒ½ä¼šé€ æˆä¸€äº›ç¬¬ä¸‰æ–¹çš„å›¾ç‰‡èµ„æºæˆ–è„šæœ¬æ— æ³•æ­£å¸¸åŠ è½½ï¼Œå¦‚æœä¸æƒ³è¿™ä¹ˆåšçš„è¯ï¼Œå¯ä»¥åœ¨chromeåœ°å€æ è¾“å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chrome://net-internals/#hsts</span><br></pre></td></tr></table></figure><p><img src="https://foreti.me/imgplace/2019/20190224231418.png" alt><br>åœ¨çº¢è‰²åŒºåŸŸä¸­è¾“å…¥ä¸æƒ³è‡ªåŠ¨é‡å®šå‘åˆ°httpsçš„åŸŸåï¼Œç‚¹å‡»deleteå³å¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰äº›åœºæ™¯ä¸‹ï¼Œåœ¨chromeä¸­æ‰“å¼€çš„httpç½‘é¡µä¼šè‡ªåŠ¨é‡å®šå‘åˆ°https&lt;/p&gt;
    
    </summary>
    
    
      <category term="chrome" scheme="https://foreti.me/blog/tags/chrome/"/>
    
      <category term="https" scheme="https://foreti.me/blog/tags/https/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºZooKeeperçš„åˆ†å¸ƒå¼é”å®ç°</title>
    <link href="https://foreti.me/blog/2019/02/24/zookeeper-distributed-locks/"/>
    <id>https://foreti.me/blog/2019/02/24/zookeeper-distributed-locks/</id>
    <published>2019-02-24T07:46:58.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>201902W9 Share</p><a id="more"></a><hr><p>åˆ†å¸ƒå¼é”çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå¯ä»¥ä¾èµ–æ•°æ®åº“ã€Redisã€ZooKeeperç­‰å®ç°ï¼Œå½“ç„¶ä¸åŒçš„æ–¹å¼å„æœ‰å…¶ä¼˜ç¼ºç‚¹ã€‚æœ¬æ–‡ä»…æ¢è®¨åŸºäºZooKeeperå®ç°åˆ†å¸ƒå¼é”çš„æ–¹æ³•ã€‚</p><blockquote><p>æ­¤éƒ¨åˆ†åˆ†å¸ƒå¼é”ä»‹ç»æ‘˜è‡ª<a href="https://blog.didiyun.com/index.php/2018/11/20/zookeeper/" target="_blank" rel="noopener">https://blog.didiyun.com/index.php/2018/11/20/zookeeper/</a></p><h2 id="åˆ†å¸ƒå¼é”"><a href="#åˆ†å¸ƒå¼é”" class="headerlink" title="åˆ†å¸ƒå¼é”"></a>åˆ†å¸ƒå¼é”</h2><p>åœ¨å•è¿›ç¨‹åº”ç”¨å†…ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨é”æ¥ä¿éšœå¤šä¸ªçº¿ç¨‹å¹¶å‘è®¿é—®åŒä¸€èµ„æºçš„äº’æ–¥æ€§ã€‚åœ¨å¤šè¿›ç¨‹ã€åˆ†å¸ƒå¼åœºæ™¯ä¸‹ï¼Œå¦‚æœå¤šä¸ªç³»ç»Ÿæˆ–è€…å•ä¸ªç³»ç»Ÿçš„å¤šä¸ªèŠ‚ç‚¹å¹¶å‘è®¿é—®åŒä¸€èµ„æºï¼Œä¸ºäº†ä¿éšœå¯¹èµ„æºè¯»å†™çš„äº’æ–¥æ€§ï¼Œå°±éœ€è¦ç”¨åˆ°åˆ†å¸ƒå¼é”ã€‚</p><h2 id="ä¸ºä»€ä¹ˆç”¨Zookeeperæ¥å®ç°åˆ†å¸ƒå¼é”ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆç”¨Zookeeperæ¥å®ç°åˆ†å¸ƒå¼é”ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨Zookeeperæ¥å®ç°åˆ†å¸ƒå¼é”ï¼Ÿ"></a>ä¸ºä»€ä¹ˆç”¨Zookeeperæ¥å®ç°åˆ†å¸ƒå¼é”ï¼Ÿ</h2><p><code>Zookeeper</code> èƒ½å¤Ÿä¿éšœåˆ†å¸ƒå¼åœºæ™¯ä¸‹æ•°æ®çš„ä¸€è‡´æ€§ã€æœ‰åºæ€§ã€åŸå­æ€§åŠå¯é æ€§ï¼Œå®ƒçš„æ‰€æœ‰å†™å…¥åŠ¨ä½œä¼šåœ¨ Leader èŠ‚ç‚¹æŒä¹…åŒ–ï¼Œå¹¶åœ¨é›†ç¾¤è¿‡åŠæ•°èŠ‚ç‚¹å†™å…¥æˆåŠŸæ‰ä¼šè¿”å›ï¼›å®ƒä¹Ÿèƒ½å¤Ÿæ”¯æŒèŠ‚ç‚¹çš„å´©æºƒæ¢å¤ä»¥åŠå®¢æˆ·ç«¯çš„æœ€ç»ˆä¸€è‡´æ€§è§†å›¾ã€‚å¯¹äºåˆ†å¸ƒå¼é”åœºæ™¯æ¥è¯´ï¼Œæ•°æ®ä¸€è‡´æ€§çš„ä¿éšœã€ä»¥åŠé”æœåŠ¡çš„å®¹ç¾ä¿éšœè‡³å…³é‡è¦ã€‚</p><p>å¦å¤–ï¼Œ<code>Zookeeper</code> è¿˜æä¾›äº†ä¸‰ç§åœ¨åˆ†å¸ƒå¼é”åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨çš„ç‰¹æ€§ï¼ˆä»¥ä¸‹çš„<code>èŠ‚ç‚¹</code>æŒ‡çš„æ˜¯<code>Zookeeper</code>å†…éƒ¨å­˜å‚¨çš„<code>znode</code>èŠ‚ç‚¹ï¼‰ï¼š</p><ol><li>ä¸´æ—¶èŠ‚ç‚¹<br>å®¢æˆ·ç«¯å¯ä»¥æŒ‡å®š zk åˆ›å»ºä¸€ä¸ªä¸´æ—¶èŠ‚ç‚¹ï¼Œæ­¤èŠ‚ç‚¹å°†åœ¨è¿™ä¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å»ºç«‹çš„ <a href="https://link.juejin.im/?target=https%3A%2F%2Fzookeeper.apache.org%2Fdoc%2Fr3.3.6%2FzookeeperProgrammers.html%23ch_zkSessions" target="_blank" rel="noopener">session</a> åˆ°æœŸæ—¶è‡ªåŠ¨åˆ é™¤ï¼Œè¿™ä¸ªç‰¹æ€§å¯ä»¥ä¿éšœå®¢æˆ·ç«¯åˆ›å»ºçš„åˆ†å¸ƒå¼é”èŠ‚ç‚¹åœ¨å®¢æˆ·ç«¯å®•æœºæˆ–è€…ç½‘ç»œé€šè®¯ä¸­æ–­ä¸€æ®µæ—¶é—´åè‡ªåŠ¨é‡Šæ”¾è¯¥ä¸´æ—¶èŠ‚ç‚¹ï¼Œä»è€Œé¿å…åˆ†å¸ƒå¼é”ç”±äºå®¢æˆ·ç«¯æˆ–ç½‘ç»œåŸå› å¯¼è‡´çš„æ­»é”é—®é¢˜ã€‚</li><li>æœ‰åºèŠ‚ç‚¹<br>å®¢æˆ·ç«¯å¯ä»¥æŒ‡å®š zk åˆ›å»ºä¸€ä¸ªæœ‰åºèŠ‚ç‚¹ï¼Œæ­¤èŠ‚ç‚¹å°†è‡ªåŠ¨åœ¨å®¢æˆ·ç«¯æŒ‡å®šçš„èŠ‚ç‚¹ååé¢æ·»åŠ ä¸€ä¸ªå•è°ƒé€’å¢åºå·æ¥ç¡®ä¿å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶åˆ›å»ºç›¸åŒçš„èŠ‚ç‚¹åæ—¶èƒ½å¤Ÿåˆ›å»ºæˆåŠŸï¼Œå¹¶ä¸”ä¿éšœè¶Šæ—©åˆ›å»ºçš„èŠ‚ç‚¹çš„åºå·è¶Šå°ã€‚åˆ©ç”¨è¯¥ç‰¹æ€§å¯ä»¥å®ç°é”çš„äº’æ–¥æ€§å’Œå…¬å¹³æ€§ï¼Œå³åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯èƒ½å¤ŸæˆåŠŸè·å–åˆ°é”ï¼ˆåºå·æœ€å°çš„ä¸€ä¸ªè·å–åˆ°é”ï¼‰ï¼Œè·å–é”å¤±è´¥çš„èŠ‚ç‚¹å¯ä»¥æŒ‰ç…§åˆ›å»ºé¡ºåºè¿›è¡Œé”ç­‰å¾…ã€‚</li><li>watcher æœºåˆ¶<br>å¯ä»¥å¯¹ä¸€ä¸ªèŠ‚ç‚¹çš„è¯»æ“ä½œæ³¨å†Œä¸€ä¸ª watcherç›‘å¬å™¨ï¼Œå½“èŠ‚ç‚¹æœ‰å˜åŒ–æ—¶ï¼ˆä¾‹å¦‚èŠ‚ç‚¹è¢«åˆ é™¤æˆ–æ›´æ–°ï¼‰zk æœåŠ¡ç«¯å°†ä¸»åŠ¨é€šçŸ¥æ³¨å†Œäº†ç›‘å¬çš„å®¢æˆ·ç«¯ã€‚è¿™æ ·å¯¹äºæ­£åœ¨ç­‰å¾…é”çš„å®¢æˆ·ç«¯å¯ä»¥åŠæ—¶å¾—çŸ¥é”è¢«é‡Šæ”¾çš„äº‹ä»¶ä»è€Œé‡æ–°è¿›è¡ŒæŠ¢é”åŠ¨ä½œã€‚</li></ol><p>ä»¥ä¸Šä¸‰ç§ç‰¹æ€§å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªä¸´æ—¶ + æœ‰åºèŠ‚ç‚¹ï¼Œå†æ³¨å†Œä¸€ä¸ªå…¶å®ƒåºå·èŠ‚ç‚¹çš„watcherç›‘å¬æ¥æ„ŸçŸ¥å…¶ä»–èŠ‚ç‚¹çš„å˜åŒ–ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>Zookeeper</code> åŸç”Ÿæä¾›çš„è¿™äº›ç‰¹æ€§å®ç°å„ç§å¯é ã€å®‰å…¨çš„åˆ†å¸ƒå¼é”ã€‚</p><h2 id="å¸¸ç”¨çš„åˆ†å¸ƒå¼é”ç±»å‹"><a href="#å¸¸ç”¨çš„åˆ†å¸ƒå¼é”ç±»å‹" class="headerlink" title="å¸¸ç”¨çš„åˆ†å¸ƒå¼é”ç±»å‹"></a>å¸¸ç”¨çš„åˆ†å¸ƒå¼é”ç±»å‹</h2><ul><li>æ’å®ƒé”ï¼ˆMutexLockï¼‰<br>ä»»æ„æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿè·å–åˆ°é”ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…æŒæœ‰è¿™æŠŠé”çš„çº¿ç¨‹é‡Šæ”¾é”åæ‰èƒ½å°è¯•è·å–é”ã€‚</li><li>ä¿¡å·é‡ï¼ˆSemaphoreï¼‰<br>å…è®¸å¤šä¸ªçº¿ç¨‹æŒæœ‰ä¸€å®šæ•°é‡çš„ç§Ÿçº¦ï¼ˆLeaseï¼‰ã€‚åœ¨å½“å‰ç§Ÿçº¦æ•°é‡å°äºæœ€å¤§ç§Ÿçº¦æ•°æ—¶ï¼Œå…è®¸æ–°çš„è¯·æ±‚è·å–åˆ°ç§Ÿçº¦ï¼Œä¸€æ—¦å½“å‰ç§Ÿçº¦æ•°ç­‰äºæœ€å¤§ç§Ÿçº¦æ•°ï¼Œåˆ™æ–°çš„è¯·æ±‚å°†ç­‰å¾…å·²è·å–åˆ°ç§Ÿçº¦çš„çº¿ç¨‹é‡Šæ”¾ç§Ÿçº¦åæ‰èƒ½å°è¯•è·å–ã€‚ä¸€èˆ¬ç”¨æ¥æ§åˆ¶è®¿é—®ä¸€ä¸ªèµ„æºæ± çš„æœ€å¤§å¹¶å‘åº¦ã€‚</li><li>è¯»å†™é”ï¼ˆReadWriteLockï¼‰<br>å†™é”ä½œä¸ºæ’å®ƒé”ï¼Œä»»æ„æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è·å–åˆ°å†™é”ã€‚è¯»é”ä½œä¸ºå…±äº«é”ï¼Œå½“æ²¡æœ‰å†™é”è¢«æŒæœ‰çš„å‰æä¸‹ï¼Œå…è®¸æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è·å–åˆ°è¯»é”ã€‚</li><li>è”é”ï¼ˆMultiLockï¼‰<br>ä¿éšœå¤šä¸ªä¸åŒèµ„æºçš„é”è·å–æˆ–é‡Šæ”¾çš„åŸå­æ€§çš„ä¸€ç§ç»„åˆé”ã€‚å¤šä¸ªé”èµ„æºè¢«å°è£…æˆä¸€ä¸ªè”é”åï¼Œè¦ä¹ˆå…¨éƒ¨è·å–æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨è·å–å¤±è´¥ï¼Œè”é”ä¿éšœä¸ä¼šå‡ºç°éƒ¨åˆ†è·å–æˆåŠŸçš„æƒ…å†µã€‚</li></ul><p>æ³¨æ„ï¼šä»¥ä¸Šæåˆ°çš„â€çº¿ç¨‹â€å¯èƒ½å±äºåŒä¸€è¿›ç¨‹å†…ï¼Œä¹Ÿå¯èƒ½å±äºä¸åŒè¿›ç¨‹ã€‚<code>Zookeeper</code> èƒ½å¤Ÿä¿éšœåœ¨è·¨è¿›ç¨‹åœºæ™¯ä¸‹æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p><h2 id="åˆ†å¸ƒå¼é”çš„é€šç”¨ç‰¹æ€§"><a href="#åˆ†å¸ƒå¼é”çš„é€šç”¨ç‰¹æ€§" class="headerlink" title="åˆ†å¸ƒå¼é”çš„é€šç”¨ç‰¹æ€§"></a>åˆ†å¸ƒå¼é”çš„é€šç”¨ç‰¹æ€§</h2><p>é™¤äº† <code>Zookeeper</code> æä¾›çš„ä¸€è‡´æ€§ä¿éšœä¹‹å¤–ï¼Œåˆ†å¸ƒå¼é”ä¸€èˆ¬è¿˜éœ€è¦æä¾›å¦‚ä¸‹çš„é€šç”¨ç‰¹æ€§ï¼š</p><ul><li>å…¬å¹³æ€§<br>åœ¨å¤šä¸ªå®¢æˆ·ç«¯æŠ¢é”çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¿éšœè·å–é”çš„å…¬å¹³æ€§ï¼Œå…ˆåˆ°è¾¾ <code>Zookeeper</code> æŠ¢é”çš„è¯·æ±‚èƒ½å¤Ÿå…ˆè·å–åˆ°é”ï¼ˆå¯ä»¥åŸºäº <code>Zookeeper</code> çš„æœ‰åºèŠ‚ç‚¹ç‰¹æ€§æ¥å®ç°ï¼‰ã€‚</li><li>ç­‰å¾…è¶…æ—¶<br>ä¸ºäº†é¿å…æ­»é”ï¼Œä¸€èˆ¬åœ¨è·å–é”æ—¶éƒ½éœ€è¦ä¼ é€’ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶è¯·æ±‚åˆ™è·å–é”å¤±è´¥ã€‚</li><li>å¯é‡å…¥æ€§<br>åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼Œå¦‚æœå·²ç»æŒæœ‰ä¸€æŠŠé”ï¼Œåˆ™åœ¨è¿™æŠŠé”è¢«é‡Šæ”¾å‰å¯ä»¥å¤šæ¬¡é‡å¤è·å–é”ï¼Œå…¶è·å–æ¬¡æ•°å’Œé‡Šæ”¾æ¬¡æ•°éœ€è¦ä¿éšœä¸€è‡´ã€‚</li></ul><h2 id="åˆ†å¸ƒå¼é”çš„å®ç°åº“"><a href="#åˆ†å¸ƒå¼é”çš„å®ç°åº“" class="headerlink" title="åˆ†å¸ƒå¼é”çš„å®ç°åº“"></a>åˆ†å¸ƒå¼é”çš„å®ç°åº“</h2><p>æ¨èä½¿ç”¨ Apache Curatoråº“æ¥å®ç°åˆ†å¸ƒå¼é”ï¼Œå®ƒä¸ä»…å°è£…äº†åˆ†å¸ƒå¼é”çš„æ‰€æœ‰å®ç°ç»†èŠ‚ï¼Œè¿˜æä¾›å‹å¥½æ˜“ç”¨çš„ APIã€‚ä»¥ä¸‹æ˜¯ <code>Curator</code> å·²ç»å®ç°çš„åˆ†å¸ƒå¼é”ç›¸å…³åŠŸèƒ½ï¼š</p><ul><li>å¯é‡å…¥é”ï¼š<code>InterProcessMutex</code> å®ç°äº†å¯é‡å…¥çš„æ’å®ƒé”ï¼Œæ”¯æŒé”ç­‰å¾…è¶…æ—¶ã€ä¿è¯è·å–é”çš„å…¬å¹³æ€§ã€‚</li><li>ä¸å¯é‡å…¥é”ï¼š<code>InterProcessSemaphoreMutex</code> å®ç°äº†ä¸å¯é‡å…¥çš„æ’å®ƒé”ï¼Œæ”¯æŒé”ç­‰å¾…è¶…æ—¶ã€ä¿è¯è·å–é”çš„å…¬å¹³æ€§ã€‚å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹é—´ä¼ é€’å’Œé‡Šæ”¾é”ï¼Œä»è€Œæ»¡è¶³å¼‚æ­¥è°ƒç”¨åœºæ™¯ä¸‹çš„é”éœ€æ±‚ã€‚</li><li>ä¿¡å·é‡ï¼š<code>InterProcessSemaphoreV2</code> å®ç°äº†ä¿¡å·é‡ï¼Œæ”¯æŒä¿¡å·é‡ç­‰å¾…è¶…æ—¶ã€ä¿è¯è·å–ä¿¡å·é‡çš„å…¬å¹³æ€§ã€‚å®¢æˆ·ç«¯æ¯æ¬¡è·å–ä¿¡å·é‡æˆåŠŸéƒ½ä¼šè¿”å›ä¸€ä¸ªç§Ÿçº¦ï¼ˆLeaseï¼‰å¯¹è±¡ï¼Œå»ºè®®å®¢æˆ·ç«¯åœ¨ finally ä»£ç å— close è¿™ä¸ªç§Ÿçº¦å¯¹è±¡ä»¥é‡Šæ”¾ç§Ÿçº¦ã€‚æ³¨æ„åœ¨çº¿ç¨‹é‡å…¥æ—¶ï¼Œæ¯æ¬¡è·å–ä¿¡å·é‡æˆåŠŸä¹Ÿä¼šå ç”¨ä¸€ä¸ªç§Ÿçº¦ã€‚å¦å¤–ï¼Œåœ¨å¤šè¿›ç¨‹åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€šè¿‡ <code>SharedCountReader</code> æ¥ä¿éšœæœ€å¤§ç§Ÿçº¦æ•°çš„ä¸€è‡´æ€§ï¼Œé¿å…ä¸åŒçš„è¿›ç¨‹è®¾ç½®ä¸åŒçš„æœ€å¤§ç§Ÿçº¦æ•°ã€‚</li><li>è¯»å†™é”ï¼š<code>InterProcessReadWriteLock</code> å®ç°äº†å¯é‡å…¥è¯»å†™é”ï¼Œæ”¯æŒé”ç­‰å¾…è¶…æ—¶ã€ä¿è¯è·å–é”çš„å…¬å¹³æ€§ã€‚å¹¶ä¸”æ”¯æŒå†™é”é™çº§ï¼ˆæŒæœ‰å†™é”çš„çº¿ç¨‹å¯ä»¥åŒæ—¶è·å–åˆ°è¯»é”ï¼‰ï¼Œä¸æ”¯æŒè¯»é”å‡çº§ï¼ˆæŒæœ‰è¯»é”çš„çº¿ç¨‹ä¸èƒ½åŒæ—¶è·å–åˆ°å†™é”ï¼‰ã€‚</li><li>è”é”ï¼š<code>InterProcessMultiLock</code> å®ç°äº†è”é”ï¼Œå®ƒä½¿ç”¨è£…é¥°å™¨æ¨¡å¼å®ç°å¤šæŠŠé”çš„ç»„åˆï¼Œä¸å¯é‡å…¥é”ã€ä¸å¯é‡å…¥é”å®ç°ç›¸åŒçš„æ¥å£ï¼Œä½¿å¾—å¯ä»¥åƒä½¿ç”¨å•é”ä¸€æ ·ä½¿ç”¨è”é”ã€‚è”é”è·å–æˆåŠŸä»£è¡¨å®ƒæ‹¥æœ‰çš„æ‰€æœ‰å†…éƒ¨é”éƒ½è·å–æˆåŠŸï¼Œè”é”è·å–å¤±è´¥åˆ™ä¼šè‡ªåŠ¨é‡Šæ”¾æ‰€æœ‰å†…éƒ¨å·²ç»è·å–æˆåŠŸçš„éƒ¨åˆ†é”ï¼Œä»è€Œä¿è¯è”é”çš„åŸå­æ€§è¯­ä¹‰ã€‚</li></ul></blockquote><h2 id="å®‰è£…ZooKeeperç¯å¢ƒ"><a href="#å®‰è£…ZooKeeperç¯å¢ƒ" class="headerlink" title="å®‰è£…ZooKeeperç¯å¢ƒ"></a>å®‰è£…ZooKeeperç¯å¢ƒ</h2><p>é¦–å…ˆåœ¨æœ¬åœ°å®‰è£…ZooKeeperç¯å¢ƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install zookeeper</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œå¯åŠ¨æœåŠ¡ï¼Œé»˜è®¤é…ç½®æ–‡ä»¶ä¸ç”¨ä¿®æ”¹ï¼Œå³/usr/local/etc/zookeeper/zoo.cfg<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zkServer  -h</span><br><span class="line">zkServer  start</span><br><span class="line">zkServer  status</span><br></pre></td></tr></table></figure></p><h2 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h2><h3 id="mavenå¯¼å…¥curator"><a href="#mavenå¯¼å…¥curator" class="headerlink" title="mavenå¯¼å…¥curator"></a>mavenå¯¼å…¥curator</h3><p>curatoræ˜¯æ¯”ZooKeeperçš„æºç”ŸAPIæ›´å¥½ç”¨çš„åŒ…ï¼Œä½¿ç”¨çš„äººä¹Ÿè¾ƒå¤šã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.curator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>curator-framework<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.curator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>curator-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ZKLock-java"><a href="#ZKLock-java" class="headerlink" title="ZKLock.java"></a>ZKLock.java</h3><p>ZKLock.javaæˆ‘è‡ªå·±å¯¹curatorçš„æ¥å£çš„å°è£…ï¼Œå°†åŸºæœ¬çš„æ–¹æ³•å°è£…ä¾¿äºè°ƒç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yanss.zk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.curator.RetryPolicy;</span><br><span class="line"><span class="keyword">import</span> org.apache.curator.framework.CuratorFramework;</span><br><span class="line"><span class="keyword">import</span> org.apache.curator.framework.CuratorFrameworkFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.curator.retry.ExponentialBackoffRetry;</span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.apache.zookeeper.CreateMode;</span><br><span class="line"><span class="keyword">import</span> org.apache.zookeeper.WatchedEvent;</span><br><span class="line"><span class="keyword">import</span> org.apache.zookeeper.Watcher;</span><br><span class="line"><span class="keyword">import</span> org.apache.zookeeper.ZooDefs;</span><br><span class="line"><span class="keyword">import</span> org.apache.zookeeper.ZooKeeper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ZKLock</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger LOG = Logger.getLogger(ZKLock<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CHILD_NODE_PATH = <span class="string">"temp"</span>;</span><br><span class="line">    <span class="keyword">private</span> String baseLockPath;</span><br><span class="line">    <span class="keyword">private</span> String finalLockId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> needInterrupt = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> connected = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> acquireLock = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String host = <span class="string">"127.0.0.1:2181"</span>;</span><br><span class="line">    <span class="keyword">private</span> ZooKeeper zooKeeper;</span><br><span class="line">    <span class="keyword">private</span> FatherNodeWatcher fatherNodeWatcher;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ZKLock</span><span class="params">(String lock)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.baseLockPath = <span class="string">"/"</span> + lock;</span><br><span class="line">        <span class="keyword">this</span>.fatherNodeWatcher = <span class="keyword">new</span> FatherNodeWatcher(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ZKLock <span class="title">create</span><span class="params">(String lock)</span> </span>&#123;</span><br><span class="line">        ZKLock zkLock = <span class="keyword">new</span> ZKLock(lock);</span><br><span class="line">        zkLock.connectZooKeeper();</span><br><span class="line">        <span class="keyword">return</span> zkLock;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getLock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!connected) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!needInterrupt) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                LOG.warn(e.getMessage(), e);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (acquireLock) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i++ &gt; <span class="number">5</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">releaseLock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (zooKeeper != <span class="keyword">null</span> &amp;&amp; connected) &#123;</span><br><span class="line">                zooKeeper.delete(finalLockId, -<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            LOG.warn(e.getMessage(), e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> disconnectZooKeeper();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">disconnectZooKeeper</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (zooKeeper == <span class="keyword">null</span> &amp;&amp; !connected) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connected = <span class="keyword">false</span>;</span><br><span class="line">            acquireLock = <span class="keyword">false</span>;</span><br><span class="line">            zooKeeper.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            LOG.warn(String.format(<span class="string">"ZK disconnect failed. [%s]"</span>, e.getMessage()), e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">connectZooKeeper</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            RetryPolicy retryPolicy = <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>);</span><br><span class="line">            CuratorFramework client = CuratorFrameworkFactory.newClient(host, <span class="number">5000</span>, <span class="number">3000</span>, retryPolicy);</span><br><span class="line"></span><br><span class="line">            zooKeeper = <span class="keyword">new</span> ZooKeeper(host, <span class="number">60000</span>, <span class="keyword">new</span> Watcher() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(WatchedEvent event)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (event.getState() == Watcher.Event.KeeperState.AuthFailed) &#123;</span><br><span class="line">                        needInterrupt = <span class="keyword">true</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getState() == Watcher.Event.KeeperState.Disconnected) &#123;</span><br><span class="line">                        needInterrupt = <span class="keyword">true</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getState() == Watcher.Event.KeeperState.Expired) &#123;</span><br><span class="line">                        needInterrupt = <span class="keyword">true</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (event.getType() == Watcher.Event.EventType.None) &#123;</span><br><span class="line">                            connected = <span class="keyword">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (!connected) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">100</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                Thread.sleep(<span class="number">300</span>);</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (connected) &#123;</span><br><span class="line">                <span class="keyword">if</span> (zooKeeper.exists(baseLockPath, <span class="keyword">true</span>) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    zooKeeper.create(baseLockPath, <span class="string">""</span>.getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                finalLockId = zooKeeper.create(baseLockPath + <span class="string">"/"</span> + CHILD_NODE_PATH, <span class="string">""</span>.getBytes(),</span><br><span class="line">                        ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.EPHEMERAL_SEQUENTIAL);</span><br><span class="line"></span><br><span class="line">                checkAcquire();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                needInterrupt = <span class="keyword">true</span>;</span><br><span class="line">                LOG.warn(<span class="string">"Connect zookeeper failed. Time consumes 30 s"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            LOG.warn(e.getMessage(), e);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkAcquire</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!connected) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;String&gt; childrenList = zooKeeper.getChildren(baseLockPath, fatherNodeWatcher);</span><br><span class="line">            <span class="keyword">if</span> (judgePathNumMin(childrenList)) &#123;</span><br><span class="line">                acquireLock = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            LOG.warn(e.getMessage(), e);</span><br><span class="line">            disconnectZooKeeper();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">judgePathNumMin</span><span class="params">(List&lt;String&gt; paths)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (paths.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (paths.size() &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">            Collections.sort(paths, <span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String str1, String str2)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">int</span> num1;</span><br><span class="line">                    <span class="keyword">int</span> num2;</span><br><span class="line">                    String string1 = str1.substring(CHILD_NODE_PATH.length(), str1.length());</span><br><span class="line">                    String string2 = str2.substring(CHILD_NODE_PATH.length(), str2.length());</span><br><span class="line">                    num1 = Integer.parseInt(string1);</span><br><span class="line">                    num2 = Integer.parseInt(string2);</span><br><span class="line">                    <span class="keyword">if</span> (num1 &gt; num2) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num1 &lt; num2) &#123;</span><br><span class="line">                        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        String minId = paths.get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> finalLockId.equals(baseLockPath + <span class="string">"/"</span> + minId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">FatherNodeWatcher</span> <span class="keyword">implements</span> <span class="title">Watcher</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> ZKLock context;</span><br><span class="line"></span><br><span class="line">        FatherNodeWatcher(ZKLock context) &#123;</span><br><span class="line">            <span class="keyword">this</span>.context = context;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(WatchedEvent event)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (event.getState() == Watcher.Event.KeeperState.AuthFailed) &#123;</span><br><span class="line">                context.needInterrupt = <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getState() == Watcher.Event.KeeperState.Disconnected) &#123;</span><br><span class="line">                context.needInterrupt = <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getState() == Watcher.Event.KeeperState.Expired) &#123;</span><br><span class="line">                context.needInterrupt = <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (event.getType() == Event.EventType.NodeChildrenChanged) &#123;</span><br><span class="line">                    context.checkAcquire();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="TestZKLockThread-java"><a href="#TestZKLockThread-java" class="headerlink" title="TestZKLockThread.java"></a>TestZKLockThread.java</h3><p>ä¸ºäº†æµ‹è¯•ZooKeeperçš„åˆ†å¸ƒå¼é”æ˜¯éæœ‰ç”¨ï¼Œåœ¨æœ¬åœ°å¼€å¯å¤šçº¿ç¨‹ï¼ŒåŒæ—¶æ®µå»è¯·æ±‚é”ï¼Œç„¶åæŸ¥çœ‹é”çš„ç«äº‰æƒ…å†µã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yanss.zk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestZKLockThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger LOG = Logger.getLogger(TestZKLockThread<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String lockPath;</span><br><span class="line">    <span class="keyword">private</span> String num;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> threadNum çº¿ç¨‹ç¼–å·</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestZKLockThread</span><span class="params">(String lockPath, String threadNum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lockPath = lockPath;</span><br><span class="line">        <span class="keyword">this</span>.num = threadNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ZKLock zkLock = ZKLock.create(lockPath);</span><br><span class="line">        <span class="keyword">if</span> (zkLock.getLock()) &#123;</span><br><span class="line">            LOG.error(String.format(<span class="string">"çº¿ç¨‹:[%s]è·å–åˆ°ä»»åŠ¡é”,å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡"</span>, num));</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">            LOG.error(String.format(<span class="string">"çº¿ç¨‹:[%s]å·²å®Œæˆä»»åŠ¡"</span>, num));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            LOG.error(String.format(<span class="string">"çº¿ç¨‹:[%s]æ²¡æœ‰è·å–åˆ°ä»»åŠ¡é”,æ”¾å¼ƒæ‰§è¡Œä»»åŠ¡"</span>, num));</span><br><span class="line">        &#125;</span><br><span class="line">        zkLock.releaseLock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="TestZKLockWithMultiThread-java"><a href="#TestZKLockWithMultiThread-java" class="headerlink" title="TestZKLockWithMultiThread.java"></a>TestZKLockWithMultiThread.java</h3><p>è¿è¡Œæµ‹è¯•æ–¹æ³•<code>TestZKLockWithMultiThread.java</code>ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yanss.zk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.BasicConfigurator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestZKLockWithMultiThread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BasicConfigurator.configure();</span><br><span class="line">        <span class="keyword">int</span> threadCount = <span class="number">5</span>;</span><br><span class="line">        List&lt;TestZKLockThread&gt; testZKLockThreads = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; threadCount; i++) &#123;</span><br><span class="line">            testZKLockThreads.add(<span class="keyword">new</span> TestZKLockThread(<span class="string">"lockpath"</span>, <span class="string">"Thread"</span> + i ));</span><br><span class="line">        &#125;</span><br><span class="line">        testZKLockThreads.forEach(tmp -&gt; tmp.start());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h2><ol><li><p>è®¾ç½®æ¯ä¸ªçº¿ç¨‹è·å–é”çš„ç­‰å¾…æ—¶é—´ä¸ºæ— é™é•¿ï¼ˆæˆ–è€…è¾ƒé•¿çš„æ—¶é—´æ¯”å¦‚60sï¼‰ï¼Œåœ¨<code>ZKLock.java</code>çš„ç¬¬58è¡Œå¯ä¿®æ”¹æ—¶é—´ï¼Œå°†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i++ &gt; <span class="number">5</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šæ‰ï¼Œæ¯ä¸ªçº¿ç¨‹å–å¾—é”æƒé™åå¤„ç†é€»è¾‘æ—¶é—´ä¸º2sï¼Œè¿è¡Œ<code>TestZKLockWithMultiThread.java</code>ï¼Œæ§åˆ¶å°è¾“å‡ºï¼ˆå·²åˆ å»ZooKeeperçš„è¾“å‡ºæ—¥å¿—ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">0 [Thread-0] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread0]è·å–åˆ°ä»»åŠ¡é”,å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡</span><br><span class="line">2011 [Thread-0] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread0]å·²å®Œæˆä»»åŠ¡</span><br><span class="line">3018 [Thread-1] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread1]è·å–åˆ°ä»»åŠ¡é”,å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡</span><br><span class="line">5022 [Thread-1] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread1]å·²å®Œæˆä»»åŠ¡</span><br><span class="line">5027 [Thread-4] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread4]è·å–åˆ°ä»»åŠ¡é”,å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡</span><br><span class="line">7030 [Thread-4] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread4]å·²å®Œæˆä»»åŠ¡</span><br><span class="line">7035 [Thread-2] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread2]è·å–åˆ°ä»»åŠ¡é”,å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡</span><br><span class="line">9036 [Thread-2] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread2]å·²å®Œæˆä»»åŠ¡</span><br><span class="line">9041 [Thread-3] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread3]è·å–åˆ°ä»»åŠ¡é”,å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡</span><br><span class="line">11048 [Thread-3] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread3]å·²å®Œæˆä»»åŠ¡</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½®æ¯ä¸ªçº¿ç¨‹è·å–é”çš„æ—¶é—´ä¸º5sï¼Œå°†ç¬¬ä¸€æ­¥ä¸­æ³¨é‡Šæ‰çš„ä»£ç è¿˜åŸï¼ŒåŒæ—¶å°†<code>TestZKLockThread.java</code>ä¸­32è¡Œçš„<code>zkLock.releaseLock();</code>æ³¨é‡Šæ‰ï¼Œå³è·å–é”å®Œæˆä»»åŠ¡åä¸å†é‡Šæ”¾é”ï¼Œæ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0 [Thread-4] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread4]è·å–åˆ°ä»»åŠ¡é”,å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡</span><br><span class="line">2002 [Thread-4] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread4]å·²å®Œæˆä»»åŠ¡</span><br><span class="line">6024 [Thread-2] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread2]æ²¡æœ‰è·å–åˆ°ä»»åŠ¡é”,æ”¾å¼ƒæ‰§è¡Œä»»åŠ¡</span><br><span class="line">6024 [Thread-3] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread3]æ²¡æœ‰è·å–åˆ°ä»»åŠ¡é”,æ”¾å¼ƒæ‰§è¡Œä»»åŠ¡</span><br><span class="line">6024 [Thread-0] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread0]æ²¡æœ‰è·å–åˆ°ä»»åŠ¡é”,æ”¾å¼ƒæ‰§è¡Œä»»åŠ¡</span><br><span class="line">6024 [Thread-1] INFO com.yanss.zk.TestZKLockThread  - çº¿ç¨‹:[Thread1]æ²¡æœ‰è·å–åˆ°ä»»åŠ¡é”,æ”¾å¼ƒæ‰§è¡Œä»»åŠ¡</span><br></pre></td></tr></table></figure></li></ol><p>é€šè¿‡è¿™ä¸¤ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå¯ä»¥å‘ç°æˆ‘åœ¨æˆ‘çš„Macä¸Šå®‰è£…çš„ZooKeeperæœåŠ¡å¯åŠ¨åï¼Œé€šè¿‡ç”¨æœ¬åœ°5ä¸ªçº¿ç¨‹è¿›è¡Œè·å–é”å’Œé‡Šæ”¾é”çš„æ“ä½œï¼Œåœ¨ZooKeeperæœåŠ¡çš„è°ƒåº¦ä¸‹ï¼Œå¯ä»¥è¾¾åˆ°é¢„æœŸçš„åˆ†å¸ƒå¼é”çš„æ•ˆæœã€‚æ›´è¯¦ç»†çš„æœåŠ¡æ€§èƒ½ä¸å¥½æµ‹è¯•ï¼Œç•™å¾…æœªæ¥å®é™…åº”ç”¨ä¸­å†è®°å½•ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;201902W9 Share&lt;/p&gt;
    
    </summary>
    
    
      <category term="ZooKeeper" scheme="https://foreti.me/blog/tags/ZooKeeper/"/>
    
      <category term="åˆ†å¸ƒå¼é”" scheme="https://foreti.me/blog/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/"/>
    
      <category term="Share" scheme="https://foreti.me/blog/tags/Share/"/>
    
  </entry>
  
  <entry>
    <title>Lombokè®©Javaå˜å¾—å†æ¬¡é…·ç‚«</title>
    <link href="https://foreti.me/blog/2019/02/15/lombok-make-java-cool-again/"/>
    <id>https://foreti.me/blog/2019/02/15/lombok-make-java-cool-again/</id>
    <published>2019-02-15T05:18:04.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>201902W5 Review, è¿™æ˜¯ä¸€ç¯‡å…³äºSpringå¼€å‘æ’ä»¶Lombokçš„è¯‘æ–‡ã€‚</p><a id="more"></a><hr><p><img src="https://foreti.me/imgplace/2019/20190202144529.png" alt></p><p><a href="https://bytes.grubhub.com/lombok-makes-java-cool-again-171102bdcc52" target="_blank" rel="noopener">åŸæ–‡</a></p><p>åœ¨Grauhubï¼Œæˆ‘ä»¬åœ¨å¤§å¤šæ•°åç«¯ç¼–ç¨‹ä¸­éƒ½æ˜¯ç”¨Javaã€‚Javaæ˜¯ä¸€é—¨ç»è¿‡20å¤šå¹´å®æˆ˜è€ƒéªŒçš„è¯­è¨€ï¼Œå·²ç»è¯æ˜äº†å®ƒçš„é€Ÿåº¦å’Œå¯é æ€§ã€‚è™½ç„¶æˆ‘ä»¬å·²ç»ä½¿ç”¨Javaå¾ˆå¤šå¹´äº†ï¼Œæœ€è¿‘ï¼Œå®ƒå¼€å§‹å±•ç°äº†å®ƒçš„è€æ—§çš„ç‰¹æ€§ã€‚</p><p>å°½ç®¡Javaæ˜¯æœ€å—æ¬¢è¿çš„JVMè¯­è¨€ä¹‹ä¸€ï¼Œä½†å®ƒä¸æ˜¯å”¯ä¸€çš„ã€‚åœ¨è¿‡å»å‡ å¹´é‡Œï¼Œå®ƒé¢ä¸´ç€ä¸€äº›æŒ‘æˆ˜è€…ï¼Œæ¯”å¦‚Scalaï¼ŒClojureå’ŒKotlinï¼Œå®ƒä»¬æä¾›äº†æ–°çš„åŠŸèƒ½å’Œé«˜æ•ˆçš„è¯­è¨€ç‰¹æ€§ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒä»¬è®©ä½ ç”¨æ›´å°‘çš„ä»£ç åšæ›´å¤šçš„äº‹ã€‚<br>æ˜¯çš„Â·<br>JVMç”Ÿæ€ç³»ç»Ÿä¸­çš„è¿™ä¸€åˆ›æ–°ä»¤äººå…´å¥‹ã€‚æ›´å¤šçš„ç«äº‰æ„å‘³ç€Javaè¢«è¿«æ”¹å˜ä»¥ä¿æŒç«äº‰åŠ›ã€‚ä»Java 8ï¼ˆValhallaï¼ŒLocal-Variable Type Inferenceï¼ŒLoomï¼‰ä»¥æ¥ï¼Œæ–°çš„å…­ä¸ªæœˆå‘å¸ƒè®¡åˆ’å’Œå‡ ä¸ªJEPï¼ˆJDK å¢å¼ºæè®®ï¼‰è¯æ˜äº†Javaåœ¨æœªæ¥å‡ å¹´å°†ç»§ç»­ä¿æŒç«äº‰åŠ›ã€‚</p><p>ä½†æ˜¯ï¼ŒJavaè¯­è¨€çš„å¤§å°å’Œè§„æ¨¡æ„å‘³ç€å¼€å‘è¿›åº¦æ¯”æˆ‘ä»¬æƒ³è¦çš„è¦æ…¢ï¼Œæ›´ä¸ç”¨è¯´Javaä¸æƒœä¸€åˆ‡ä»£ä»·ä¿æŒå‘åå…¼å®¹æ€§çš„å¼ºçƒˆæ„æ„¿ã€‚é€šè¿‡ä»»ä½•è½¯ä»¶å·¥ç¨‹å·¥ä½œï¼ŒåŠŸèƒ½éƒ½éœ€è¦ä¼˜å…ˆè€ƒè™‘ï¼Œå› æ­¤å¦‚æœå®Œå…¨ä½¿ç”¨Javaçš„è¯ï¼Œæˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚ä¸æ­¤åŒæ—¶ï¼Œç°åœ¨Grubhubåˆ©ç”¨Lomboké¡¹ç›®è·å¾—ç®€åŒ–å’Œæ”¹è¿›çš„Javaã€‚Lombokæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨æ’ä»¶ï¼Œå®ƒä¸ºJavaæ·»åŠ äº†æ–°çš„â€œå…³é”®å­—â€ï¼Œå¹¶å°†æ³¨é‡Šè½¬æ¢ä¸ºJavaä»£ç ï¼Œå‡å°‘äº†ç¹æ‚çš„å·¥ç¨‹å·¥ä½œï¼Œå¹¶æä¾›äº†ä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚</p><h2 id="è®¾ç½®Lombok"><a href="#è®¾ç½®Lombok" class="headerlink" title="è®¾ç½®Lombok"></a>è®¾ç½®Lombok</h2><p>Grubhubä¸€ç›´åœ¨å¯»æ±‚æ”¹è¿›æˆ‘ä»¬çš„è½¯ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ¯ä¸ªæ–°å·¥å…·å’Œæµç¨‹éƒ½éœ€è¦åœ¨é‡‡ç”¨ä¹‹å‰è€ƒè™‘æˆæœ¬ã€‚å¹¸è¿çš„æ˜¯ï¼Œæ·»åŠ Lombokå°±åƒåœ¨gradleæ–‡ä»¶ä¸­æ·»åŠ å‡ è¡Œä¸€æ ·ç®€å•ã€‚</p><p>Lombokæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨æ’ä»¶ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘å™¨å¤„ç†å®ƒä»¬ä¹‹å‰å°†æºä»£ç ä¸­çš„æ³¨é‡Šè½¬æ¢ä¸ºJavaè¯­å¥â€“åœ¨è¿è¡Œæ—¶ä¸éœ€è¦æä¾›lombokä¾èµ–é¡¹ï¼Œå› æ­¤æ·»åŠ Lombokä¸ä¼šå¢åŠ æ„å»ºå·¥ä»¶çš„å¤§å°ã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦ä¸‹è½½Lombokå¹¶å°†å…¶æ·»åŠ åˆ°æ‚¨çš„æ„å»ºå·¥å…·ä¸­ã€‚è¦<a href="https://projectlombok.org/setup/gradle" target="_blank" rel="noopener">ä½¿ç”¨Gradleè®¾ç½®Lombok</a>ï¼ˆå®ƒä¹Ÿé€‚ç”¨äº<a href="https://projectlombok.org/setup/maven" target="_blank" rel="noopener">Maven</a>ï¼‰ï¼Œè¯·å°†æ­¤å—æ·»åŠ åˆ°build.gradleæ–‡ä»¶ä¸­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id &amp;apos;io.franzbecker.gradle-lombok&amp;apos; version &amp;apos;1.14&amp;apos;</span><br><span class="line">    id &amp;apos;java&amp;apos;</span><br><span class="line">&#125;</span><br><span class="line">repositories &#123;</span><br><span class="line">    jcenter() // or Maven central, required for Lombok dependency</span><br><span class="line">&#125;</span><br><span class="line">lombok &#123;</span><br><span class="line">    version = &amp;apos;1.18.4&amp;apos;</span><br><span class="line">    sha256 = &quot;&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºLombokæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨æ’ä»¶ï¼Œæˆ‘ä»¬ä¸ºå®ƒç¼–å†™çš„æºä»£ç å®é™…ä¸Šå¹¶ä¸æ˜¯æœ‰æ•ˆçš„Javaã€‚å› æ­¤ï¼Œæ‚¨è¿˜éœ€è¦ä¸ºæ­£åœ¨ä½¿ç”¨çš„IDEå®‰è£…æ’ä»¶ã€‚å¹¸è¿çš„æ˜¯ï¼ŒLombokæ”¯æŒæ‰€æœ‰ä¸»è¦çš„Java IDEã€‚æ²¡æœ‰æ’ä»¶ï¼ŒIDEä¸çŸ¥é“å¦‚ä½•è§£æä»£ç ã€‚IDEé›†æˆæ˜¯æ— ç¼çš„ã€‚è¯¸å¦‚â€œshow usagesâ€å’Œâ€œgo to implementationâ€ç­‰åŠŸèƒ½ç»§ç»­æŒ‰é¢„æœŸå·¥ä½œï¼Œå¸¦æ‚¨è¿›å…¥ç›¸å…³å­—æ®µ/ç±»ã€‚</p><h2 id="Lombokä½¿ç”¨"><a href="#Lombokä½¿ç”¨" class="headerlink" title="Lombokä½¿ç”¨"></a>Lombokä½¿ç”¨</h2><p>äº†è§£Lombokçš„æœ€ä½³æ–¹å¼æ˜¯çœ‹å®ƒçš„ä½¿ç”¨æ–¹æ³•ã€‚è®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶ä¸€äº›å¦‚ä½•å°†Lombokåº”ç”¨äºJavaåº”ç”¨ç¨‹åºçš„å¸¸è§æ–¹é¢çš„ç¤ºä¾‹ã€‚</p><h3 id="ä¸ºPOJOå¢æ·»è¶£å‘³"><a href="#ä¸ºPOJOå¢æ·»è¶£å‘³" class="headerlink" title="ä¸ºPOJOå¢æ·»è¶£å‘³"></a>ä¸ºPOJOå¢æ·»è¶£å‘³</h3><p>æˆ‘ä»¬ä½¿ç”¨æ™®é€šçš„æ—§Javaå¯¹è±¡ï¼ˆPOJOï¼‰å°†æ•°æ®ä¸å¤„ç†åˆ†å¼€ï¼Œä½¿æˆ‘ä»¬çš„ä»£ç æ›´æ˜“äºé˜…è¯»å¹¶ç®€åŒ–ç½‘ç»œæœ‰æ•ˆè´Ÿè½½ã€‚ä¸€ä¸ªç®€å•çš„POJOæœ‰ä¸€äº›ç§æœ‰å­—æ®µå’Œç›¸åº”çš„getterå’Œsetterã€‚å®ƒä»¬åªåœ¨å†™äº†å¾ˆå¤šæ ·æ¿ä»£ç ä¹‹åå¯ä»¥å®Œæˆäº†å·¥ä½œã€‚</p><p>Lombokæœ‰åŠ©äºä½¿POJOæ›´æœ‰ç”¨ï¼Œæ›´çµæ´»ï¼Œæ›´æœ‰ç»“æ„ï¼Œè€Œæ— éœ€ç¼–å†™æ›´å¤šå…¶ä»–ä»£ç ã€‚ä½¿ç”¨Lombokï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@Dataæ³¨é‡Šç®€åŒ–æœ€åŸºæœ¬çš„POJO ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> UUID userId;</span><br><span class="line">  <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥@Dataæ³¨é‡Šå®é™…ä¸Šæ˜¯åŒ…å«å¤šä¸ªLombokæ³¨é‡Šçš„ä¾¿åˆ©ç»“åˆã€‚</p><ul><li><p><a href="https://projectlombok.org/features/ToString" target="_blank" rel="noopener">@ToString</a>ç”Ÿæˆè¯¥toString()æ–¹æ³•çš„å®ç°ï¼Œè¯¥å®ç°ç”±åŒ…å«ç±»åå’Œæ¯ä¸ªå­—æ®µåŠå…¶å€¼çš„å¯¹è±¡çš„â€œæ¼‚äº®æ‰“å°â€ç‰ˆæœ¬ç»„æˆã€‚</p></li><li><p><a href="https://projectlombok.org/features/EqualsAndHashCode" target="_blank" rel="noopener">@EqualsAndHashCode</a>ç”Ÿæˆequalså’ŒhashCodeæ–¹æ³•çš„å®ç°ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä½¿ç”¨æ‰€æœ‰éé™æ€ï¼Œétransientå­—æ®µï¼Œä½†æ˜¯å¯é…ç½®ã€‚</p></li><li><p><a href="https://projectlombok.org/features/GetterSetter" target="_blank" rel="noopener">@Getter/@Setter</a>ä¸ºç§æœ‰å­—æ®µç”Ÿæˆgetterå’Œsetteræ–¹æ³•ã€‚</p></li><li><p><a href="https://projectlombok.org/features/constructor" target="_blank" rel="noopener">@RequiredArgsConstructor</a>ç”Ÿæˆå¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå…¶ä¸­éœ€è¦å‚æ•°æ˜¯å¸¸é‡å­—æ®µå’Œå¸¦@NonNullæ³¨é‡Šçš„å­—æ®µï¼ˆç¨åå°†è¯¦ç»†ä»‹ç»ï¼‰ã€‚</p></li></ul><p>è¿™ä¸€ä¸ªæ³¨é‡Šç®€å•è€Œä¼˜é›…åœ°æ¶µç›–äº†è®¸å¤šå¸¸è§ç”¨ä¾‹ï¼Œä½†POJOå¹¶ä¸æ€»æ˜¯è¶³å¤Ÿçš„ã€‚ä¸€ä¸ªæ³¨é‡Š@Dataçš„ç±»æ˜¯å®Œå…¨å¯å˜çš„ï¼Œå®ƒä¸€æ—¦è¢«æ»¥ç”¨ï¼Œå¯èƒ½åœ¨åº”ç”¨ç¨‹åºå¢åŠ å¤æ‚æ€§å’Œé™åˆ¶å¹¶å‘é‡ï¼Œè¿™ä¸¤ç‚¹éƒ½æœ‰å®³äºåº”ç”¨ç¨‹åºçš„æŒä¹…æ€§ã€‚</p><p>Lombokåˆšåˆšä¿®å¤ã€‚è®©æˆ‘ä»¬é‡æ–°å®¡è§†æˆ‘ä»¬çš„Userç±»ï¼Œä½¿å…¶ä¸å¯å˜ï¼Œå¹¶æ·»åŠ ä¸€äº›å…¶ä»–æœ‰ç”¨çš„Lombokæ³¨é‡Šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value</span></span><br><span class="line"><span class="meta">@Builder</span>(toBuilder = <span class="keyword">true</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="meta">@NonNull</span> </span><br><span class="line">  UUID userId;</span><br><span class="line">  <span class="meta">@NonNull</span> </span><br><span class="line">  String email;</span><br><span class="line">  <span class="meta">@Singular</span></span><br><span class="line">  Set&lt;String&gt; favoriteFoods;</span><br><span class="line">  <span class="meta">@NonNull</span></span><br><span class="line">  <span class="meta">@Builder</span>.Default</span><br><span class="line">  String avatar = â€œ<span class="keyword">default</span>.pngâ€;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€éœ€è¦çš„åªæ˜¯@Valueæ³¨é‡Šã€‚@Valueç±»ä¼¼äº@Dataï¼Œé™¤äº†æ‰€æœ‰å­—æ®µéƒ½é»˜è®¤ä¸ºprivateå’Œfinalï¼Œå¹¶ä¸”ä¸ç”Ÿæˆsetterã€‚è¿™äº›ç‰¹ç‚¹ä½¿æ³¨é‡Š@Valueçš„å¯¹è±¡æœ‰æ•ˆåœ°ä¸å˜ã€‚ç”±äºå­—æ®µéƒ½æ˜¯å¸¸é‡çš„ï¼Œå› æ­¤æ²¡æœ‰æ— å‚æ•°æ„é€ å‡½æ•°ã€‚ç›¸åï¼ŒLombokç”¨@AllArgsConstructorç”Ÿæˆæ‰€æœ‰å‚æ•°æ„é€ å‡½æ•°ï¼Œè¿™äº§ç”Ÿäº†ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡ï¼Œæœ‰æ•ˆä¸å¯å˜çš„å¯¹è±¡ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœåªèƒ½ä½¿ç”¨all argsæ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼Œé‚£ä¹ˆä¸å¯å˜æ˜¯ä¸å¤ªæœ‰ç”¨çš„ã€‚Joshua Blochåœ¨ã€ŠEffective Javaã€‹è§£é‡Šï¼Œå½“é¢ä¸´ç€è®¸å¤šæ„é€ å‡½æ•°å‚æ•°æ—¶åº”è¯¥ä½¿ç”¨å»ºé€ è€…ã€‚è¿™å°±æ˜¯Lombokçš„@Builderçš„ä½œç”¨ï¼Œè‡ªåŠ¨ç”Ÿæˆæ„å»ºå™¨å†…éƒ¨ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">User user = User.builder()</span><br><span class="line">  .userId(UUID.random())</span><br><span class="line">  .email(â€œgrubhub<span class="meta">@grubhub</span>.comâ€)</span><br><span class="line">  .favoriteFood(â€œburritosâ€)</span><br><span class="line">  .favoriteFood(â€œdosasâ€)</span><br><span class="line">  .build()</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Lombokç”Ÿæˆçš„æ„å»ºå™¨å¯ä»¥è½»æ¾åˆ›å»ºå…·æœ‰å¤šä¸ªå‚æ•°çš„å¯¹è±¡ï¼Œå¹¶åœ¨å°†æ¥æ·»åŠ æ–°å­—æ®µã€‚é™æ€æ„å»ºå™¨æ–¹æ³•è¿”å›æ„å»ºå™¨å®ä¾‹ä»¥è®¾ç½®å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚è®¾ç½®åï¼Œåœ¨æ„å»ºå™¨ä¸Šè°ƒç”¨build()æ–¹æ³•è¿”å›å®ä¾‹ã€‚</p><p>è¯¥@NonNullæ³¨é‡Šå¯è¢«ç”¨æ¥åœ¨å¯¹è±¡è¢«å®ä¾‹åŒ–æ—¶ï¼Œæ–­è¨€è¿™äº›å­—æ®µä¸ä¸ºç©ºï¼Œåœ¨ç©ºæ—¶æŠ›å‡ºä¸€ä¸ªNullPointerExceptionã€‚è¯·æ³¨æ„å¤´åƒå­—æ®µæ˜¯å¦‚ä½•æ³¨é‡Š@NonNullä½†æœªè®¾ç½®çš„ã€‚è¿™æ˜¯å› ä¸º@Builder.Defaultæ³¨é‡Šè¡¨ç¤ºé»˜è®¤ä½¿ç”¨â€œdefault.pngâ€ã€‚ï¼ˆGrubhubæ˜¯ä¸€ä¸ªç¾å›½å¤–å–å…¬å¸ï¼Œè¿™é‡Œçš„å¤´åƒæŒ‡ç”¨æˆ·å¤´åƒã€‚ï¼‰</p><p>è¿˜è¦æ³¨æ„æ„å»ºå™¨ä½¿ç”¨<code>favoriteFood</code>ï¼Œå³å¯¹è±¡ä¸Šå±æ€§çš„å•æ•°åç§°ã€‚å½“@Singularæ³¨é‡Šæ”¾åœ¨é›†åˆå±æ€§ä¸Šæ—¶ï¼ŒLombokä¼šåˆ›å»ºç‰¹æ®Šçš„æ„å»ºå™¨æ–¹æ³•æ¥å•ç‹¬å‘è¯¥é›†åˆæ·»åŠ é¡¹ç›®ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ·»åŠ æ•´ä¸ªé›†åˆã€‚è¿™å¯¹äºæµ‹è¯•æ¥è¯´ç‰¹åˆ«å¥½ï¼Œå› ä¸ºåœ¨Javaä¸­åˆ›å»ºå°å‹é›†åˆå¹¶ä¸ç®€æ´ã€‚</p><p>æœ€åï¼Œ<code>toBuilder = true</code>è®¾ç½®æ·»åŠ äº†ä¸€ä¸ªå®ä¾‹æ–¹æ³•toBuilder()ï¼Œè¯¥æ–¹æ³•åˆ›å»ºä¸€ä¸ªä½¿ç”¨è¯¥å®ä¾‹çš„æ‰€æœ‰å€¼å¡«å……çš„æ„å»ºå™¨å¯¹è±¡ã€‚è¿™æ ·å¯ä»¥è½»æ¾åˆ›å»ºä¸€ä¸ªé¢„å…ˆå¡«å……åŸå§‹å®ä¾‹ä¸­æ‰€æœ‰å€¼çš„æ–°å®ä¾‹ï¼Œå¹¶ä»…æ›´æ”¹æ‰€éœ€çš„å­—æ®µã€‚è¿™å¯¹äº@Valueç±»ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºå­—æ®µæ˜¯ä¸å¯å˜çš„ã€‚</p><p>é€šè¿‡ä¸€äº›æ³¨é‡Šï¼Œä½ å¯ä»¥è¿›ä¸€æ­¥é…ç½®ä¸“é—¨çš„setteråŠŸèƒ½ã€‚@Witherä¸ºæ¯ä¸ªæ¥å—å€¼çš„å±æ€§åˆ›å»ºâ€œwithXâ€æ–¹æ³•ï¼Œå¹¶è¿”å›å®ä¾‹çš„å…‹éš†ï¼Œå¹¶æ›´æ–°ä¸€ä¸ªå­—æ®µå€¼ã€‚@Accessorså…è®¸æ‚¨é…ç½®è‡ªåŠ¨åˆ›å»ºçš„setterã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå…è®¸å°†setteré“¾æ¥èµ·æ¥ï¼Œå°±åƒæ„å»ºå™¨ä¸€æ ·ï¼Œè¿”å›è€Œä¸æ˜¯voidã€‚å®ƒè¿˜æœ‰ä¸€ä¸ªå‚æ•°ï¼Œ<code>fluent=true</code>ï¼Œå®ƒåˆ é™¤äº†getterå’Œsetterä¸Šçš„â€œgetâ€å’Œâ€œsetâ€å‰ç¼€çº¦å®šã€‚å¦‚æœç”¨ä¾‹éœ€è¦æ›´å¤šè‡ªå®šä¹‰ï¼Œè¿™å¯¹äº@Builderå¯èƒ½æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æ›¿ä»£å“ã€‚</p><p>å¦‚æœLombokå®ç°ä¸é€‚åˆæ‚¨çš„ç”¨ä¾‹ï¼ˆå¹¶ä¸”æ‚¨å·²ç»æŸ¥çœ‹äº†æ³¨é‡Šçš„ä¿®é¥°ç¬¦ï¼‰ï¼Œé‚£ä¹ˆæ‚¨å§‹ç»ˆå¯ä»¥æ‰‹åŠ¨ç¼–å†™è‡ªå·±çš„å®ç°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ª@Dataç±»ä½†æ˜¯ä¸€ä¸ªgetteréœ€è¦è‡ªå®šä¹‰é€»è¾‘ï¼Œé‚£ä¹ˆåªéœ€å®ç°è¯¥getterã€‚Lombokå°†çœ‹åˆ°å·²ç»æä¾›äº†ä¸€ä¸ªå®ç°ï¼Œå¹¶ä¸”ä¸ä¼šä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„å®ç°é‡å†™å®ƒã€‚</p><p>åªéœ€å‡ ä¸ªç®€å•çš„æ³¨é‡Šï¼Œæœ€åˆçš„User POJOå·²ç»è·å¾—äº†è®¸å¤šä¸°å¯Œçš„åŠŸèƒ½ï¼Œä½¿å…¶æ›´æ˜“äºä½¿ç”¨ï¼Œè€Œä¸ä¼šç»™æˆ‘ä»¬çš„å·¥ç¨‹å¸ˆå¸¦æ¥å¤ªå¤šè´Ÿæ‹…æˆ–å¢åŠ å¼€å‘çš„æ—¶é—´æˆ–æˆæœ¬ã€‚</p><h3 id="åˆ é™¤ç»„ä»¶æ ·æ¿ä»£ç "><a href="#åˆ é™¤ç»„ä»¶æ ·æ¿ä»£ç " class="headerlink" title="åˆ é™¤ç»„ä»¶æ ·æ¿ä»£ç "></a>åˆ é™¤ç»„ä»¶æ ·æ¿ä»£ç </h3><p>Lombokä¸ä»…åœ¨POJOä¸­æœ‰ç”¨ - å®ƒå¯ä»¥åº”ç”¨äºåº”ç”¨ç¨‹åºçš„ä»»ä½•å±‚ã€‚Lombokçš„ä»¥ä¸‹ç”¨æ³•åœ¨åº”ç”¨ç¨‹åºçš„ç»„ä»¶ç±»ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œä¾‹å¦‚Controllerï¼ŒServiceå’ŒDAOï¼ˆæ•°æ®è®¿é—®å¯¹è±¡ï¼‰ã€‚</p><p>æ—¥å¿—æ˜¯æ¯ä¸ªè½¯ä»¶çš„åŸºå‡†éœ€æ±‚ï¼Œä½œä¸ºå…³é”®çš„è°ƒæŸ¥å·¥å…·ã€‚ä»»ä½•æ­£åœ¨åšæœ‰æ„ä¹‰çš„å·¥ä½œçš„ç±»éƒ½åº”è¯¥è®°å½•æ—¥å¿—ä¿¡æ¯ã€‚ç”±äºæ—¥å¿—è®°å½•æ˜¯ä¸€ä¸ªè´¯ç©¿å„é¢†åŸŸçš„é—®é¢˜ï¼Œå› æ­¤åœ¨æ¯ä¸ªç±»ä¸­å£°æ˜ä¸€ä¸ª<code>private static final logger</code>æˆä¸ºå³æ—¶æ¨¡æ¿ã€‚Lombokå°†æ­¤æ ·æ¿ç®€åŒ–ä¸ºä¸€ä¸ªæ³¨é‡Šï¼Œè¯¥æ³¨é‡Šè‡ªåŠ¨å®šä¹‰å¹¶å®ä¾‹åŒ–å…·æœ‰æ­£ç¡®ç±»åçš„è®°å½•å™¨ã€‚æ ¹æ®æ‚¨ä½¿ç”¨çš„æ—¥å¿—è®°å½•æ¡†æ¶ï¼Œæœ‰ä¸€äº›ä¸åŒçš„æ³¨é‡Šã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j <span class="comment">// also: @CommonsLog @Flogger @JBossLog @Log @Log4j @Log4j2 @XSlf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">  <span class="comment">// created automatically</span></span><br><span class="line">  <span class="comment">// private static final org.slf4j.Logger log = </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨å£°æ˜äº†loggerä¹‹åï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æ·»åŠ æˆ‘ä»¬çš„ä¾èµ–é¡¹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="meta">@FieldDefaults</span>(makeFinal=<span class="keyword">true</span>, level=AccessLevel.PRIVATE)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">  <span class="meta">@NonNull</span> UserDao userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¯¥@FieldDefaultsæ³¨é‡Šå¢åŠ äº†finalå’Œprivateä¿®é¥°ç¬¦çš„æ‰€æœ‰å­—æ®µã€‚åœ¨@RequiredArgsConstructoråˆ›å»ºæ„é€ å™¨æ¥å—å¹¶è®¾ç½®ä¸€ä¸ªUserDaoå®ä¾‹ã€‚è¯¥@NonNullæ³¨é‡Šåœ¨æ„é€ å‡½æ•°ä¸­å¢åŠ äº†ä¸€ä¸ªæ£€æŸ¥ï¼Œå¦‚æœUserDaoå®ä¾‹ä¸ºnullæŠ›å‡ºä¸€ä¸ªNullPointerExceptionã€‚</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥ä½¿ç”¨Lombokã€‚ä»¥ä¸Šä¸¤èŠ‚ä¸»è¦é’ˆå¯¹ç‰¹å®šç”¨ä¾‹ï¼Œä½†Lombokå¯ä»¥åœ¨è®¸å¤šæ–¹é¢ä½¿å¼€å‘æ›´å®¹æ˜“ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å°ä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•æ›´æœ‰æ•ˆåœ°åˆ©ç”¨Lombokã€‚</p><p>å°½ç®¡Java 9å¼•å…¥äº†varå…³é”®å­—ï¼Œvarä»å¯ä»¥é‡æ–°åˆ†é…ã€‚Lombokæä¾›äº†ä¸€ä¸ªvalå…³é”®å­—ï¼Œå®ƒå¯ä»¥åœ¨varä¸æ”¯æŒçš„åœ°æ–¹ç”Ÿæ•ˆï¼Œæä¾›æœ¬åœ°å¸¸é‡æ¨æ–­å˜é‡ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// final Map map = new HashMap&lt;Integer, String&gt;();</span></span><br><span class="line">val map = <span class="keyword">new</span> HashMap&lt;Integer, String&gt;();</span><br></pre></td></tr></table></figure></p><p>æœ‰äº›ç±»åªå…·æœ‰çº¯é™æ€å‡½æ•°ï¼Œè€Œä¸”ä»ä¸æ‰“ç®—åˆå§‹åŒ–ã€‚å£°æ˜æŠ›å‡ºå¼‚å¸¸çš„ç§æœ‰æ„é€ å‡½æ•°æ˜¯é˜»æ­¢å®ƒå®ä¾‹åŒ–çš„ä¸€ç§æ–¹æ³•ã€‚Lombokåœ¨å…¶@UtilityClassæ³¨é‡Šä¸­ç¼–å†™äº†è¯¥æ¨¡å¼ï¼Œè¯¥æ³¨é‡Šåˆ›å»ºäº†ä¸€ä¸ªç§æœ‰æ„é€ å‡½æ•°ï¼Œå®ƒæŠ›å‡ºå¼‚å¸¸ï¼Œä½¿ç±»æˆä¸ºfinalï¼Œå¹¶ä½¿æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯é™æ€çš„ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@UtilityClass</span></span><br><span class="line"><span class="comment">// will be made final</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UtilityClass</span> </span>&#123;</span><br><span class="line">  <span class="comment">// will be made static</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> GRUBHUB = â€œ GRUBHUBâ€;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// autogenerated by Lombok</span></span><br><span class="line">  <span class="comment">// private UtilityClass() &#123;</span></span><br><span class="line">  <span class="comment">//   throw new java.lang.UnsupportedOperationException("This is a utility class and cannot be instantiated");</span></span><br><span class="line">  <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// will be made static</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">append</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> input + GRUBHUB;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯¹Javaçš„å¸¸è§æ‰¹è¯„æ˜¯åˆ›å»ºé€šè¿‡æŠ›å‡ºå·²æ£€æŸ¥çš„å¼‚å¸¸çš„å†—é•¿ã€‚Lombokæœ‰ä¸€ä¸ªæ³¨é‡Šï¼Œå¯ä»¥åˆ é™¤é‚£äº›è®¨åŒçš„å…³é”®è¯ï¼š@SneakyThrowsã€‚æ­£å¦‚æ‚¨æ‰€æ–™ï¼Œå®ç°éå¸¸ç‹¡çŒ¾ï¼ˆsneakyï¼‰ã€‚å®ƒä¸ä¼šåä¸‹ç”šè‡³å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ªRuntimeExceptionã€‚ç›¸åï¼Œå®ƒä¾èµ–äºä»¥ä¸‹äº‹å®ï¼šåœ¨è¿è¡Œæ—¶ï¼ŒJVMä¸ä¼šæ£€æŸ¥å·²æ£€æŸ¥å¼‚å¸¸çš„ä¸€è‡´æ€§ã€‚åªæœ‰javacè¿™æ ·åšã€‚å› æ­¤ï¼ŒLombokä½¿ç”¨å­—èŠ‚ç è½¬æ¢åœ¨ç¼–è¯‘æ—¶é€‰æ‹©é€€å‡ºæ­¤æ£€æŸ¥ã€‚è¿™å¯¼è‡´ä»£ç é¡ºåˆ©è¿è¡Œã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SneakyThrows</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sneakyThrow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å¹¶æ’æ¯”è¾ƒ"><a href="#å¹¶æ’æ¯”è¾ƒ" class="headerlink" title="å¹¶æ’æ¯”è¾ƒ"></a>å¹¶æ’æ¯”è¾ƒ</h2><p>æ²¡ä»€ä¹ˆèƒ½æ¯”åšå¹¶æ’æ¯”è¾ƒæ›´æ¸…æ¥šçœ‹åˆ°LombokèŠ‚çœçš„ä»£ç ã€‚IDEæ’ä»¶æä¾›äº†ä¸€ä¸ªâ€œde-lombokâ€å‡½æ•°ï¼Œå¯å°†å¤§å¤šæ•°Lombokæ³¨é‡Šè½¬æ¢ä¸ºè¿‘ä¼¼çš„æœ¬æœºJavaä»£ç ï¼ˆ@NonNullæ³¨é‡Šä¸è½¬æ¢ï¼‰ã€‚å®‰è£…äº†Lombokæ’ä»¶çš„ä»»ä½•IDEéƒ½å…è®¸ä½ å°†å¤§å¤šæ•°æ³¨é‡Šè½¬æ¢ä¸ºæœ¬æœºJavaä»£ç ï¼ˆå¹¶å†æ¬¡è¿”å›ï¼‰ã€‚è®©æˆ‘ä»¬ä»ä¸Šé¢å›åˆ°æˆ‘ä»¬çš„Userç±»ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value</span></span><br><span class="line"><span class="meta">@Builder</span>(toBuilder = <span class="keyword">true</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="meta">@NonNull</span> </span><br><span class="line">  UUID userId;</span><br><span class="line">  <span class="meta">@NonNull</span> </span><br><span class="line">  String email;</span><br><span class="line">  <span class="meta">@Singular</span></span><br><span class="line">  Set&lt;String&gt; favoriteFoods;</span><br><span class="line">  <span class="meta">@NonNull</span></span><br><span class="line">  <span class="meta">@Builder</span>.Default</span><br><span class="line">  String avatar = â€œ<span class="keyword">default</span>.pngâ€;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Lombokç±»åªæœ‰13æ¡ç®€å•æ˜“è¯»çš„æè¿°æ€§ä»£ç è¡Œã€‚ä½†æ˜¯åœ¨è¿è¡Œde-lombokä¹‹åï¼Œè¿™ä¸ªè¯¾ç¨‹å˜æˆäº†ä¸€ç™¾å¤šè¡Œçš„æ ·æ¿ï¼Œæ²¡æœ‰äººæ„¿æ„çœ‹åˆ°ï¼Œä½†æ¯ä¸ªäººéƒ½æƒ³è¦ï¼<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@NonNull</span></span><br><span class="line">   UUID userId;</span><br><span class="line">   <span class="meta">@NonNull</span></span><br><span class="line">   String email;</span><br><span class="line">   Set&lt;String&gt; favoriteFoods;</span><br><span class="line">   <span class="meta">@NonNull</span></span><br><span class="line">   <span class="meta">@Builder</span>.Default</span><br><span class="line">   String avatar = <span class="string">"default.png"</span>;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@java</span>.beans.ConstructorProperties(&#123;<span class="string">"userId"</span>, <span class="string">"email"</span>, <span class="string">"favoriteFoods"</span>, <span class="string">"avatar"</span>&#125;)</span><br><span class="line">   User(UUID userId, String email, Set&lt;String&gt; favoriteFoods, String avatar) &#123;</span><br><span class="line">       <span class="keyword">this</span>.userId = userId;</span><br><span class="line">       <span class="keyword">this</span>.email = email;</span><br><span class="line">       <span class="keyword">this</span>.favoriteFoods = favoriteFoods;</span><br><span class="line">       <span class="keyword">this</span>.avatar = avatar;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserBuilder <span class="title">builder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> UserBuilder();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@NonNull</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> UUID <span class="title">getUserId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.userId;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@NonNull</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getEmail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.email;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">getFavoriteFoods</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.favoriteFoods;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@NonNull</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getAvatar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.avatar;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (o == <span class="keyword">this</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> User)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">final</span> User other = (User) o;</span><br><span class="line">       <span class="keyword">final</span> Object <span class="keyword">this</span>$userId = <span class="keyword">this</span>.getUserId();</span><br><span class="line">       <span class="keyword">final</span> Object other$userId = other.getUserId();</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>$userId == <span class="keyword">null</span> ? other$userId != <span class="keyword">null</span> : !<span class="keyword">this</span>$userId.equals(other$userId)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">final</span> Object <span class="keyword">this</span>$email = <span class="keyword">this</span>.getEmail();</span><br><span class="line">       <span class="keyword">final</span> Object other$email = other.getEmail();</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>$email == <span class="keyword">null</span> ? other$email != <span class="keyword">null</span> : !<span class="keyword">this</span>$email.equals(other$email)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">final</span> Object <span class="keyword">this</span>$favoriteFoods = <span class="keyword">this</span>.getFavoriteFoods();</span><br><span class="line">       <span class="keyword">final</span> Object other$favoriteFoods = other.getFavoriteFoods();</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>$favoriteFoods == <span class="keyword">null</span> ? other$favoriteFoods != <span class="keyword">null</span> : !<span class="keyword">this</span>$favoriteFoods.equals(other$favoriteFoods))</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">final</span> Object <span class="keyword">this</span>$avatar = <span class="keyword">this</span>.getAvatar();</span><br><span class="line">       <span class="keyword">final</span> Object other$avatar = other.getAvatar();</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>$avatar == <span class="keyword">null</span> ? other$avatar != <span class="keyword">null</span> : !<span class="keyword">this</span>$avatar.equals(other$avatar)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">final</span> <span class="keyword">int</span> PRIME = <span class="number">59</span>;</span><br><span class="line">       <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">final</span> Object $userId = <span class="keyword">this</span>.getUserId();</span><br><span class="line">       result = result * PRIME + ($userId == <span class="keyword">null</span> ? <span class="number">43</span> : $userId.hashCode());</span><br><span class="line">       <span class="keyword">final</span> Object $email = <span class="keyword">this</span>.getEmail();</span><br><span class="line">       result = result * PRIME + ($email == <span class="keyword">null</span> ? <span class="number">43</span> : $email.hashCode());</span><br><span class="line">       <span class="keyword">final</span> Object $favoriteFoods = <span class="keyword">this</span>.getFavoriteFoods();</span><br><span class="line">       result = result * PRIME + ($favoriteFoods == <span class="keyword">null</span> ? <span class="number">43</span> : $favoriteFoods.hashCode());</span><br><span class="line">       <span class="keyword">final</span> Object $avatar = <span class="keyword">this</span>.getAvatar();</span><br><span class="line">       result = result * PRIME + ($avatar == <span class="keyword">null</span> ? <span class="number">43</span> : $avatar.hashCode());</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">"User(userId="</span> + <span class="keyword">this</span>.getUserId() + <span class="string">", email="</span> + <span class="keyword">this</span>.getEmail() + <span class="string">", favoriteFoods="</span> + <span class="keyword">this</span>.getFavoriteFoods() + <span class="string">", avatar="</span> + <span class="keyword">this</span>.getAvatar() + <span class="string">")"</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> UserBuilder <span class="title">toBuilder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> UserBuilder().userId(<span class="keyword">this</span>.userId).email(<span class="keyword">this</span>.email).favoriteFoods(<span class="keyword">this</span>.favoriteFoods).avatar(<span class="keyword">this</span>.avatar);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserBuilder</span> </span>&#123;</span><br><span class="line">       <span class="keyword">private</span> UUID userId;</span><br><span class="line">       <span class="keyword">private</span> String email;</span><br><span class="line">       <span class="keyword">private</span> ArrayList&lt;String&gt; favoriteFoods;</span><br><span class="line">       <span class="keyword">private</span> String avatar;</span><br><span class="line"></span><br><span class="line">       UserBuilder() &#123;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> User.<span class="function">UserBuilder <span class="title">userId</span><span class="params">(UUID userId)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.userId = userId;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> User.<span class="function">UserBuilder <span class="title">email</span><span class="params">(String email)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.email = email;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> User.<span class="function">UserBuilder <span class="title">favoriteFood</span><span class="params">(String favoriteFood)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">if</span> (<span class="keyword">this</span>.favoriteFoods == <span class="keyword">null</span>) <span class="keyword">this</span>.favoriteFoods = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">           <span class="keyword">this</span>.favoriteFoods.add(favoriteFood);</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> User.<span class="function">UserBuilder <span class="title">favoriteFoods</span><span class="params">(Collection&lt;? extends String&gt; favoriteFoods)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">if</span> (<span class="keyword">this</span>.favoriteFoods == <span class="keyword">null</span>) <span class="keyword">this</span>.favoriteFoods = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">           <span class="keyword">this</span>.favoriteFoods.addAll(favoriteFoods);</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> User.<span class="function">UserBuilder <span class="title">clearFavoriteFoods</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           <span class="keyword">if</span> (<span class="keyword">this</span>.favoriteFoods != <span class="keyword">null</span>)</span><br><span class="line">               <span class="keyword">this</span>.favoriteFoods.clear();</span><br><span class="line"></span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> User.<span class="function">UserBuilder <span class="title">avatar</span><span class="params">(String avatar)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.avatar = avatar;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">public</span> User <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           Set&lt;String&gt; favoriteFoods;</span><br><span class="line">           <span class="keyword">switch</span> (<span class="keyword">this</span>.favoriteFoods == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.favoriteFoods.size()) &#123;</span><br><span class="line">               <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                   favoriteFoods = java.util.Collections.emptySet();</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">               <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                   favoriteFoods = java.util.Collections.singleton(<span class="keyword">this</span>.favoriteFoods.get(<span class="number">0</span>));</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">               <span class="keyword">default</span>:</span><br><span class="line">                   favoriteFoods = <span class="keyword">new</span> java.util.LinkedHashSet&lt;String&gt;(<span class="keyword">this</span>.favoriteFoods.size() &lt; <span class="number">1073741824</span> ? <span class="number">1</span> + <span class="keyword">this</span>.favoriteFoods.size() + (<span class="keyword">this</span>.favoriteFoods.size() - <span class="number">3</span>) / <span class="number">3</span> : Integer.MAX_VALUE);</span><br><span class="line">                   favoriteFoods.addAll(<span class="keyword">this</span>.favoriteFoods);</span><br><span class="line">                   favoriteFoods = java.util.Collections.unmodifiableSet(favoriteFoods);</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">new</span> User(userId, email, favoriteFoods, avatar);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="string">"User.UserBuilder(userId="</span> + <span class="keyword">this</span>.userId + <span class="string">", email="</span> + <span class="keyword">this</span>.email + <span class="string">", favoriteFoods="</span> + <span class="keyword">this</span>.favoriteFoods + <span class="string">", avatar="</span> + <span class="keyword">this</span>.avatar + <span class="string">")"</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å¯ä»¥ä»ä¸Šé¢ä¸ºUserServiceç±»åšåŒæ ·çš„äº‹æƒ…ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="meta">@FieldDefaults</span>(makeFinal=<span class="keyword">true</span>, level=AccessLevel.PRIVATE)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">  <span class="meta">@NonNull</span> UserDao userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å°†å¯¼è‡´å¤§çº¦è¿™ä¸ªJavaä»£ç ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(UserService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">final</span> UserDao userDao;</span><br><span class="line">   </span><br><span class="line">   <span class="meta">@java</span>.beans.ConstructorProperties(&#123;<span class="string">"userDao"</span>&#125;)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">UserService</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (userDao == <span class="keyword">null</span>) &#123;</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">"userDao is marked @NonNull but is null"</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><h2 id="è¡¡é‡å½±å“"><a href="#è¡¡é‡å½±å“" class="headerlink" title="è¡¡é‡å½±å“"></a>è¡¡é‡å½±å“</h2><p>Grubhubæœ‰è¶…è¿‡ä¸€ç™¾ç§æœåŠ¡æ¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚æˆ‘ä»¬é‡‡ç”¨äº†å…¶ä¸­ä¸€ç§æœåŠ¡å¹¶è¿è¡Œäº†Lombok IntelliJæ’ä»¶çš„â€œde-lombokâ€åŠŸèƒ½ï¼Œä»¥æŸ¥çœ‹ä½¿ç”¨LombokèŠ‚çœäº†å¤šå°‘è¡Œä»£ç ã€‚ç»“æœæ˜¯å¤§çº¦180ä¸ªæ–‡ä»¶çš„æ›´æ”¹ï¼Œå¯¼è‡´å¤§çº¦18,000ä¸ªé¢å¤–çš„ä»£ç è¡Œå’Œ800ä¸ªLombokä½¿ç”¨çš„åˆ é™¤ã€‚è¿™æ˜¯18,000è¡Œè‡ªåŠ¨ç”Ÿæˆï¼Œæ ‡å‡†åŒ–å’Œç»è¿‡å®æˆ˜è€ƒéªŒçš„ä»£ç è¡Œï¼å¹³å‡è€Œè¨€ï¼Œæ¯è¡ŒLombokä»£ç éƒ½èŠ‚çœäº†23è¡ŒJavaä»£ç ã€‚æœ‰äº†è¿™æ ·çš„å½±å“ï¼Œå¾ˆéš¾æƒ³è±¡æ²¡æœ‰Lombokå°±ä½¿ç”¨Javaã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>Lombokæ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹å¼ï¼Œå¯ä»¥æ¿€å‘å·¥ç¨‹å¸ˆçš„æ–°è¯­è¨€åŠŸèƒ½ï¼Œè€Œæ— éœ€åœ¨æ•´ä¸ªç»„ç»‡å†…ä»˜å‡ºå¤ªå¤šåŠªåŠ›ã€‚å°†æ’ä»¶åº”ç”¨äºé¡¹ç›®å½“ç„¶æ¯”ä½¿ç”¨ç°æœ‰ä»£ç è®­ç»ƒæ‰€æœ‰å·¥ç¨‹å¸ˆä½¿ç”¨æ–°è¯­è¨€å’Œç«¯å£æ›´å®¹æ˜“ã€‚Lombokå¯èƒ½æ²¡æœ‰ä¸€åˆ‡ï¼Œä½†å®ƒç¡®å®æä¾›äº†è¶³å¤Ÿçš„å¼€ç®±å³ç”¨ï¼Œå¯¹å·¥ç¨‹ç»éªŒäº§ç”Ÿäº†æ˜æ˜¾çš„å½±å“ã€‚</p><p>Lombokçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯å®ƒä½¿æˆ‘ä»¬çš„ä»£ç åº“ä¿æŒä¸€è‡´ã€‚å‡­å€Ÿéå¸ƒå…¨çƒçš„ä¸€ç™¾å¤šç§ä¸åŒæœåŠ¡å’Œåˆ†å¸ƒå¼å›¢é˜Ÿï¼Œä½¿æˆ‘ä»¬çš„ä»£ç åº“ä¿æŒä¸€è‡´ï¼Œå¯ä»¥æ›´è½»æ¾åœ°æ‰©å±•å›¢é˜Ÿå¹¶å‡å°‘å¯åŠ¨æ–°é¡¹ç›®æ—¶ä¸Šä¸‹æ–‡åˆ‡æ¢çš„è´Ÿæ‹…ã€‚è‡ªJava 6ä»¥æ¥ï¼ŒLombokä¸ä»»ä½•ç‰ˆæœ¬çš„Javaéƒ½ç›¸å…³ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŒ‡æœ›å®ƒåœ¨æ‰€æœ‰é¡¹ç›®ä¸­éƒ½å¯ç”¨ã€‚</p><p>Lombokå¯¹Grubhubçš„æ„ä¹‰è¿œè¿œè¶…è¿‡äº†é—ªäº®çš„æ–°åŠŸèƒ½ã€‚æ¯•ç«Ÿï¼ŒLombokåšçš„ä»»ä½•äº‹æƒ…éƒ½å¯ä»¥æ‰‹å·¥ç¼–å†™ã€‚å¦‚å›¾æ‰€ç¤ºï¼ŒLombokç®€åŒ–äº†ä»£ç åº“çš„æ— èŠéƒ¨åˆ†ï¼Œè€Œä¸ä¼šå½±å“ä¸šåŠ¡é€»è¾‘ã€‚è¿™ä½¿æˆ‘ä»¬ä¸“æ³¨äºä¸ºGrubhubæä¾›æœ€å¤§ä»·å€¼çš„å·¥ä½œï¼Œå¹¶ä¸”æ˜¯æˆ‘ä»¬å·¥ç¨‹å¸ˆæœ€æ„Ÿå…´è¶£çš„å·¥ä½œã€‚ç¼–å†™è€…ï¼Œå®¡é˜…è€…å’Œç»´æŠ¤è€…è®©ä»£ç åº“çš„è¿™ä¹ˆå¤§éƒ¨åˆ†æˆä¸ºå•è°ƒçš„æ ·æ¿ä»£ç æ˜¯æµªè´¹æ—¶é—´ã€‚æ­¤å¤–ï¼Œç”±äºæ­¤ä»£ç ä¸å†æ‰‹åŠ¨ç¼–å†™ï¼Œå› æ­¤å®ƒæ¶ˆé™¤äº†æ‰€æœ‰ç±»å‹çš„æ‹¼å†™é”™è¯¯ã€‚è‡ªåŠ¨ç”Ÿæˆçš„å¥½å¤„ä¸å¼ºå¤§çš„åŠŸèƒ½ç›¸ç»“åˆï¼Œ@NonNullå‡å°‘äº†æ¼æ´çš„å¯èƒ½æ€§ï¼Œå¹¶ä½¿æˆ‘ä»¬çš„å·¥ç¨‹ä¸“æ³¨äºä¸ºæ‚¨æä¾›ä¾¿åˆ©ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;201902W5 Review, è¿™æ˜¯ä¸€ç¯‡å…³äºSpringå¼€å‘æ’ä»¶Lombokçš„è¯‘æ–‡ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Review" scheme="https://foreti.me/blog/tags/Review/"/>
    
      <category term="Java" scheme="https://foreti.me/blog/tags/Java/"/>
    
      <category term="Lombok" scheme="https://foreti.me/blog/tags/Lombok/"/>
    
  </entry>
  
  <entry>
    <title>MacOS tomcatå¯åŠ¨80ç«¯å£</title>
    <link href="https://foreti.me/blog/2018/07/18/macos-tomcat-80/"/>
    <id>https://foreti.me/blog/2018/07/18/macos-tomcat-80/</id>
    <published>2018-07-18T12:16:02.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>Mac OSä¸Šérootç”¨æˆ·æ˜¯ä¸å…è®¸å¯åŠ¨å°äº1024çš„ç«¯å£ï¼Œæ‰€ä»¥åœ¨macä¸Šä½¿ç”¨IDEå¼€å‘ï¼Œæ¯”å¦‚åœ¨Eclipseæˆ–è€…Intellijä¸­ï¼Œå¯åŠ¨æœåŠ¡ç”¨80ç«¯å£ï¼Œä¼šæŠ¥é”™Permission Deniedã€‚</p><a id="more"></a><hr><p>å¯ä»¥é€šè¿‡ä¿®æ”¹Tomcatçš„ç”¨æˆ·ä¸ºrootæ¥è§£å†³ï¼Œä½†æ˜¯æ›´ç®€å•çš„æ˜¯è®¾ç½®ä¸€ä¸ªç«¯å£ç›‘å¬è½¬å‘ï¼Œå°†å…¶ä»–ç«¯å£æ¯”å¦‚8080è½¬å‘åˆ°80ï¼Œè¿™æ ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥åœ°å€å°±ä¸ç”¨å†™ç«¯å£å·äº†ã€‚</p><p>å‘½ä»¤ï¼š</p><ol><li><code>sudo vim /etc/pf.conf</code></li><li>åœ¨<code>rdr-anchor &quot;com.apple/*&quot;</code>è¿™ä¸€è¡Œåé¢æ·»åŠ <code>rdr on lo0 inet proto tcp from any to 127.0.0.1 port 80 -&gt; 127.0.0.1 port 8080</code>ï¼Œä¿å­˜é€€å‡º</li><li><code>sudo pfctl -f /etc/pf.conf</code></li><li><code>sudo pfctl -e</code></li></ol><p>è¿™æ ·å°±å®Œæˆäº†ï¼Œå¦‚æœæƒ³å…³é—­è½¬å‘ï¼Œè¾“å…¥<code>sudo pfctl -d</code>ã€‚</p><p>é‡å¯åè½¬å‘éœ€è¦é‡æ–°å¼€å¯ç”Ÿæ•ˆï¼Œå³è¾“å…¥3ï¼Œ4å‘½ä»¤</p><p>å¦‚æœè¦é‡å¯åè‡ªåŠ¨ç”Ÿæ•ˆï¼Œé¦–å…ˆå…³é—­ç³»ç»Ÿå®Œæ•´æ€§ä¿æŠ¤æœºåˆ¶ï¼Œéœ€é‡å¯åˆ°å®‰å…¨æ¨¡å¼åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä¸‹è¿°å‘½ä»¤å…³é—­æ–‡ä»¶ç³»ç»Ÿä¿æŠ¤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csrutil enable --without fs</span><br></pre></td></tr></table></figure></p><p>ç„¶å<code>sudo vim /System/Library/LaunchDaemons/com.apple.pfctl.plist</code>, æ·»åŠ ä¸€è¡Œ <code>&lt;string&gt;-e&lt;/string&gt;</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;string&gt;pfctl&lt;/string&gt;</span><br><span class="line">&lt;string&gt;-e&lt;/string&gt;</span><br><span class="line">&lt;string&gt;-f&lt;/string&gt;</span><br><span class="line">&lt;string&gt;/etc/pf.conf&lt;/string&gt;</span><br></pre></td></tr></table></figure></p><p>ä¿å­˜é€€å‡ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Mac OSä¸Šérootç”¨æˆ·æ˜¯ä¸å…è®¸å¯åŠ¨å°äº1024çš„ç«¯å£ï¼Œæ‰€ä»¥åœ¨macä¸Šä½¿ç”¨IDEå¼€å‘ï¼Œæ¯”å¦‚åœ¨Eclipseæˆ–è€…Intellijä¸­ï¼Œå¯åŠ¨æœåŠ¡ç”¨80ç«¯å£ï¼Œä¼šæŠ¥é”™Permission Deniedã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="mac" scheme="https://foreti.me/blog/tags/mac/"/>
    
      <category term="tomcat" scheme="https://foreti.me/blog/tags/tomcat/"/>
    
  </entry>
  
  <entry>
    <title>springè‡ªåŠ¨æ³¨å…¥é™æ€å±æ€§</title>
    <link href="https://foreti.me/blog/2018/07/17/spring-autowired-static/"/>
    <id>https://foreti.me/blog/2018/07/17/spring-autowired-static/</id>
    <published>2018-07-17T11:59:35.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>stackoverflowé—®é¢˜ Can you use @Autowired with static fields?</p><a id="more"></a><hr><p><a href="https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields" target="_blank" rel="noopener">é“¾æ¥</a><br>Springä¸­æœ‰æ—¶éœ€è¦åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨è‡ªåŠ¨æ³¨å…¥çš„å±æ€§ï¼Œä¾‹å¦‚Serviceæˆ–è€…Mapperï¼Œè€Œ@autiworedæ˜¯ä¸èƒ½æ³¨è§£é™æ€å±æ€§çš„ï¼Œè¿™æ˜¯å› ä¸ºé™æ€å±æ€§æ˜¯ç±»çš„å±æ€§ï¼Œè€Œspringæ³¨å…¥æ˜¯å¯¹è±¡å±‚é¢çš„ä¾èµ–æ³¨å…¥ï¼Œæ‰€ä»¥springæ˜¯ä¸æ”¯æŒæ³¨å…¥é™æ€å±æ€§çš„ï¼Œè¿™æ—¶å€™å¦‚æœéå¾—ç”¨ï¼Œå°±è¦æ›²çº¿æ•‘å›½äº†<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Component(&quot;NewClass&quot;)</span><br><span class="line">public class NewClass&#123;</span><br><span class="line">    private static SomeThing someThing;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    public void setSomeThing(SomeThing someThing)&#123;</span><br><span class="line">        NewClass.someThing = someThing;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;stackoverflowé—®é¢˜ Can you use @Autowired with static fields?&lt;/p&gt;
    
    </summary>
    
    
      <category term="spring" scheme="https://foreti.me/blog/tags/spring/"/>
    
      <category term="autowired" scheme="https://foreti.me/blog/tags/autowired/"/>
    
  </entry>
  
  <entry>
    <title>centosæ­å»ºJupyter Notebook</title>
    <link href="https://foreti.me/blog/2018/07/06/centos-jupyter-notebook/"/>
    <id>https://foreti.me/blog/2018/07/06/centos-jupyter-notebook/</id>
    <published>2018-07-06T12:56:58.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>centosæ­å»ºJupyter Notebook, æ·»åŠ å¤šè¯­è¨€æ”¯æŒ(R,Ruby,Octave,JS,Java,C++).</p><a id="more"></a><hr><p><img src="https://foreti.me/imgplace/2019/centos-jn-overview.png" alt></p><h1 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h1><p>ä¸»è¦ç†Ÿæ‚‰å¸¸ç”¨å‘½ä»¤ï¼Œ<br><code>wget [url]</code>ä¸‹è½½ï¼Œ</p><p><code>tar -xvf</code>è§£å‹<code>.tar.gz</code>ï¼Œ</p><p>ä½¿ç”¨yumåŒ…ç®¡ç†å·¥å…·<code>yum search xx</code>æœç´¢, <code>yum install xx</code>ä¸‹è½½ã€‚</p><p><code>whereis</code>ï¼Œ<code>which</code>æŸ¥æ‰¾æ–‡ä»¶ï¼Œ <code>find [path] -name xxx</code>æŸ¥æ‰¾æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶</p><p><code>ps -ef | grep jupyter</code> æŸ¥çœ‹jupyterè¿è¡Œçš„pid</p><h1 id="å®‰è£…jupyter"><a href="#å®‰è£…jupyter" class="headerlink" title="å®‰è£…jupyter"></a>å®‰è£…jupyter</h1><ol><li><p>ä¸‹è½½Anacondaæœ€æ–°ç‰ˆæœ¬ï¼Œçœäº‹ã€‚åœ¨å®˜ç½‘æ‰¾åˆ°ä¸‹è½½é“¾æ¥ï¼Œpython3.6ç‰ˆæœ¬ï¼Œç„¶å</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://repo.anaconda.com/archive/Anaconda3-5.2.0-Linux-x86_64.sh</span><br></pre></td></tr></table></figure><p> ç„¶åè¿è¡Œè„šæœ¬</p> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash Anaconda3-3-5.2.0-Linux-x86_64.sh</span><br></pre></td></tr></table></figure><p> ä¸­é—´éœ€è¦ç¡®å®šæ—¶ç¡®å®šå³å¯ï¼Œç­‰å¾…å®‰è£…å®Œæˆï¼Œä¼šè‡ªåŠ¨å†™å…¥ç¯å¢ƒå˜é‡ã€‚</p> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda --version</span><br><span class="line">jupyter --version</span><br></pre></td></tr></table></figure></li><li><p>ç„¶åæŒ‰ç…§å®˜ç½‘æ­¥éª¤ï¼Œè®¾ç½®config</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br><span class="line"><span class="comment"># ä¼šç”Ÿæˆconfigæ–‡ä»¶ä¸º .jupyter/jupyter_notebook_config.py</span></span><br></pre></td></tr></table></figure><p> è®¾ç½®å¯†ç </p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from notebook.auth import passwd</span><br><span class="line">passwd()</span><br><span class="line"># ä¼šç”Ÿæˆç±»ä¼¼ sha1:xxxxxxxxxxxxxxxxxxxï¼Œ éœ€è¦è®°ä¸€ä¸‹</span><br></pre></td></tr></table></figure><p> ç„¶åç¼–è¾‘ configæ–‡ä»¶</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim .jupyter/jupyter_notebook_config.py</span><br></pre></td></tr></table></figure><p> ä¿®æ”¹è¿™äº›è¡Œï¼Œå»æ‰æ³¨é‡Šï¼Œå¡«ç›¸åº”å€¼ã€‚å…¶ä»–é€‰é¡¹ä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.password = &apos;sha1:xxxxxxxxxxxxxxxxxxx&apos;</span><br><span class="line">c.NotebookApp.ip = &apos;*&apos;</span><br><span class="line">c.NotebookApp.open_browser = False</span><br><span class="line">c.NotebookApp.port = 8888</span><br></pre></td></tr></table></figure></li><li><p>å¼€æ”¾å’Œé‡å¯é˜²ç«å¢™<br> centos7ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=8888/tcp --permanent # æ°¸ä¹…å¼€æ”¾8888ç«¯å£</span><br><span class="line">firewall-cmd --reload # é‡å¯firewall</span><br><span class="line">firewall-cmd --list-ports # æŸ¥çœ‹å¼€æ”¾ç«¯å£</span><br></pre></td></tr></table></figure><p> centos6ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/sbin/iptables -I INPUT -p tcp --dport 8888 -j ACCEPT # å¼€æ”¾8888ç«¯å£</span><br><span class="line">/etc/rc.d/init.d/iptables save # ä¿å­˜</span><br><span class="line">service iptables status # æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨serverï¼Œ<code>jupyter notebook</code>ã€‚å¦‚æœéœ€è¦åå°å¯åŠ¨ï¼Œè¿è¡Œ<br><code>nohup jupyter notebook &gt; jupyter.log 2&gt;&amp;1 &amp;</code></p></li></ol><h1 id="å®‰è£…å…¶ä»–kernel"><a href="#å®‰è£…å…¶ä»–kernel" class="headerlink" title="å®‰è£…å…¶ä»–kernel"></a>å®‰è£…å…¶ä»–kernel</h1><p>ä¸»è¦æ ¹æ® [Jupyter kernels wiki](<a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernelsï¼‰" target="_blank" rel="noopener">https://github.com/jupyter/jupyter/wiki/Jupyter-kernelsï¼‰</a></p><h2 id="py2-7"><a href="#py2-7" class="headerlink" title="py2.7"></a>py2.7</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda create -n ipykernel_py2 python=2 ipykernel</span><br><span class="line">source activate ipykernel_py2</span><br><span class="line">python -m ipykernel install --user</span><br></pre></td></tr></table></figure><h2 id="ruby"><a href="#ruby" class="headerlink" title="ruby"></a>ruby</h2><p><a href="https://github.com/SciRuby/iruby" target="_blank" rel="noopener">iruby</a>, rubyéœ€è¦ç‰ˆæœ¬å¤§äº2.1</p><ol><li><p>å‡†å¤‡å·¥ä½œï¼Œå®‰è£…ç¯å¢ƒã€‚<br>yum ä¸‹è½½çš„å¯èƒ½ä¸æ˜¯æœ€æ–°çš„rubyï¼Œæ‰€ä»¥ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y git-core ruby-devel ruby zlib zlib-devel gcc-c++ patch readline readline-devel libyaml-devel libffi-devel openssl-devel make</span><br></pre></td></tr></table></figure></li><li><p>ruby kerneléœ€è¦ZeroMQ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install zeromq-devel zeromq czmq</span><br><span class="line">gem install cztop rbczmq ffi_rzmq</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…iruby kernel</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gem install cztop iruby</span><br><span class="line">iruby register --force</span><br></pre></td></tr></table></figure></li></ol><h2 id="R"><a href="#R" class="headerlink" title="R"></a>R</h2><p>æŒ‰ç…§<a href="https://irkernel.github.io/" target="_blank" rel="noopener">irkernel</a>çš„å®‰è£…æ­¥éª¤ï¼Œ<br>æˆ–è€…ç›´æ¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install -c r r-essentials</span><br></pre></td></tr></table></figure></p><h2 id="octave"><a href="#octave" class="headerlink" title="octave"></a>octave</h2><p>pip</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install octave_kernel</span><br></pre></td></tr></table></figure><p>æˆ–è€…conda</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels conda-forge</span><br><span class="line">conda install octave_kernel</span><br></pre></td></tr></table></figure><h2 id="js"><a href="#js" class="headerlink" title="js"></a>js</h2><p>é¦–å…ˆå®‰è£…nodejså’Œnpmï¼Œç„¶å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g ijavascript</span><br><span class="line">ijsinstall</span><br></pre></td></tr></table></figure><h2 id="java"><a href="#java" class="headerlink" title="java"></a>java</h2><p><a href="https://github.com/SpencerPark/IJava" target="_blank" rel="noopener">IJava</a> ,éœ€è¦å®‰è£…java 9æˆ–10ï¼Œè®¾ç½®å¥½ç¯å¢ƒå˜é‡ï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/java/jdk-10.0.1/</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><p>ç„¶å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/SpencerPark/IJava.git --depth 1</span><br><span class="line">cd IJava/</span><br><span class="line">chmod u+x gradlew</span><br><span class="line">./gradlew installKernel</span><br></pre></td></tr></table></figure><h2 id="c"><a href="#c" class="headerlink" title="c++"></a>c++</h2><p><a href="https://github.com/QuantStack/xeus-cling" target="_blank" rel="noopener">xues-cling</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda create -n cling</span><br><span class="line">source activate cling</span><br><span class="line">conda install xeus-cling notebook -c QuantStack -c conda-forge</span><br></pre></td></tr></table></figure><p>æœ‰ä¸ªé—®é¢˜æ˜¯éœ€è¦åˆ‡æ¢åˆ°clingç¯å¢ƒå¯åŠ¨jupyteræ‰ä¼šæœ‰c++çš„kernelï¼Œæ‰¾äº†ä¸€ä¸‹cling çš„kernelæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find anaconda3/envs/cling -name kernels</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">anaconda3/envs/cling/lib/python3.6/site-packages/notebook/services/kernels</span><br><span class="line">anaconda3/envs/cling/lib/python3.6/site-packages/notebook/static/services/kernels</span><br><span class="line">anaconda3/envs/cling/share/jupyter/kernels</span><br></pre></td></tr></table></figure><p>è¿›å…¥åˆ°<code>/share/jupyter/kernels</code>ï¼Œå‘ç°äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd anaconda3/envs/cling/share/jupyter/kernels</span><br><span class="line">ll</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">total 16</span><br><span class="line">drwxr-xr-x 2 root root 4096 Jul  5 14:48 python3</span><br><span class="line">drwxr-xr-x 2 root root 4096 Jul  5 14:48 xeus-cling-cpp11</span><br><span class="line">drwxr-xr-x 2 root root 4096 Jul  5 14:48 xeus-cling-cpp14</span><br><span class="line">drwxr-xr-x 2 root root 4096 Jul  5 14:48 xeus-cling-cpp17</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œçœ‹ä¸€ä¸‹jupyter kernelçš„æ–‡ä»¶ç›®å½•åœ¨å“ª</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter kernelspec list</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Available kernels:</span><br><span class="line">  java                /root/.ipython/kernels/java</span><br><span class="line">  ruby                /root/.ipython/kernels/ruby</span><br><span class="line">  ir                  /root/.local/share/jupyter/kernels/ir</span><br><span class="line">  javascript          /root/.local/share/jupyter/kernels/javascript</span><br><span class="line">  python2             /root/.local/share/jupyter/kernels/python2</span><br><span class="line">  python3             /root/.local/share/jupyter/kernels/python3</span><br><span class="line">  octave              /root/anaconda3/share/jupyter/kernels/octave</span><br><span class="line">  bash                /usr/local/share/jupyter/kernels/bash</span><br></pre></td></tr></table></figure><p>ç¡®å®šæ˜¯<code>.ipython/kernels/</code>çš„è¿™ä¸€ä¸ªã€‚</p><p>å°†<code>xeus-cling-cpp11  xeus-cling-cpp14  xeus-cling-cpp17</code>è¿™ä¸‰ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶åˆ°<code>.ipython/kernels/</code>ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp xeus-cling-cpp11 .ipython/kernels/</span><br><span class="line">cp xeus-cling-cpp14 .ipython/kernels/</span><br><span class="line">cp xeus-cling-cpp17 .ipython/kernels/</span><br></pre></td></tr></table></figure><p>å®Œæˆã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;centosæ­å»ºJupyter Notebook, æ·»åŠ å¤šè¯­è¨€æ”¯æŒ(R,Ruby,Octave,JS,Java,C++).&lt;/p&gt;
    
    </summary>
    
    
      <category term="jupyter" scheme="https://foreti.me/blog/tags/jupyter/"/>
    
  </entry>
  
  <entry>
    <title>Javaä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹çš„å‡ ç§æ–¹æ³•</title>
    <link href="https://foreti.me/blog/2018/04/04/java-concurrent-join/"/>
    <id>https://foreti.me/blog/2018/04/04/java-concurrent-join/</id>
    <published>2018-04-04T01:47:35.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡å…³äºJavaä¸­çš„å¤šçº¿ç¨‹ä¸‹ï¼Œè®©ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œçš„å‡ ç§æ–¹æ³•ã€‚</p><a id="more"></a><hr><p>åœ¨å¾ˆå¤šæ—¶å€™, éƒ½éœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸­ç­‰å¾…æ‰€æœ‰çº¿ç¨‹æ‰§è¡Œå®Œæ¯•, å†è¿›è¡Œå…¶ä»–çš„æ“ä½œ. åœ¨è¿™ç§æƒ…å†µä¸‹, æ˜¾ç„¶å¦‚ä¸‹çš„å†™æ³•æ˜¯ä¸è¡Œçš„.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="keyword">this</span>.getName() + <span class="string">" start"</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="keyword">this</span>.getName() + <span class="string">" end"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"runtime: "</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶å€™çš„è¾“å‡ºæ˜¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">runtime: 0</span><br><span class="line">Thread-0 start</span><br><span class="line">Thread-0 end</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶å€™éœ€è¦é˜»å¡ä¸»çº¿ç¨‹, è®©å…¶ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•, æ–¹æ³•æœ‰å‡ ç§, ä¸‹é¢å¼€å§‹ä»‹ç».</p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>å…ˆåˆ›å»ºä¸€ä¸ªç±»å®ç°Runnableæ¥å£.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">" start"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">" end"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="Thread-join"><a href="#Thread-join" class="headerlink" title="Thread.join()"></a>Thread.join()</h2><h3 id="ç­‰å¾…ä¸€ä¸ªå­çº¿ç¨‹"><a href="#ç­‰å¾…ä¸€ä¸ªå­çº¿ç¨‹" class="headerlink" title="ç­‰å¾…ä¸€ä¸ªå­çº¿ç¨‹"></a>ç­‰å¾…ä¸€ä¸ªå­çº¿ç¨‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        MyRunnable runnable = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(runnable, <span class="string">"thread-0"</span>);</span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            thread.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"runtime: "</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç­‰å¾…å¤šä¸ªå­çº¿ç¨‹"><a href="#ç­‰å¾…å¤šä¸ªå­çº¿ç¨‹" class="headerlink" title="ç­‰å¾…å¤šä¸ªå­çº¿ç¨‹"></a>ç­‰å¾…å¤šä¸ªå­çº¿ç¨‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            MyRunnable runnable = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">            Thread thread = <span class="keyword">new</span> Thread(runnable, <span class="string">"thread-"</span> + i);</span><br><span class="line">            thread.start();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                thread.join();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"runtime: "</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡º, æ˜¾ç„¶æ˜¯ä¸²è¡Œæ‰§è¡Œçš„5ä¸ªçº¿ç¨‹.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">thread-0 start</span><br><span class="line">thread-0 end</span><br><span class="line">thread-1 start</span><br><span class="line">thread-1 end</span><br><span class="line">thread-2 start</span><br><span class="line">thread-2 end</span><br><span class="line">thread-3 start</span><br><span class="line">thread-3 end</span><br><span class="line">thread-4 start</span><br><span class="line">thread-4 end</span><br><span class="line">runtime: 25004</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæƒ³å¼‚æ­¥å¹¶å‘æ‰§è¡Œå¤šä¸ªå­çº¿ç¨‹, å¯åœ¨å¾ªç¯ä½“å¤–join<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        List&lt;Thread&gt; list = <span class="keyword">new</span> ArrayList&lt;Thread&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            MyRunnable runnable = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">            Thread thread = <span class="keyword">new</span> Thread(runnable, <span class="string">"thread-"</span> + i);</span><br><span class="line">            thread.start();</span><br><span class="line">            list.add(thread);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span>(Thread thread : list) &#123;</span><br><span class="line">                thread.join();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"runtime: "</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¾“å‡º.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">thread-1 start</span><br><span class="line">thread-3 start</span><br><span class="line">thread-4 start</span><br><span class="line">thread-0 start</span><br><span class="line">thread-2 start</span><br><span class="line">thread-1 end</span><br><span class="line">thread-3 end</span><br><span class="line">thread-4 end</span><br><span class="line">thread-2 end</span><br><span class="line">thread-0 end</span><br><span class="line">runtime: 5004</span><br></pre></td></tr></table></figure></p><p>ç”±äºæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæŠ¢å cpuæ‰§è¡Œ, æ‰§è¡Œçš„é¡ºåºæ˜¯éšæœºçš„, æ‰€ä»¥æ¯æ¬¡è¾“å‡ºéƒ½ä¼šä¸åŒ.</p><h2 id="CountDownLatch"><a href="#CountDownLatch" class="headerlink" title="CountDownLatch"></a>CountDownLatch</h2><p>CountDownLatchæ˜¯java.util.concurrentä¸‹çš„ä¸€ä¸ªç±», ä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œæ¯•.</p><blockquote><p>A synchronization aid that allows one or more threads to wait until a set of operations being performed in other threads completes.</p></blockquote><p>CountDownLatchæºç å¦‚ä¸‹.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountDownLatch</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Synchronization control For CountDownLatch. The details are not </span></span><br><span class="line"><span class="comment">    * writted. please read the official docs.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Sync</span> <span class="keyword">extends</span> <span class="title">AbstractQueuedSynchronizer</span> </span>&#123;...&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Sync sync;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Constructs a CountDownLatch initialized with the given count.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CountDownLatch</span><span class="params">(<span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (count &lt; <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"count &lt; 0"</span>);</span><br><span class="line">        <span class="keyword">this</span>.sync = <span class="keyword">new</span> Sync(count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Causes the current thread to wait until the latch has counted down to</span></span><br><span class="line"><span class="comment">     * zero, unless the thread is interrupted.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">await</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        sync.acquireSharedInterruptibly(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Causes the current thread to wait until the latch has counted down to</span></span><br><span class="line"><span class="comment">     * zero, unless the thread is interrupted, or the specified waiting time </span></span><br><span class="line"><span class="comment">     * elapses.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">await</span><span class="params">(<span class="keyword">long</span> timeout, TimeUnit unit)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sync.tryAcquireSharedNanos(<span class="number">1</span>, unit.toNanos(timeout));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Decrements the count of the latch, releasing all waiting threads if the</span></span><br><span class="line"><span class="comment">     * count reaches zero.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">countDown</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        sync.releaseShared(<span class="number">1</span>); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sync.getCount(); <span class="comment">//Returns the current count.</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.toString() + <span class="string">"[Count = "</span> + sync.getCount() + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æœ‰ä¸€ä¸ªæ„é€ å™¨å’Œå‡ ä¸ªæ–¹æ³•, æ„é€ æ—¶ä¼ å‚ç”¨äºå®šä¹‰CountDownLatchå¤§å°, ä¸”ä¸å¯ä¿®æ”¹. å…·ä½“åº”ç”¨æ—¶, æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªçº¿ç¨‹å, å°±countdown()ä¸€æ¬¡. åœ¨æ‰€æœ‰çº¿ç¨‹å¼€å§‹æ‰§è¡Œå, ç«‹å³await()ç­‰å¾…, ç›´åˆ°æ‰€æœ‰çº¿ç¨‹æ‰§è¡Œå®Œ, å†æ‰§è¡Œawait()åçš„ä»£ç æ®µ.</p><p>ä½¿ç”¨CountDownLatchå®ç°ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹å¦‚ä¸‹.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        CountDownLatch latch = <span class="keyword">new</span> CountDownLatch(<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">" start"</span>);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                        latch.countDown();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">" end"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; .start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            latch.await();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"runtime: "</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¾“å‡º<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Thread-<span class="number">2</span> start</span><br><span class="line">Thread-<span class="number">3</span> start</span><br><span class="line">Thread-<span class="number">0</span> start</span><br><span class="line">Thread-<span class="number">1</span> start</span><br><span class="line">Thread-<span class="number">4</span> start</span><br><span class="line">Thread-<span class="number">2</span> end</span><br><span class="line">Thread-<span class="number">3</span> end</span><br><span class="line">Thread-<span class="number">0</span> end</span><br><span class="line">Thread-<span class="number">1</span> end</span><br><span class="line">Thread-<span class="number">4</span> end</span><br><span class="line">runtime: <span class="number">5004</span></span><br></pre></td></tr></table></figure></p><h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><p>java.util.concurrent.ExecutorServiceæ˜¯javaçº¿ç¨‹æ± çš„ä¸€ä¸ªæ¥å£, é€šè¿‡ExecutorServiceå®ç°ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹çš„æ–¹æ³•å¾ˆå¤š, æ¯”å¦‚submit()çš„è¿”å›Futureå¯¹è±¡åˆ¤æ–­æäº¤çš„ä»»åŠ¡æ˜¯å¦æ‰§è¡Œå®Œ, æˆ–è€…åœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨CountDownLatch, æˆ–è€…ç”¨isTerminated()æˆ–awiatTermination(long, TimeUnit)åˆ¤æ–­çº¿ç¨‹æ± shutdownåæ‰€æœ‰ä»»åŠ¡æ˜¯å¦å®Œæˆ. å…·ä½“å¯ä»¥æŸ¥ä¸€ä¸‹ExecutorServiceçš„æ–‡æ¡£</p><p>è¿™é‡Œ, è®²ä¸€ä¸ªæœ€ç®€å•çš„isTerminated().<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        ExecutorService pool = Executors.newFixedThreadPool(<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            MyRunnable runnable = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">            pool.execute(runnable);</span><br><span class="line">        &#125;</span><br><span class="line">        pool.shutdown();</span><br><span class="line">        <span class="keyword">while</span>(!pool.isTerminated());</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"runtime: "</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¾“å‡º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pool-1-thread-4 start</span><br><span class="line">pool-1-thread-2 start</span><br><span class="line">pool-1-thread-3 start</span><br><span class="line">pool-1-thread-5 start</span><br><span class="line">pool-1-thread-1 start</span><br><span class="line">pool-1-thread-5 end</span><br><span class="line">pool-1-thread-4 end</span><br><span class="line">pool-1-thread-2 end</span><br><span class="line">pool-1-thread-1 end</span><br><span class="line">pool-1-thread-3 end</span><br><span class="line">runtime: 5003</span><br></pre></td></tr></table></figure></p><p>æˆ–è€…ç”¨awaitTermination(long, TimeUnit)æ›´å¥½, longä¼ ä¸€ä¸ªé•¿æ•´å‹, TimeUnitä¼ æ—¶é—´å•ä½, å¸¸ç”¨çš„æœ‰MILLISECONDS, SECONDS, MINUTESç­‰ç­‰, longå’ŒTimeUnitç»„åˆè¡¨ç¤ºè¶…æ—¶æ—¶é—´. å½“çº¿ç¨‹æ± æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œ,è¿”å›true. æœªæ‰§è¡Œå®Œå‰è¶…æ—¶è¿”å›false. å¦‚ä¸‹.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        ExecutorService pool = Executors.newFixedThreadPool(<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            MyRunnable runnable = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">            pool.execute(runnable);</span><br><span class="line">        &#125;</span><br><span class="line">        pool.shutdown();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//å¯ä»¥è®©whileå¾ªç¯æ¯2sæ‰§è¡Œä¸€æ¬¡, è€Œä¸æ˜¯ä¸€ç›´å¾ªç¯æ¶ˆè€—æ€§èƒ½</span></span><br><span class="line">            <span class="keyword">while</span>(!pool.awaitTermination(<span class="number">2</span>, TimeUnit.SECONDS));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"runtime: "</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¾“å‡º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pool-1-thread-2 start</span><br><span class="line">pool-1-thread-5 start</span><br><span class="line">pool-1-thread-1 start</span><br><span class="line">pool-1-thread-4 start</span><br><span class="line">pool-1-thread-3 start</span><br><span class="line">pool-1-thread-2 end</span><br><span class="line">pool-1-thread-5 end</span><br><span class="line">pool-1-thread-1 end</span><br><span class="line">pool-1-thread-3 end</span><br><span class="line">pool-1-thread-4 end</span><br><span class="line">runtime: 5003</span><br></pre></td></tr></table></figure></p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>CountDownLatchç›¸å¯¹äºjoin()æ¥è¯´, åœ¨å¤æ‚åœºæ™¯ä¸‹æ›´èƒ½ä½“ç°å‡ºä¼˜åŠ¿. æ¯”å¦‚éœ€è¦ä¸»çº¿ç¨‹åœ¨å…¶ä»–çº¿ç¨‹æ‰§è¡Œä¸€åŠæˆ–æ‰§è¡Œåˆ°æŸä¸ªé˜¶æ®µæ—¶å¼€å§‹, è¿™ç§æƒ…å†µæ˜¯join()æ²¡æ³•åšåˆ°çš„.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯ä¸€ç¯‡å…³äºJavaä¸­çš„å¤šçº¿ç¨‹ä¸‹ï¼Œè®©ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œçš„å‡ ç§æ–¹æ³•ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="concurrent" scheme="https://foreti.me/blog/tags/concurrent/"/>
    
  </entry>
  
  <entry>
    <title>springbootçš„Mapperä¸æ•°æ®åº“è¡¨å­—æ®µæ˜ å°„</title>
    <link href="https://foreti.me/blog/2018/03/13/springboot-mapper/"/>
    <id>https://foreti.me/blog/2018/03/13/springboot-mapper/</id>
    <published>2018-03-13T01:35:32.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡è®²è¿°Spring Bootå¦‚ä½•é€šè¿‡mybatis-spring-boot-starteré›†æˆMybatisï¼Œå¹¶ä¸”åœ¨Mapperä¸­å¦‚ä½•æ˜ å°„Modelå±æ€§å’Œè¡¨çš„å­—æ®µã€‚</p><a id="more"></a><hr><p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ã€‚</p><h2 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h2><p>é¦–å…ˆè¦å¼•å…¥mybatisçš„ä¾èµ–<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="table-user"><a href="#table-user" class="headerlink" title="table_user"></a>table_user</h2><p>æ•°æ®åº“å»ºè¡¨<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> <span class="string">`tb_user`</span>(</span><br><span class="line">    <span class="string">`id`</span> <span class="built_in">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`name`</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`created_by`</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> ( <span class="string">`id`</span> )</span><br><span class="line">)<span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br></pre></td></tr></table></figure></p><h2 id="User"><a href="#User" class="headerlink" title="User"></a>User</h2><p>å®ä½“ç±»<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String createdBy;</span><br><span class="line">    <span class="comment">//çœç•¥äº†setters &amp; getters</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="UserMapper"><a href="#UserMapper" class="headerlink" title="UserMapper"></a>UserMapper</h2><p>Mapperæ¥å£ä¸­å¯ä»¥é€šè¿‡æ³¨è§£çš„å½¢å¼ç›´æ¥å†™sqlï¼Œæ¯”å°†sqlåˆ†ç¦»åˆ°xmlä¸­çš„æ–¹å¼æ›´æ–¹ä¾¿<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"select * from tb_user where id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function">User <span class="title">selectById</span><span class="params">(@Param(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"select * from tb_user"</span>)</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">selectAll</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Insert</span>(<span class="string">"insert into tb_user(id, name, created_by) values(#&#123;id&#125;, #&#123;name&#125;, #&#123;createdBy&#125;)"</span>)</span><br><span class="line">    <span class="meta">@Results</span>(id = <span class="string">"user"</span>, </span><br><span class="line">             value = &#123;</span><br><span class="line">                        <span class="meta">@Result</span>(column = <span class="string">"id"</span>,property = <span class="string">"id"</span>),</span><br><span class="line">                        <span class="meta">@Result</span>(column = <span class="string">"name"</span>,property = <span class="string">"name"</span>),</span><br><span class="line">                        <span class="meta">@Result</span>(column = <span class="string">"created_by"</span>,property = <span class="string">"createdBy"</span>)</span><br><span class="line">             &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="comment">//@Options(useGeneratedKeys = true, keyProperty = "id", keyColumn = "id")</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insertUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update</span>(<span class="string">"update tb_user set id = #&#123;id&#125;, name = #&#123;name&#125;, created_by = #&#123;createdBy&#125;"</span>)</span><br><span class="line">    <span class="meta">@ResultMap</span>(value = <span class="string">"user"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete</span>(<span class="string">"delete from tb_user where id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(@Param(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ul><li>@Select, @Insert, @Update, @Deleteæ˜¾ç„¶å°±æ˜¯sqlè¯­å¥çš„æ³¨è§£äº†.</li><li>@Paramæ˜¯æ ¹æ®åˆ«åå–å‚æ•°çš„.</li><li>@Resultså’Œ@Resulté…åˆä½¿ç”¨, å°±å¯ä»¥å°†å®ä½“ç±»å±æ€§å’Œè¡¨å­—æ®µè¿›è¡Œä¸€ä¸€æ˜ å°„.<ul><li>@Resultsçš„å‚æ•°idè¡¨ç¤ºè¿™ä¸ªæ˜ å°„çš„åˆ«å, å¯ä»¥é…åˆ@ResultMapä½¿ç”¨.</li><li>@Resultçš„å‚æ•°columnè¡¨ç¤ºè¡¨å­—æ®µå, propertyè¡¨ç¤ºå®ä½“å±æ€§å.</li></ul></li><li>@Optionså¯ä»¥åœ¨æ’å…¥æ—¶è¿”å›ä¸»é”®å€¼, åœ¨è¿™é‡Œæ²¡ä»€ä¹ˆç”¨. ä¸€èˆ¬ç”¨äºåœ¨ä¸»é”®idè‡ªå¢çš„æƒ…å†µä¸‹, æ’å…¥æ“ä½œä¸å®šä¹‰id, å¯ä»¥åœ¨æ’å…¥æ•°æ®åº“è¡¨åè¿”å›è¯¥æ¡æ’å…¥ä¿¡æ¯çš„ä¸»é”®id.</li></ul><h2 id="UserService"><a href="#UserService" class="headerlink" title="UserService"></a>UserService</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScriptService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">selectById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        User user = userMapper.selectById(id);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;User&gt; list = userMapper.selectAll();</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insertUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        userMapper.insertUser(user);</span><br><span class="line">        retyrn user.getId();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">updateUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> id = user.getId();</span><br><span class="line">        user check = userMapper.selectById(id);</span><br><span class="line">        <span class="keyword">if</span> (check == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        userMapper.updateUser(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        user check = userMapper.selectById(id);</span><br><span class="line">        <span class="keyword">if</span> (check == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        userMapper.deleteById(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="UserController"><a href="#UserController" class="headerlink" title="UserController"></a>UserController</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/selectById/&#123;id&#125;"</span>, method = RequestMethod.GET)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">selectById</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  userService.selectById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/selectAll"</span>, method = RequestMethod.GET)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  userService.selectAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/insertUser"</span>, method = RequestMethod.POST)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insertUser</span><span class="params">(@RequestBody User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userService.insertUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/updateUser"</span>, method = RequestMethod.POST)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">updateUser</span><span class="params">(@RequestBody User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userService.updateUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/deleteById/&#123;id&#125;"</span>, method = RequestMethod.POST)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deleteById</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userService.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡è®²è¿°Spring Bootå¦‚ä½•é€šè¿‡mybatis-spring-boot-starteré›†æˆMybatisï¼Œå¹¶ä¸”åœ¨Mapperä¸­å¦‚ä½•æ˜ å°„Modelå±æ€§å’Œè¡¨çš„å­—æ®µã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="springboot" scheme="https://foreti.me/blog/tags/springboot/"/>
    
      <category term="ResultMap" scheme="https://foreti.me/blog/tags/ResultMap/"/>
    
  </entry>
  
  <entry>
    <title>Thymeleafçš„ç®€å•ä½¿ç”¨</title>
    <link href="https://foreti.me/blog/2018/03/12/thymeleaf-start/"/>
    <id>https://foreti.me/blog/2018/03/12/thymeleaf-start/</id>
    <published>2018-03-12T12:09:44.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>Thymeleafæ˜¯ä¸€æ¬¾ç”¨äºæ¸²æŸ“XML/XHTML/HTML5å†…å®¹çš„Javaæ¨¡æ¿å¼•æ“åº“ï¼Œå¯ä»¥é€šè¿‡HTMLçš„æ ‡ç­¾å±æ€§æ¸²æŸ“æ ‡ç­¾å†…å®¹ã€‚</p><a id="more"></a><hr><p>ä¸¾ä¸ªä¾‹å­ï¼Œ<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;home.welcome&#125;"</span>&gt;</span>Welcome to our grocery store!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œçš„<code>th:text</code>çš„å†…å®¹å°±æ˜¯éœ€è¦åå°æ¸²æŸ“çš„ï¼Œå‡å¦‚æ²¡æœ‰åå°æ¸²æŸ“ï¼Œhtmlä¼šå°†æ— æ³•è¯†åˆ«çš„éƒ¨åˆ†ç›´æ¥è¿‡æ»¤æ‰ï¼Œé‚£ä¹ˆè¾“å‡ºå°±æ˜¯<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> &gt;</span>Welcome to our grocery store!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å‡å¦‚åå°ä¼ è¿‡æ¥çš„<code>home.welcome</code>çš„å€¼æ˜¯<code>Welcome, Yanss!</code>ï¼Œé‚£ä¹ˆè¾“å‡ºå°±æ˜¯<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> &gt;</span>Welcome, Yanss!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¿™å°±æ˜¯Thymeleafçš„ç”¨æ³•å’Œä½œç”¨äº†ï¼Œå…¶ä»–çš„åœ°æ–¹ä¹Ÿå·®ä¸å¤šã€‚</p><p>è®°å½•å‡ ä¸ªå¸¸ç”¨çš„è¯­æ³•ã€‚</p><h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;http://www.thymeleaf.org&#125;"</span>&gt;</span>Thymeleaf<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦ä¼ å‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;http://www.thymeleaf.org(id=$&#123;id&#125;)&#125;"</span>&gt;</span>Thymeleaf<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;http://www.thymeleaf.org(id=$&#123;id&#125;,name=$&#123;name&#125;)&#125;"</span>&gt;</span>Thymeleaf<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="å­—ç¬¦ä¸²æ›¿æ¢"><a href="#å­—ç¬¦ä¸²æ›¿æ¢" class="headerlink" title="å­—ç¬¦ä¸²æ›¿æ¢"></a>å­—ç¬¦ä¸²æ›¿æ¢</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"'Welcome to our application, ' + $&#123;user.name&#125; + '!'"</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ¡ä»¶é€‰æ‹©å¼"><a href="#æ¡ä»¶é€‰æ‹©å¼" class="headerlink" title="æ¡ä»¶é€‰æ‹©å¼"></a>æ¡ä»¶é€‰æ‹©å¼</h2><p>ç±»ä¼¼äºjavaçš„ä¸‰å…ƒè¡¨è¾¾å¼<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"true?'çœŸ':'å‡'"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="å¾ªç¯loop"><a href="#å¾ªç¯loop" class="headerlink" title="å¾ªç¯loop"></a>å¾ªç¯loop</h2><ul><li><p>åˆ›å»ºè¡¨æ ¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>NAME<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>PRICE<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>IN STOCK<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod : $&#123;prods&#125;"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.name&#125;"</span>&gt;</span>Onions<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.price&#125;"</span>&gt;</span>2.41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;prod.inStock&#125;? #&#123;true&#125; : #&#123;false&#125;"</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºä¸‹æ‹‰æ¡†</p><ul><li><p>åœ¨é¡¹ç›®å¯åŠ¨è®¿é—®indexé¡µé¢çš„æ—¶å€™ï¼ŒæŠŠè¦éœ€è¦çš„åˆ—è¡¨é›†åˆå­˜åˆ°sessionä½œç”¨åŸŸ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"index"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(HttpSession session)</span></span>&#123;</span><br><span class="line">    List&lt;Classes&gt; list = userService.findAllClasses();</span><br><span class="line">    session.setAttribute(<span class="string">"list"</span>,list);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"index"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å‰å°å–å€¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"className"</span> <span class="attr">class</span>=<span class="string">"form-control"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>è¯·é€‰æ‹©ç­çº§<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">th:each</span>=<span class="string">"list:$&#123;session.list&#125;"</span> <span class="attr">th:value</span>=<span class="string">"$$&#123;list.cid&#125;"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;list.cname&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>éå†Mapå’ŒList</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">th:each</span>=<span class="string">"entry : $&#123;map&#125;"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;entry.key&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">th:each</span>=<span class="string">"entry : $&#123;map&#125;"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;entry.value&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">thead</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span> &gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:each</span>=<span class="string">"ele : $&#123;list&#125;"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;ele&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>éå†List<map></map></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">th:each</span>=<span class="string">"lm : $&#123;listmap&#125;"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">th:each</span>=<span class="string">"entry : $&#123;lm&#125;"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;entry.key&#125;"</span> &gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">th:each</span>=<span class="string">"entry : $&#123;lm&#125;"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;entry.value&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="if-unless-switch-case"><a href="#if-unless-switch-case" class="headerlink" title="if/unless, switch/case"></a>if/unless, switch/case</h2><p>ä¸‹é¢<code>&lt;a&gt;</code>æ ‡ç­¾åªæœ‰åœ¨<code>th:if</code>ä¸­æ¡ä»¶æˆç«‹æ—¶æ‰æ˜¾ç¤ºï¼Œ<code>th:unless</code>åªæœ‰ä¸æˆç«‹æ—¶æ‰æ˜¾ç¤º<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/login&#125;"</span> <span class="attr">th:if</span>=<span class="string">$&#123;session.user</span> != <span class="string">null&#125;</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>switch/caseä¹Ÿå¾ˆå¥½ç†è§£ï¼Œé»˜è®¤å±æ€§defaultå¯ä»¥ç”¨*è¡¨ç¤º<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:switch</span>=<span class="string">"$&#123;user.role&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"'admin'"</span>&gt;</span>User is an administrator<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"#&#123;roles.manager&#125;"</span>&gt;</span>User is a manager<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"*"</span>&gt;</span>User is some other thing<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="inline"><a href="#inline" class="headerlink" title="inline"></a>inline</h2><p>ä¸¾ä¸ªä¾‹å­, å½“æˆ‘æƒ³åœ¨ä¸€ä¸ªä¸¤å±‚çš„æ ‡ç­¾ä¸­åŒæ—¶æ¸²æŸ“å¤–å±‚å’Œå†…å±‚çš„å±æ€§, å¯èƒ½ä¼šå‡ºç°ä¸‹é¢è¿™ç§é”™è¯¯.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;Hello.world&#125;"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:if</span>=<span class="string">"$&#123;user == 'yanss'&#125;"</span>&gt;</span>yanss<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¿™ç§å†™æ³•ç­‰åŒäº<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;Hello.world&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å› ä¸ºå¤–å±‚çš„th:textä¼šå°†å†…å±‚çš„è¦†ç›–æ‰, å¦‚æœè¦åŒæ—¶æ¸²æŸ“, å¯ä»¥ä½¿ç”¨inlineå±æ€§, ä¹Ÿå¯ä»¥å°†å†…å¤–å±‚éš”ç¦»å¼€.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:inline</span>=<span class="string">"text"</span>&gt;</span>[[$&#123;Hello.world&#125;]]<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:if</span>=<span class="string">"$&#123;user == 'yanss'&#125;"</span>&gt;</span>yanss<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- or --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> &gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;Hello.world&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:if</span>=<span class="string">"$&#123;user == 'yanss'&#125;"</span>&gt;</span>yanss<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Thymeleafæ˜¯ä¸€æ¬¾ç”¨äºæ¸²æŸ“XML/XHTML/HTML5å†…å®¹çš„Javaæ¨¡æ¿å¼•æ“åº“ï¼Œå¯ä»¥é€šè¿‡HTMLçš„æ ‡ç­¾å±æ€§æ¸²æŸ“æ ‡ç­¾å†…å®¹ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="thymeleaf" scheme="https://foreti.me/blog/tags/thymeleaf/"/>
    
  </entry>
  
  <entry>
    <title>Win10æ¨èè½¯ä»¶</title>
    <link href="https://foreti.me/blog/2018/02/25/win10-tool/"/>
    <id>https://foreti.me/blog/2018/02/25/win10-tool/</id>
    <published>2018-02-25T04:44:05.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘åœ¨æ—¥å¸¸ä½¿ç”¨windows 10çš„ä¸€äº›å¸¸ç”¨è½¯ä»¶ã€‚</p><a id="more"></a><hr><p><img src="https://foreti.me/imgplace/2019/20190429231453.png" alt></p><ul><li><p><del><a href="http://1218.io/" target="_blank" rel="noopener">Seer</a> ç©ºæ ¼é¢„è§ˆ</del> <a href="https://pooi.moe/QuickLook/" target="_blank" rel="noopener">QuickLook</a>æ›´å¥½ç”¨</p></li><li><p><del><a href="http://www.listary.com/download" target="_blank" rel="noopener">Listary</a> ç±»Spotlight</del></p><ul><li>è®¾ç½®é¡µï¼Œå…ˆæ¿€æ´»</li><li>å…³é”®å­—Web<br><img src="https://foreti.me/imgplace/2019/20190429231527.png" alt="listary1"><ul><li>ç™¾åº¦ï¼š<code>http://www.baidu.com/s?wd={query}</code></li><li>æ·˜å®ï¼š<code>https://s.taobao.com/search?q={query}</code></li><li>äº¬ä¸œï¼š<code>https://search.jd.com/Search?keyword={query}&amp;enc=utf-8&amp;qrst=1&amp;rt=1&amp;stop=1&amp;vt=2&amp;wq={query}&amp;psort=3&amp;wtype=1&amp;stock=1&amp;click=2</code></li><li>å¿…åº”è¯å…¸ï¼š<code>http://cn.bing.com/dict/search?q={query}</code></li></ul></li><li>å…³é”®å­—è‡ªå®šä¹‰<ul><li>runï¼š<img src="https://foreti.me/imgplace/2019/20190429231559.png" alt="listary3"></li><li>æ–°å»ºæ–‡ä»¶ï¼š<img src="https://foreti.me/imgplace/2019/20190429231614.png" alt="listary4"></li><li>GoldenDictï¼š<img src="https://foreti.me/imgplace/2019/20190429231627.png" alt="listary2"></li></ul></li></ul></li><li><p>å‘ç°<a href="http://www.wox.one/" target="_blank" rel="noopener">Wox</a>æ›´å¥½ç”¨ï¼Œé…ç½®æ›´å°‘æ›´æ–¹ä¾¿ï¼Œæ­é…Everythingä¹Ÿæ˜¯ä¸€æ ·çš„å¿«</p></li><li><p><a href="http://ditto-cp.sourceforge.net/" target="_blank" rel="noopener">Ditto</a> å‰ªè´´æ¿å·¥å…·</p></li><li><p><a href="https://www.bandisoft.com/bandizip/cn/" target="_blank" rel="noopener">Bandizip</a> æ¯”7Zzipå¥½</p></li><li><p><a href="https://www.bandisoft.com/honeyview/cn/" target="_blank" rel="noopener">Honeyview</a> çœ‹å›¾è¶…å¿«</p></li><li><p><a href="https://potplayer.daum.net/" target="_blank" rel="noopener">potplayer</a> è§†é¢‘æ’­æ”¾å™¨</p><ul><li>åŠ çš®è‚¤Zune<img src="https://foreti.me/imgplace/2019/20190429231658.png" alt="potplayer+zune"></li></ul></li><li><p><a href="http://goldendict.org/" target="_blank" rel="noopener">GoldenDict</a> è¯å…¸ï¼Œé…åˆListary</p></li><li><p><a href="https://pc.qq.com/detail/0/detail_12860.html" target="_blank" rel="noopener">è¿…é›·æé€Ÿç‰ˆ</a> å¦ä¸€<a href="https://www.zhihu.com/question/52853014" target="_blank" rel="noopener">åœ°å€</a></p></li><li><p><a href="https://www.freedownloadmanager.org/" target="_blank" rel="noopener">FDM</a> ä¸‹è½½å·¥å…·</p></li><li><p><a href="https://www.sumatrapdfreader.org/" target="_blank" rel="noopener">SumatraPDF</a></p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//é«˜çº§è®¾ç½®</span><br><span class="line"># For documentation, see http://www.sumatrapdfreader.org/settings3.2.html</span><br><span class="line"></span><br><span class="line">MainWindowBackground = #80fff200</span><br><span class="line">EscToExit = false</span><br><span class="line">ReuseInstance = false</span><br><span class="line">UseSysColors = false</span><br><span class="line">RestoreSession = true</span><br><span class="line"></span><br><span class="line">FixedPageUI [</span><br><span class="line">TextColor = #000000</span><br><span class="line">BackgroundColor = #ffffff</span><br><span class="line">SelectionColor = #f5fc0c</span><br><span class="line">WindowMargin = 2 4 2 4</span><br><span class="line">PageSpacing = 4 4</span><br><span class="line">]</span><br><span class="line">EbookUI [</span><br><span class="line">FontName = å¾®è½¯é›…é»‘</span><br><span class="line">FontSize = 12.5</span><br><span class="line">TextColor = #5f4b32</span><br><span class="line">BackgroundColor = #fbf0d9</span><br><span class="line">UseFixedPageUI = false</span><br><span class="line">GradientColors = #7aa1d2 #dbd4b4 #cc95c0</span><br><span class="line">]</span><br><span class="line">ComicBookUI [</span><br><span class="line">WindowMargin = 0 0 0 0</span><br><span class="line">PageSpacing = 4 4</span><br><span class="line">CbxMangaMode = false</span><br><span class="line">]</span><br><span class="line">ChmUI [</span><br><span class="line">UseFixedPageUI = false</span><br><span class="line">]</span><br><span class="line">ExternalViewers [</span><br><span class="line">]</span><br><span class="line">ShowMenubar = true</span><br><span class="line">ReloadModifiedDocuments = true</span><br><span class="line">FullPathInTitle = false</span><br><span class="line">ZoomLevels = 8.33 12.5 18 25 33.33 50 66.67 75 100 125 150 200 300 400 600 800 1000 1200 1600 2000 2400 3200 4800 6400</span><br><span class="line">ZoomIncrement = 0</span><br><span class="line"></span><br><span class="line">PrinterDefaults [</span><br><span class="line">PrintScale = shrink</span><br><span class="line">]</span><br><span class="line">ForwardSearch [</span><br><span class="line">HighlightOffset = 0</span><br><span class="line">HighlightWidth = 15</span><br><span class="line">HighlightColor = #6581ff</span><br><span class="line">HighlightPermanent = false</span><br><span class="line">]</span><br><span class="line">CustomScreenDPI = 0</span><br><span class="line"></span><br><span class="line">RememberStatePerDocument = true</span><br><span class="line">UiLanguage = cn</span><br><span class="line">ShowToolbar = true</span><br><span class="line">ShowFavorites = false</span><br><span class="line">AssociateSilently = false</span><br><span class="line">CheckForUpdates = true</span><br><span class="line">RememberOpenedFiles = true</span><br><span class="line">EnableTeXEnhancements = false</span><br><span class="line">DefaultDisplayMode = single page</span><br><span class="line">DefaultZoom = fit page</span><br><span class="line">WindowState = 1</span><br><span class="line">WindowPos = 695 80 970 1010</span><br><span class="line">ShowToc = true</span><br><span class="line">SidebarDx = 196</span><br><span class="line">TocDy = 0</span><br><span class="line">ShowStartPage = true</span><br><span class="line">UseTabs = true</span><br></pre></td></tr></table></figure></li><li><p><a href="https://www.iobit.com/en/products.php" target="_blank" rel="noopener">IObit</a> å¸è½½å·¥å…·</p></li><li><p><a href="https://www.ccleaner.com/ccleaner" target="_blank" rel="noopener">CCleaner</a> æ¸…ç†å·¥å…·</p></li><li><p><a href="https://anaconda.org/" target="_blank" rel="noopener">Anaconda</a> pythonåŒ…ç®¡ç†</p></li><li><p><a href="https://www.sublimetext.com/" target="_blank" rel="noopener">Sublime</a> æ’ä»¶<a href="http://pic.yanss.top/Sublimeæ’ä»¶.7z" target="_blank" rel="noopener">ä¸‹è½½</a></p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//OmniMarkupPreviewerå¿«æ·é”®è®¾ç½®</span><br><span class="line">[</span><br><span class="line">&#123;</span><br><span class="line">        &quot;keys&quot;: [&quot;alt+p&quot;], &quot;command&quot;: &quot;omni_markup_preview&quot;,</span><br><span class="line">        &quot;context&quot;: [&#123;&quot;key&quot;: &quot;omnimarkup_is_enabled&quot;, &quot;operator&quot;: &quot;equal&quot;, &quot;operand&quot;: &quot;&quot;&#125;]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p><del>ShadowsocksR ä¸‹è½½<a href="https://dl.onetive.com/" target="_blank" rel="noopener">åœ°å€ä¸€</a> <a href="http://shiyu.pro/archives/ssr-apk.html" target="_blank" rel="noopener">åœ°å€äºŒ</a> <a href="https://github.com/shadowsocksrr/shadowsocksr" target="_blank" rel="noopener">github</a></del></p></li><li><p>ShadowSocks, githubå¼€æºï¼Œå¯ä»¥æ‰¾åˆ°å„å¹³å°çš„åº”ç”¨</p></li><li><p>è‡ªå·±æ­å»ºvps <a href="http://shiyu.pro/archives/shadowsocks.html" target="_blank" rel="noopener">æ–¹æ¡ˆ</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯æˆ‘åœ¨æ—¥å¸¸ä½¿ç”¨windows 10çš„ä¸€äº›å¸¸ç”¨è½¯ä»¶ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="win10" scheme="https://foreti.me/blog/tags/win10/"/>
    
  </entry>
  
  <entry>
    <title>Hadoopå…¥é—¨</title>
    <link href="https://foreti.me/blog/2018/02/10/hadoop-start/"/>
    <id>https://foreti.me/blog/2018/02/10/hadoop-start/</id>
    <published>2018-02-10T07:18:05.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡åˆå­¦Hadoopæ—¶åº”è¯¥æµè§ˆçš„åšå®¢ï¼Œå—18å¹´å®ä¹ æ—¶çš„mentoræ¨èï¼Œæˆ‘è¯»äº†Understanding Hadoop Clusters and the Networkä¸€æ–‡ï¼Œå¹¶åœ¨è¿™é‡Œç¿»è¯‘ä¸€éã€‚</p><a id="more"></a><hr><h1 id="Understanding-Hadoop-Clusters-and-the-Network"><a href="#Understanding-Hadoop-Clusters-and-the-Network" class="headerlink" title="Understanding Hadoop Clusters and the Network"></a>Understanding Hadoop Clusters and the Network</h1><p>Author: Brad Hedlund<br><br>Link: <a href="http://bradhedlund.com/2011/09/10/understanding-hadoop-clusters-and-the-network/" target="_blank" rel="noopener">original text</a><br><br>Translator: Yanss</p><p>This article is Part 1 in series that will take a closer look at the architecture and methods of a Hadoop cluster, and how it relates to the network and server infrastructure. The content presented here is largely based on academic work and conversations Iâ€™ve had with customers running real production clusters. If you run production Hadoop clusters in your data center, Iâ€™m hoping youâ€™ll provide your valuable insight in the comments below. Subsequent articles to this will cover the server and network architecture options in closer detail. Before we do that though, lets start by learning some of the basics about how a Hadoop cluster works. OK, letâ€™s get started!</p><p>æœ¬æ–‡æ˜¯ç³»åˆ—çš„ç¬¬1éƒ¨åˆ†ï¼Œå°†å¸¦ä½ è¯¦ç»†äº†è§£Hadoopé›†ç¾¤çš„æ¶æ„å’Œæ–¹æ³•ï¼Œä»¥åŠå®ƒå¦‚ä½•å°†ç½‘ç»œå’ŒæœåŠ¡å™¨åŸºç¡€è®¾æ–½ç›¸å…³è”ã€‚è¿™é‡Œä»‹ç»çš„å†…å®¹ä¸»è¦æ˜¯åŸºäºå­¦æœ¯ç ”ç©¶å’Œæˆ‘ä¸åœ¨å®é™…äº§å“ä¸­è¿è¡Œé›†ç¾¤çš„å®¢æˆ·çš„äº¤æµã€‚å¦‚æœä½ åœ¨ä½ çš„æ•°æ®ä¸­å¿ƒä¸­è¿è¡ŒHadoopé›†ç¾¤ç”Ÿäº§ï¼Œæˆ‘æœŸå¾…ä½ åœ¨ä¸‹é¢çš„è¯„è®ºä¸­æä¾›æœ‰ä»·å€¼çš„è§è§£ã€‚æ¥ä¸‹æ¥çš„æ–‡ç« å°†ä¼šåŒ…å«æœåŠ¡å™¨å’Œç½‘ç»œç»“æ„çš„è¯¦ç»†ç»†èŠ‚ã€‚ç„¶è€Œåœ¨æ­¤ä¹‹å‰ï¼Œè®©æˆ‘äº†è§£ä¸€äº›Hadoopé›†ç¾¤å·¥ä½œçš„åŸºç¡€ã€‚<br><img src="https://foreti.me/imgplace/2019/Hadoop-Server-Roles.png" alt="Hadoop-Server-Roles"></p><p>The three major categories of machine roles in a Hadoop deployment are Client machines, Masters nodes, and Slave nodes. The Master nodes oversee the two key functional pieces that make up Hadoop: storing lots of data (HDFS), and running parallel computations on all that data (Map Reduce). The Name Node oversees and coordinates the data storage function (HDFS), while the Job Tracker oversees and coordinates the parallel processing of data using Map Reduce. Slave Nodes make up the vast majority of machines and do all the dirty work of storing the data and running the computations. Each slave runs both a Data Node and Task Tracker daemon that communicate with and receive instructions from their master nodes. The Task Tracker daemon is a slave to the Job Tracker, the Data Node daemon a slave to the Name Node.</p><p>Hadoopéƒ¨ç½²çš„ä¸‰ä¸ªä¸»è¦åˆ†ç±»åˆ†åˆ«æ˜¯Client machinesã€Masters nodeså’ŒSlave nodesã€‚ä¸»èŠ‚ç‚¹ç›‘ç£ä¸¤ä¸ªé‡è¦çš„åŠŸèƒ½å—å½¢æˆHadoopï¼šå­˜å‚¨å¤§é‡æ•°æ®(HDFS)ï¼Œåœ¨æ‰€æœ‰æ•°æ®ä¸Šå¹¶è¡Œè®¡ç®—(Map Reduce)ã€‚Name Nodeç›‘ç£åè°ƒæ•°æ®å­˜å‚¨åŠŸèƒ½(HDFS)ï¼ŒåŒæ—¶Job Trackerç›‘ç£åè°ƒä½¿ç”¨Map Reduceè¿›è¡Œæ•°æ®çš„å¹¶è¡Œå¤„ç†ã€‚Slave Nodeså½¢æˆå¤§å¤šæ•°çš„æœºæ„ï¼Œåšç€æ‰€æœ‰çš„å­˜å‚¨æ•°æ®å’Œè¿è¡Œè®¡ç®—çš„è„æ´»ã€‚æ¯ä¸ªslaveåŒæ—¶è¿è¡Œç€Data Nodeå’ŒTask Trackerçš„åå°ç¨‹åºâ€”â€”ç”¨ä»¥ä¼ é€’å’Œæ¥æ”¶æ¥è‡ªä»–ä»¬çš„master nodesçš„å‘½ä»¤ã€‚Task Trackeråå°ç¨‹åºæ˜¯Job Trackerçš„slaveï¼ŒData nodeåå°ç¨‹åºæ˜¯Name Nodeçš„slaveã€‚</p><p>Client machines have Hadoop installed with all the cluster settings, but are neither a Master or a Slave. Instead, the role of the Client machine is to load data into the cluster, submit Map Reduce jobs describing how that data should be processed, and then retrieve or view the results of the job when its finished. In smaller clusters (~40 nodes) you may have a single physical server playing multiple roles, such as both Job Tracker and Name Node. With medium to large clusters you will often have each role operating on a single server machine.</p><p>Client machinesçš„Hadoopå®‰è£…äº†æ‰€æœ‰çš„é›†ç¾¤è®¾ç½®ï¼Œä½†ä¸åŒ…å«Masteræˆ–Slaveã€‚ç›¸åº”çš„ï¼ŒClient machineçš„ä½œç”¨æ˜¯åŠ è½½æ•°æ®åˆ°é›†ç¾¤ï¼Œæäº¤Map Reduceå·¥ä½œï¼Œæè¿°æ•°æ®åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Œç„¶ååœ¨å…¬ä¼—å®Œæˆæ—¶å–å›æˆ–æŸ¥çœ‹ç»“æœã€‚åœ¨å°ä¸€äº›çš„é›†ç¾¤ï¼ˆçº¦40ä¸ªèŠ‚ç‚¹ï¼‰ä¸­ï¼Œä½ å¯èƒ½åªæœ‰ä¸€ä¸ªå®ä½“æœåŠ¡å™¨è¿è¡Œå¤šä»»åŠ¡ï¼Œä¾‹å¦‚Job Trackerå’ŒName Nodeä¸€æ ·ã€‚åœ¨ä¸­å¤§å‹é›†ç¾¤ä½ å¯èƒ½ä¼šåœ¨å•ä¸ªæœåŠ¡å™¨ä¸­è¿›è¡Œå•ä¸ªä»»åŠ¡è¿è½¬ã€‚</p><p>In real production clusters there is no server virtualization, no hypervisor layer. That would only amount to unnecessary overhead impeding performance. Hadoop runs best on Linux machines, working directly with the underlying hardware. That said, Hadoop does work in a virtual machine. Thatâ€™s a great way to learn and get Hadoop up and running fast and cheap. I have a 6-node cluster up and running in VMware Workstation on my Windows 7 laptop.</p><p>åœ¨å®é™…ç”Ÿäº§é›†ç¾¤ä¸­æ²¡æœ‰æœåŠ¡å™¨è™šæ‹ŸåŒ–ï¼Œæ²¡æœ‰è™šæ‹Ÿæœºç›‘è§†å™¨ã€‚é‚£åªä¼šäº§ç”Ÿå¤§é‡ä¸å¿…è¦çš„æ€§èƒ½å¼€æ”¯ã€‚Hadoopåœ¨Linuxæœºå™¨ä¸Šè¿è¡Œå¾—æœ€å¥½ï¼Œç›´æ¥åœ¨åº•å±‚ç¡¬ä»¶ä¸Šå·¥ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒHadoopåœ¨è™šæ‹Ÿæœºä¸Šå·¥ä½œã€‚é‚£æ˜¯äº†è§£å’Œæ­å»ºHadoopçš„å¥½åŠæ³•ï¼Œå¹¶ä¸”è¿è¡Œçš„åˆå¿«åˆä¾¿å®œã€‚æˆ‘æœ‰ä¸€ä¸ª6èŠ‚ç‚¹çš„é›†ç¾¤ï¼Œè¿è¡Œåœ¨æˆ‘çš„Windows 7ç¬”è®°æœ¬çš„VMwareå·¥ä½œå°ä¸Šã€‚</p><hr><p><img src="https://foreti.me/imgplace/2019/Hadoop-Cluster.png" alt="Hadoop-Cluster"></p><p>This is the typical architecture of a Hadoop cluster. You will have rack servers (not blades) populated in racks connected to a top of rack switch usually with 1 or 2 GE boned links. 10GE nodes are uncommon but gaining interest as machines continue to get more dense with CPU cores and disk drives. The rack switch has uplinks connected to another tier of switches connecting all the other racks with uniform bandwidth, forming the cluster. The majority of the servers will be Slave nodes with lots of local disk storage and moderate amounts of CPU and DRAM. Some of the machines will be Master nodes that might have a slightly different configuration favoring more DRAM and CPU, less local storage. In this post, we are not going to discuss various detailed network design options. Letâ€™s save that for another discussion (stay tuned). First, lets understand how this application worksâ€¦</p><p>è¿™æ˜¯ä¸€ä¸ªHadoopé›†ç¾¤çš„å…¸å‹ç»“æ„ã€‚ä½ å°†ä½¿ç”¨æœºæ¶æœåŠ¡å™¨(ä¸æ˜¯åˆ€é”‹æœåŠ¡å™¨)ï¼Œæ­å»ºåœ¨æœºæ¶ä¸­ï¼Œè¿æ¥ä¸€ä¸ªé¡¶éƒ¨æœºæ¶å¼€å…³ï¼Œé€šå¸¸ä½¿ç”¨1æˆ–2 GE(Gigabit Ethernetåƒå…†ä»¥å¤ªç½‘)ã€‚10 GEèŠ‚ç‚¹æ˜¯ä¸å¸¸æœ‰çš„ï¼Œä½†å½“æœºå™¨ä½¿ç”¨CPUæ ¸å¿ƒå’Œç£ç›˜é©±åŠ¨è·å–æ›´å¤§çš„å¯†åº¦æ—¶æ”¶ç›Šæ›´å¤šã€‚æœºæ¶å¼€å…³ä¸Šè¡Œä¼ è¾“è¢«è¿æ¥åˆ°è¿æ¥æ‰€æœ‰å…¶ä»–ç›¸åŒå¸¦å®½æœºæ¶çš„å¦ä¸€å±‚å¼€å…³ï¼Œæ„æˆé›†ç¾¤ã€‚å¤§å¤šæ•°æœåŠ¡å™¨æ˜¯Slave nodesï¼Œä½¿ç”¨å¤§é‡çš„æœ¬åœ°ç£ç›˜å­˜å‚¨å’Œä¸­é‡çš„CPUå’ŒDRAMã€‚ä¸€äº›æœºå™¨æ˜¯Master nodesï¼Œå¯èƒ½æœ‰è½»å¾®ä¸åŒçš„é…ç½®ï¼Œä½¿ç”¨æ›´å¤šçš„DRAMå’ŒCPUï¼Œè¾ƒå°‘çš„æœ¬åœ°å­˜å‚¨ã€‚åœ¨è¿™ç‰‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¸è®¨è®ºè®¸å¤šè¯¦ç»†çš„ç½‘ç»œè®¾è®¡é€‰æ‹©ï¼Œè®©æˆ‘ä»¬å°†å®ƒä¿ç•™åˆ°å¦ä¸€ä¸ªè®¨è®º(åœ¨è°ƒè¯•ä¸­)ä¸­ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç†è§£è¿™ä¸ªåº”ç”¨æ€ä¹ˆå·¥ä½œçš„ã€‚</p><hr><p><img src="https://foreti.me/imgplace/2019/Workflow.png" alt="Workflow"></p><p>Why did Hadoop come to exist? What problem does it solve? Simply put, businesses and governments have a tremendous amount of data that needs to be analyzed and processed very quickly. If I can chop that huge chunk of data into small chunks and spread it out over many machines, and have all those machines processes their portion of the data in parallel â€“ I can get answers extremely fast â€“ and that, in a nutshell, is what Hadoop does. In our simple example, weâ€™ll have a huge data file containing emails sent to the customer service department. I want a quick snapshot to see how many times the word â€œRefundâ€ was typed by my customers. This might help me to anticipate the demand on our returns and exchanges department, and staff it appropriately. Itâ€™s a simple word count exercise. The Client will load the data into the cluster (File.txt), submit a job describing how to analyze that data (word count), the cluster will store the results in a new file (Results.txt), and the Client will read the results file.</p><p>Hadoopä¸ºä½•è¯ç”Ÿï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿç®€è¨€ä¹‹ï¼Œå•†ä¸šå’Œæ”¿åºœæœ‰ä¸€ä¸ªæå¤§é‡çš„æ•°æ®éœ€è¦éå¸¸å¿«åœ°åˆ†æå’Œå¤„ç†ã€‚å¦‚æœæˆ‘å¯ä»¥åˆ†ç¦»è¿™ä¸ªå·¨å¤§çš„æ•°æ®åˆ°å¾ˆå¤šå°çš„éƒ¨åˆ†ï¼Œé“ºå¼€åˆ°å¤§é‡çš„æœºå™¨ä¸­ï¼Œè®©è¿™äº›æœºå™¨å¹¶è¡Œå¤„ç†å®ƒä»¬å„è‡ªçš„é‚£ä¸€éƒ¨åˆ†â€”â€”æˆ‘å°±å¯ä»¥æå¿«çš„è·å–ç»“æœâ€”â€”è¿™å°±æ˜¯Hadoopåšçš„äº‹æƒ…ã€‚åœ¨æˆ‘ä»¬çš„ç®€å•ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ç”¨ä¸€ä¸ªå·¨å¤§çš„æ•°æ®æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†å‘é€åˆ°å®¢æˆ·æœåŠ¡éƒ¨é—¨çš„é‚®ä»¶ã€‚æˆ‘æƒ³è¦ä¸€ä¸ªæ•°æ®å¿«ç…§ï¼Œæ¥æŸ¥çœ‹å•è¯â€œRefundâ€è¢«å®¢æˆ·è¾“å…¥äº†å¤šå°‘æ¬¡ã€‚è¿™å°†æœ‰åŠ©äºæˆ‘é¢„æµ‹é€€è¿˜å’Œäº¤æ¢éƒ¨é—¨çš„éœ€æ±‚ï¼Œå¹¶ä¸”åˆç†åœ°å®‰æ’èŒå‘˜ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è¯æ¡è®¡æ•°è®­ç»ƒã€‚Clientså°†ä¼šåŠ è½½æ•°æ®åˆ°é›†ç¾¤(File.txt)ï¼Œæäº¤ä¸€ä¸ªå·¥ä½œæè¿°ï¼Œå¦‚ä½•åˆ†ææ•°æ®(å•è¯è®¡æ•°)ï¼Œé›†ç¾¤ä¼šå­˜å‚¨ç»“æœåˆ°ä¸€ä¸ªæ–°çš„æ–‡ä»¶(Results.txt)ï¼Œç„¶åClientsä¼šè¯»å–ç»“æœæ–‡ä»¶ã€‚</p><hr><p><img src="https://foreti.me/imgplace/2019/Writing-Files-to-HDFS.png" alt="Writing-Files-to-HDFS"></p><p>Your Hadoop cluster is useless until it has data, so weâ€™ll begin by loading our huge File.txt into the cluster for processing. The goal here is fast parallel processing of lots of data. To accomplish that I need as many machines as possible working on this data all at once. To that end, the Client is going to break the data file into smaller â€œBlocksâ€, and place those blocks on different machines throughout the cluster. The more blocks I have, the more machines that will be able to work on this data in parallel. At the same time, these machines may be prone to failure, so I want to insure that every block of data is on multiple machines at once to avoid data loss. So each block will be replicated in the cluster as its loaded. The standard setting for Hadoop is to have (3) copies of each block in the cluster. This can be configured with the <strong>dfs.replication</strong> parameter in the file <strong>hdfs-site.xml</strong>.</p><p>ä½ çš„Hadoopé›†ç¾¤ç›´åˆ°æœ‰æ•°æ®æ‰æœ‰ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å§‹äºåŠ è½½è¶…å¤§çš„File.txtåˆ°é›†ç¾¤ä¸­å¤„ç†ã€‚è¿™é‡Œçš„ç›®æ ‡æ˜¯å¿«é€Ÿå¹¶è¡Œå¤„ç†å¤§é‡æ•°æ®ã€‚ä¸ºæ­¤æˆ‘éœ€è¦å°½å¯èƒ½å¤šçš„æœºå™¨åŒæ—¶å¤„ç†è¿™äº›æ•°æ®ã€‚åœ¨é‚£ç»“æŸåï¼ŒClientå°†ä¼šæ‰“æ–­è¿™ä¸ªæ•°æ®æ–‡ä»¶ä¸ºè®¸å¤šå°çš„å—ï¼Œå°†è¿™äº›å—æ”¾åˆ°éåŠé›†ç¾¤çš„ä¸åŒçš„æœºå™¨ä¸Šã€‚åˆ†æˆçš„å—è¶Šå¤šï¼Œèƒ½å¹¶è¡Œå·¥ä½œçš„æœºå™¨å°±è¶Šå¤šã€‚åœ¨åŒä¸€æ—¶é—´ï¼Œè¿™äº›æœºå™¨å¯èƒ½å®¹æ˜“å¤±è´¥ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…æ•°æ®ä¸¢å¤±ï¼Œæˆ‘ä¼šç¡®ä¿¡æ¯ä¸ªæ•°æ®å—åœ¨å¤šå°æœºå™¨ä¸Šå­˜åœ¨ã€‚æ‰€ä»¥æ¯ä¸ªå—ä¼šåœ¨åŠ è½½åˆ°é›†ç¾¤æ—¶å¤åˆ¶ã€‚Hadoopçš„æ ‡å‡†è®¾ç½®æ˜¯é›†ç¾¤ä¸­æ¯ä¸ªå—æœ‰3ä¸ªå¤åˆ¶ã€‚è¿™ä¸ªå¯ä»¥åœ¨hdfs-site.xmlæ–‡ä»¶çš„dfs.replicationå‚æ•°ä¸­è®¾ç½®ã€‚</p><p>The Client breaks File.txt into (3) Blocks. For each block, the Client consults the Name Node (usually TCP 9000) and receives a list of (3) Data Nodes that should have a copy of this block. The Client then writes the block directly to the Data Node (usually TCP 50010). The receiving Data Node replicates the block to other Data Nodes, and the cycle repeats for the remaining blocks. The Name Node is not in the data path. The Name Node only provides the map of where data is and where data should go in the cluster (file system metadata).</p><p>Clientå°†File.txtæ‹†åˆ†ä¸º3ä¸ªå—ã€‚å¯¹æ¯ä¸ªå—ï¼ŒClientæŸ¥çœ‹Name Node(é€šå¸¸ç”¨TCP 9000)å¹¶æ¥æ”¶ä¸€ä¸ª3ä¸ªData Nodesçš„listï¼Œæ¯ä¸ªData Nodeéƒ½æ˜¯ä¸€ä¸ªå—çš„å¤åˆ¶ã€‚Clientå°†å—ç›´æ¥å†™å…¥åˆ°Data Node(é€šå¸¸ç”¨TCP 50010)ã€‚æ”¶åˆ°çš„Data Nodeå°†å—å¤åˆ¶åˆ°å…¶ä»–Data Nodesï¼Œå‰©ä¸‹çš„å—ä¹Ÿå¾ªç¯è¿™ä¸ªé‡å¤è¿‡ç¨‹ã€‚Name Nodeä¸æ˜¯æ•°æ®è·¯å¾„ã€‚åœ¨é›†ç¾¤ä¸­(æ–‡ä»¶ç³»ç»Ÿäº‘æ•°æ®)Name Nodeåªæä¾›æ•°æ®çš„ä½ç½®å’Œæ•°æ®åº”è¯¥å»å“ªã€‚</p><hr><p><img src="https://foreti.me/imgplace/2019/Hadoop-Rack-Awareness.png" alt="Hadoop-Rack-Awareness"></p><p>Hadoop has the concept of â€œRack Awarenessâ€. As the Hadoop administrator you can <strong>manually</strong> define the rack number of each slave Data Node in your cluster. Why would you go through the trouble of doing this? There are two key reasons for this: Data loss prevention, and network performance. Remember that each block of data will be replicated to multiple machines to prevent the failure of one machine from losing all copies of data. Wouldnâ€™t it be unfortunate if all copies of data happened to be located on machines in the same rack, and that rack experiences a failure? Such as a switch failure or power failure. That would be a mess. So to avoid this, somebody needs to know where Data Nodes are located in the network topology and use that information to make an intelligent decision about where data replicas should exist in the cluster. That â€œsomebodyâ€ is the Name Node.</p><p>Hadoopæœ‰â€œæœºæ¶æ„ŸçŸ¥â€çš„æ¦‚å¿µã€‚ä½œä¸ºHadoopç®¡ç†å‘˜ï¼Œä½ å¯ä»¥æ‰‹åŠ¨å®šä¹‰é›†ç¾¤ä¸­æ¯ä¸ªslave Data Nodedçš„æœºæ¶æ•°é‡ã€‚ä¸ºä»€ä¹ˆä½ è¦åšè¿™ä¸ªéº»çƒ¦çš„äº‹æƒ…å‘¢ï¼Ÿæœ‰ä¸¤ä¸ªå…³é”®åŸå› ï¼šé˜²æ­¢æ•°æ®ä¸¢å¤±å’Œç½‘ç»œæ€§èƒ½ã€‚è®°ä½æ¯ä¸ªå—çš„æ•°æ®éœ€è¦å¤åˆ¶åˆ°å¤šä¸ªæœºå™¨ä»¥é˜²æ­¢ä¸€ä¸ªæœºå™¨å¤±è´¥æ˜¯ä¸¢å¤±æ‰€æœ‰çš„æ•°æ®ã€‚å¦‚æœæ‰€æœ‰çš„æ•°æ®å¤åˆ¶ç¢°å·§ä½äºåŒæ„æœºæ¶çš„æœºå™¨ä¸Šï¼Œå¹¶ä¸”æœºæ¶å‘ç”Ÿå¤±è´¥ï¼Œä¼šå‘ç”Ÿè¿™æ ·çš„äº‹æƒ…å—ï¼Ÿæ¯”å¦‚ä¸€ä¸ªå¼€å…³å¤±è´¥æˆ–è€…æ˜¯ä¾›ç”µé—®é¢˜ã€‚é‚£å°†ä¼šä¸€å›¢ç³Ÿã€‚æ‰€ä»¥ä¸ºäº†é¿å…è¿™æ ·ï¼Œâ€œæŸç‰©â€éœ€è¦çŸ¥é“ç½‘ç»œæ‹“æ‰‘ä¸­Data Nodesåœ¨å“ªï¼Œä»¥æ­¤åšä¸€ä¸ªå…³äºæ•°æ®å¤åˆ¶å“åº”è¯¥å­˜æ”¾åœ¨é›†ç¾¤ä½•å¤„çš„æ™ºèƒ½çš„å†³å®šã€‚è¿™ä¸ªâ€œæŸç‰©â€æ˜¯Name Nodeã€‚</p><p>There is also an assumption that two machines in the same rack have more bandwidth and lower latency between each other than two machines in two different racks. This is true most of the time. The rack switch uplink bandwidth is usually (but not always) less than its downlink bandwidth. Furthermore, in-rack latency is usually lower than cross-rack latency (but not always). If at least one of those two basic assumptions are true, wouldnâ€™t it be cool if Hadoop can use the same Rack Awareness that protects data to also optimally place work streams in the cluster, improving network performance? Well, it does! Cool, right?</p><p>æœ‰ä¸€ä¸ªå‡è®¾å…³äºåœ¨åŒä¸€æœºæ¶çš„ä¸¤ä¸ªæœºå™¨ä¹‹é—´æ¯”èµ·ä¸åŒæœºæ¶çš„ä¸¤ä¸ªæœºå™¨æœ‰æ›´å¤šçš„å¸¦å®½å’Œæ›´ä½çš„ç­‰å¾…æ—¶é—´ã€‚å¤§å¤šæ˜¯æ—¶å€™è¿™æ˜¯æ­£ç¡®çš„ã€‚æœºæ¶å¼€å…³çš„ä¸Šè¡Œå¸¦å®½é€šå¸¸(ä¸æ€»æ˜¯)æ¯”ä¸‹è¡Œå¸¦å®½å°ã€‚è€Œä¸”ï¼Œåœ¨æœºæ¶å†…çš„ç­‰å¾…æ—¶é—´é€šå¸¸æ¯”æœºæ¶è§çš„ç­‰å¾…æ—¶é—´ä½(ä¸æ€»æ˜¯)ã€‚å¦‚æœè¿™ä¸¤ä¸ªåŸºç¡€å‡è®¾ä¸­è‡³å°‘ä¸€ä¸ªæ˜¯å¯¹çš„ï¼Œå¦‚æœHadoopèƒ½ç”¨åŒä¸€ä¸ªæœºæ¶æ„ŸçŸ¥ï¼Œä¿æŠ¤æ•°æ®åˆ°å·¥ä½œæµä¹Ÿå°±æ˜¯é›†ç¾¤ä¸­æœ€é€‚å®œçš„ä½ç½®ï¼Œæé«˜ç½‘ç»œæ€§èƒ½ï¼Œä¸ä¼šæ›´å¥½å—ï¼Ÿå½“ç„¶ä¼šã€‚</p><p>What is <strong>NOT</strong> cool about Rack Awareness at this point is the <a href="http://developer.yahoo.com/hadoop/tutorial/module2.html#rack" target="_blank" rel="noopener">manual work required to define it the first time</a>, continually update it, and keep the information accurate. If the rack switch could auto-magically provide the Name Node with the list of Data Nodes it has, that would be cool. Or vice versa, if the Data Nodes could auto-magically tell the Name Node what switch theyâ€™re connected to, that would be cool too.</p><p>åœ¨è¿™ä¸€ç‚¹å…³äºæœºæ¶æ„ŸçŸ¥ä¸å¥½çš„åœ°æ–¹æ˜¯ï¼Œ<a href="http://developer.yahoo.com/hadoop/tutorial/module2.html#rack" target="_blank" rel="noopener">manual work required to define it the first time</a>ï¼ŒæŒç»­çš„æ›´æ–°å®ƒï¼Œä¿æŒä¿¡æ¯å‡†ç¡®ã€‚å¦‚æœæœºæ¶å¯ä»¥è‡ªåŠ¨æä¾›Data Nodes listçš„Name Nodeï¼Œé‚£å°†ä¼šå¾ˆå¥½ã€‚åè¿‡æ¥ä¹Ÿæ˜¯ï¼Œå¦‚æœData Nodeså¯ä»¥è‡ªåŠ¨å‘Šè¯‰Name Nodeå®ƒä»¬è¿æ¥çš„ä»€ä¹ˆå¼€å…³ï¼Œä¹Ÿä¼šå¾ˆå¥½ã€‚</p><p>Even more interesting would be a <a href="http://www.bradhedlund.com/2011/04/21/data-center-scale-openflow-sdn/" target="_blank" rel="noopener">OpenFlow network</a>, where the Name Node could query the OpenFlow controller about a Nodeâ€™s location in the topology.</p><p>ç”šè‡³æ›´æœ‰è¶£çš„æ˜¯ä¸€ä¸ª<a href="http://www.bradhedlund.com/2011/04/21/data-center-scale-openflow-sdn/" target="_blank" rel="noopener">OpenFlow network</a>ï¼ŒName Nodeå¯ä»¥åœ¨å“ªæŸ¥è¯¢OpenFlowæ§åˆ¶å™¨å…³äºä¸€ä¸ªNodeçš„æ‹“æ‰‘ä½ç½®ã€‚</p><hr><p><img src="https://foreti.me/imgplace/2019/Preparing-HDFS-Writes.png" alt="Preparing-HDFS-Writes"></p><p>The Client is ready to load File.txt into the cluster and breaks it up into blocks, starting with Block A. The Client consults the Name Node that it wants to write File.txt, gets permission from the Name Node, and receives a list of (3) Data Nodes for each block, a unique list for each block. The Name Node used its Rack Awareness data to influence the decision of which Data Nodes to provide in these lists. The key rule is that <strong>for every block of data, two copies will exist in one rack, another copy in a different rack.</strong> So the list provided to the Client will follow this rule.</p><p>Clientå‡†å¤‡å¥½åŠ è½½æ–‡ä»¶åˆ°é›†ç¾¤ä¸­ï¼Œå°†å®ƒæ‰“æ–­åˆ°ä¸åŒçš„å—ï¼Œå¼€å§‹å—Aã€‚ClientæŸ¥è¯¢Name Nodeï¼Œæƒ³å†™å…¥File.txtï¼Œä»Name Nodeè·å–è®¸å¯ï¼Œæ¥æ”¶ä¸€ä¸ªåŒ…å«æ¯ä¸ªå—çš„Data Nodeçš„listï¼Œä¸€ä¸ªåŒ…å«æ¯ä¸ªå—ç‹¬æœ‰çš„listã€‚Name Nodeç”¨å®ƒçš„æœºæ¶æ„ŸçŸ¥æ•°æ®å»å½±å“è¿™äº›listä¸­æä¾›å“ªä¸ªData Nodesçš„å†³å®šã€‚é‡è¦è§„åˆ™æ˜¯<strong>å¯¹æ•°æ®çš„æ¯ä¸ªå—ï¼Œä¸¤ä¸ªå¤åˆ¶å­˜åœ¨ä¸€ä¸ªæœºæ¶ä¸­ï¼Œå¦ä¸€ä¸ªå¤åˆ¶åœ¨å…¶ä»–æœºæ¶ä¸­</strong>ã€‚æ‰€ä»¥è¿™ä¸ªlistæä¾›Clientå°†éµå¾ªè¿™ä¸ªè§„åˆ™ã€‚</p><p>Before the Client writes â€œBlock Aâ€ of File.txt to the cluster it wants to know that all Data Nodes which are expected to have a copy of this block are ready to receive it. It picks the first Data Node in the list for Block A (Data Node 1), opens a TCP 50010 connection and says, â€œHey, get ready to receive a block, and hereâ€™s a list of (2) Data Nodes, Data Node 5 and Data Node 6. Go make sure theyâ€™re ready to receive this block too.â€ Data Node 1 then opens a TCP connection to Data Node 5 and says, â€œHey, get ready to receive a block, and go make sure Data Node 6 is ready is receive this block too.â€ Data Node 5 will then ask Data Node 6, â€œHey, are you ready to receive a block?â€</p><p>åœ¨Clientå†™å…¥å—åˆ°File.txtä¹‹å‰ï¼Œå®ƒæƒ³çŸ¥é“æ‰€æœ‰çš„Data Nodeså“ªä¸ªæœŸæœ›å‡†å¤‡æ¥æ”¶ä¸€ä¸ªè¿™ä¸ªå—çš„å¤åˆ¶ã€‚å®ƒåœ¨listä¸­ä¸ºå—AæŒ‘é€‰ç¬¬ä¸€ä¸ªData Node(Data Node 1)ï¼Œæ‰“å¼€TCP 50010è¿æ¥ï¼Œç„¶åè¯´ï¼Œâ€œå˜¿ï¼Œå‡†å¤‡å¥½æ¥æ”¶ä¸€ä¸ªå—ï¼Œè¿™æ˜¯ä¸¤ä¸ªData Nodeçš„listï¼ŒData Node 5å’ŒData Node 6ã€‚å»ç¡®ä¿¡å®ƒä»¬ä¹Ÿå‡†å¤‡å¥½æ¥æ”¶è¿™ä¸ªå—ã€‚â€ç„¶åData Node 1æ‰“å¼€ä¸€ä¸ªTCPè¿æ¥åˆ°Data Node 5ç„¶åè¯´ï¼Œâ€œå˜¿ï¼Œå‡†å¤‡å¥½æ¥æ”¶ä¸€ä¸ªå—ï¼Œå»ç¡®ä¿¡Data Node 6ä¹Ÿå‡†å¤‡å¥½æ¥æ”¶è¿™ä¸ªå—ã€‚â€Data Node 5å°†é—®Data Node 6ï¼Œâ€œå˜¿ï¼Œä½ å‡†å¤‡å¥½æ¥æ”¶ä¸€ä¸ªå—äº†å—ï¼Ÿâ€</p><p>The acknowledgments of readiness come back on the same TCP pipeline, until the initial Data Node 1 sends a â€œReadyâ€ message back to the Client. At this point the Client is ready to begin writing block data into the cluster.</p><p>å‡†å¤‡å°±ç»ªçš„ç¡®è®¤é€šçŸ¥åœ¨åŒä¸€TCPç®¡é“è¿”å›ï¼Œç›´åˆ°åˆå§‹çš„Data Node 1å‘é€ä¸€ä¸ªâ€œReadyâ€ä¿¡æ¯ç»™Clientã€‚è¿™æ ·ï¼ŒClientå°±å‡†å¤‡å¥½å¼€å§‹å†™å…¥å—æ•°æ®åˆ°é›†ç¾¤ä¸­ã€‚</p><hr><p><img src="https://foreti.me/imgplace/2019/HDFS-Pipeline-Write.png" alt="HDFS-Pipeline-Write"></p><p>As data for each block is written into the cluster a replication pipeline is created between the (3) Data Nodes (or however many you have configured in dfs.replication). This means that as a Data Node is receiving block data it will at the same time push a copy of that data to the next Node in the pipeline.</p><p>å½“æ¯ä¸ªå—çš„æ•°æ®è¢«å†™å…¥é›†ç¾¤æ—¶, ä¸‰ä¸ªData Nodesä¹‹é—´(æˆ–è€…æ— è®ºå¤šå°‘ä¸ªä½ åœ¨dfs.replicationä¸­è®¾ç½®çš„)ä¼šåˆ›å»ºä¸€ä¸ªå¤åˆ¶ç®¡é“. è¿™æ„å‘³ç€, å½“ä¸€ä¸ªData Nodeæ¥æ”¶æ•°æ®å—æ—¶, å®ƒä¼šåŒæ—¶æ¨é€ä¸€ä¸ªæ•°æ®çš„å¤åˆ¶åˆ°ç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªNode.</p><p>Here too is a primary example of leveraging the Rack Awareness data in the Name Node to improve cluster performance. Notice that the second and third Data Nodes in the pipeline are in the same rack, and therefore the final leg of the pipeline does not need to traverse between racks and instead benefits from in-rack bandwidth and low latency. The next block will not be begin until this block is successfully written to all three nodes.</p><p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå€ŸåŠ©æœºæ¶ç³»ç»Ÿçš„ç®€å•ä¾‹å­, Name Nodeä¸­çš„æ•°æ®æå‡é›†ç¾¤æ€§èƒ½. æ³¨æ„ç®¡é“ä¸­çš„ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªData Nodeä½äºåŒä¸€ä¸ªæœºæ¶ä¸­, å› æ­¤ç®¡é“çš„æœ€åä¸€æ­¥ä¸ç”¨ç©¿è¿‡æœºæ¶, è¿™ä¼šå¸¦æ¥æœºæ¶å†…çš„å¸¦å®½å’Œä½å»¶è¿Ÿæ”¶ç›Š. ä¸‹ä¸€ä¸ªæ•°æ®å—ä¼šåœ¨è¿™ä¸€å—æˆåŠŸå†™å…¥åˆ°ä¸‰ä¸ªNodesåå¼€å§‹.</p><hr><p><img src="https://foreti.me/imgplace/2019/HDFS-Pipeline-Write-Success.png" alt="HDFS-Pipeline-Write-Success"></p><p>When all three Nodes have successfully received the block they will send a â€œBlock Receivedâ€ report to the Name Node. They will also send â€œSuccessâ€ messages back up the pipeline and close down the TCP sessions. The Client receives a success message and tells the Name Node the block was successfully written. The Name Node updates it metadata info with the Node locations of Block A in File.txt. The Client is ready to start the pipeline process again for the next block of data.</p><p>å½“æ‰€æœ‰çš„ä¸‰ä¸ªNodeéƒ½æˆåŠŸæ¥æ”¶äº†è¿™ä¸ªå—, å®ƒä»¬ä¼šå‘é€ä¸€ä¸ªâ€Block Receivedâ€æŠ¥å‘Šç»™Name Node. å®ƒä»¬ä¹Ÿä¼šç»™ç®¡é“è¿”å›ä¸€ä¸ªâ€Successâ€æ¶ˆæ¯å¹¶å…³é—­TCPåè®®. Clientæ¥æ”¶äº†ä¸€ä¸ªSuccessæ¶ˆæ¯, é€šçŸ¥Name Nodeå—å·²ç»æˆåŠŸå†™å…¥. Name Nodeæ›´æ–°File.txtä¸­å—Açš„Nodeä½ç½®çš„å…ƒæ•°æ®ä¿¡æ¯. Clientå‡†å¤‡å¥½å¼€å§‹ä¸‹ä¸€ä¸ªæ•°æ®å—çš„ç®¡é“å¤„ç†.</p><hr><p><img src="https://foreti.me/imgplace/2019/Multi-block-Replication-Pipeline.png" alt="Multi-block-Replication-Pipeline"></p><p>As the subsequent blocks of File.txt are written, the initial node in the pipeline will vary for each block, spreading around the hot spots of in-rack and cross-rack traffic for replication.</p><p>å½“File.txtä¸­éšåçš„å—éƒ½è¢«å†™å…¥, ç®¡é“ä¸­åˆå§‹çš„nodeä¼šä¸ºæ¯ä¸€ä¸ªå—åšç›¸åº”çš„å˜åŒ–, åœ¨æœºæ¶å†…çš„çƒ­ç‚¹é—´ä¼ æ’­, åœ¨æœºæ¶é—´å¤åˆ¶. </p><p>Hadoop uses a lot of network bandwidth and storage. We are typically dealing with very big files, Terabytes in size. And each file will be replicated onto the network and disk (3) times. If you have a 1TB file it will consume 3TB of network traffic to successfully load the file, and 3TB disk space to hold the file.</p><p>Hadoopä½¿ç”¨å¤§é‡çš„ç½‘ç»œå¸¦å®½å’Œå­˜å‚¨ç©ºé—´. ç‰¹åˆ«æ˜¯å½“æˆ‘ä»¬å¤„ç†éå¸¸å¤§çš„æ–‡ä»¶æ—¶, TBé‡çº§çš„. æ¯ä¸ªæ–‡ä»¶å°†3å€åœ°å¤åˆ¶åˆ°ç½‘ç»œå’Œç£ç›˜ä¸Š. å¦‚æœä½ æœ‰ä¸€ä¸ª1TBçš„æ–‡ä»¶, å®ƒå°†æ¶ˆè€—3TBçš„ç½‘ç»œæ¥æˆåŠŸåœ°åŠ è½½æ–‡ä»¶, ä»¥åŠ3TBçš„ç£ç›˜ç©ºé—´æ¥ä¿å­˜è¿™ä¸ªæ–‡ä»¶.</p><hr><p><img src="https://foreti.me/imgplace/2019/Client-Writes-Span-Cluster.png" alt="Client-Writes-Span-Cluster"></p><p>After the replication pipeline of each block is complete the file is successfully written to the cluster. As intended the file is spread in blocks across the cluster of machines, each machine having a relatively small part of the data. The more blocks that make up a file, the more machines the data can potentially spread. The more CPU cores and disk drives that have a piece of my data mean more parallel processing power and faster results. This is the motivation behind building large, wide clusters. To process more data, faster. When the machine count goes up and the cluster goes <strong>wide</strong>, our network needs to scale appropriately.</p><p>åœ¨æ¯ä¸ªå—çš„å¤åˆ¶ç®¡é“éƒ½å®Œæˆå, æ–‡ä»¶å°±æˆåŠŸåœ°å†™å…¥é›†ç¾¤äº†. ä¸ºäº†æ–‡ä»¶åœ¨é›†ç¾¤æœºå™¨çš„å—ä¹‹é—´ä¼ æ’­, æ¯ä¸ªæœºå™¨æœ‰ç›¸å¯¹å°çš„ä¸€éƒ¨åˆ†æ•°æ®. æ–‡ä»¶åˆ†å‰²çš„å—è¶Šå¤š, æ•°æ®å¯èƒ½ä¼ æ’­çš„æœºå™¨å°±è¶Šå¤š. ä¸€å—æ•°æ®æœ‰æ›´å¤šçš„CPUæ ¸å¿ƒå’Œç£ç›˜é©±åŠ¨æ„å‘³ç€æ›´å¥½çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›å’Œæ›´å¿«çš„è·å¾—ç»“æœ. è¿™æ˜¯å»ºç«‹æ›´å¤§æ›´å®½çš„é›†ç¾¤çš„èƒŒåçš„åŠ¨æœº. ä¸ºäº†æ›´å¿«å¤„ç†æ›´å¤šçš„æ•°æ®. å½“æœºå™¨æ•°å¢é•¿, é›†ç¾¤å˜å®½, æˆ‘ä»¬çš„ç½‘ç»œéœ€è¦åˆé€‚çš„è§„æ¨¡.</p><p>Another approach to scaling the cluster is to go <strong>deep</strong>. This is where you scale up the machines with more disk drives and more CPU cores. Instead of increasing the number of machines you begin to look at increasing the density of each machine. In scaling deep, you put yourself on a trajectory where more network I/O requirements may be demanded of fewer machines. In this model, <a href="http://www.bradhedlund.com/2012/03/26/considering-10ge-hadoop-clusters-and-the-network/" target="_blank" rel="noopener">how your Hadoop cluster makes the transition to 10GE nodes</a> becomes an important consideration.</p><p>çºµå‘å‘å±•æ˜¯è§„æ¨¡åŒ–é›†ç¾¤çš„å¦ä¸€ç§æ–¹æ³•. è¿™å³æ˜¯ä½ ç”¨æ›´å¤šçš„ç£ç›˜é©±åŠ¨å’Œæ›´å¤šçš„CPUæ ¸æ•°çºµå‘æ‰©å±•æœºå™¨. ç›¸å¯¹å¢åŠ æœºå™¨æ•°é‡, å–è€Œä»£ä¹‹çš„æ˜¯å¢åŠ æ¯ä¸ªæœºå™¨çš„å¯†åº¦. åœ¨çºµå‘åŒ–æ—¶, ä½ å°†è¶‹å‘äºæ›´å¤šçš„ç½‘ç»œI/Oéœ€æ±‚ä½¿ç”¨æ›´å°‘çš„æœºå™¨. åœ¨è¿™ç§æ¨¡å¼ä¸‹, ä½ çš„Hasoopé›†ç¾¤æ€æ ·å˜è¿åˆ°10GE nodesæˆä¸ºä¸€ä¸ªé‡ç‚¹.</p><hr><p><img src="https://foreti.me/imgplace/2019/Name-Node.png" alt="Name-Node"></p><p>The Name Node holds all the file system metadata for the cluster and oversees the health of Data Nodes and coordinates access to data. The Name Node is the central controller of HDFS. It does not hold any cluster data itself. The Name Node only knows what blocks make up a file and where those blocks are located in the cluster. The Name Node points Clients to the Data Nodes they need to talk to and keeps track of the clusterâ€™s storage capacity, the health of each Data Node, and making sure each block of data is meeting the minimum defined replica policy.</p><p>Name Nodeæ§åˆ¶é›†ç¾¤çš„æ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿå…ƒæ•°æ®, ç›‘ç£Data Nodesçš„å¥åº·å’Œåè°ƒæ•°æ®å…¥å£. Name Nodeæ—¶HDFSçš„æ§åˆ¶ä¸­å¿ƒ. å®ƒè‡ªå·±ä¸æ§åˆ¶ä»»ä½•é›†ç¾¤æ•°æ®. Name NodeåªçŸ¥é“æ–‡ä»¶ç”±ä»€ä¹ˆå—ç»„æˆ, å’Œé‚£äº›å—åœ¨é›†ç¾¤ä¸­çš„ä½ç½®. Name Nodeä»ClientæŒ‡å‘Data Nodes, å®ƒä»¬éœ€è¦äº¤æµæ¥ä¿æŒé›†ç¾¤å­˜å‚¨èƒ½åŠ›å’Œæ¯ä¸ªData Nodeå¥åº·çš„è½¨è¿¹, å¹¶ä¸”ç¡®è®¤æ¯ä¸ªæ•°æ®çš„å—ä¿è¯æœ€ä½é™åº¦çš„å¤åˆ¶.</p><p>Data Nodes send heartbeats to the Name Node every 3 seconds via a TCP handshake, using the same port number defined for the Name Node daemon, usually TCP 9000. Every tenth heartbeat is a Block Report, where the Data Node tells the Name Node about all the blocks it has. The block reports allow the Name Node build its metadata and insure (3) copies of the block exist on different nodes, in different racks.</p><p>Data Nodeé€šè¿‡TCPæ¡æ‰‹æ¯3ç§’å‘é€å¿ƒè·³ç»™Name Node, ä¸ºName Nodeä½¿ç”¨åŒä¸€ä¸ªç¡®å®šçš„ç«¯å£å·, é€šå¸¸æ˜¯TCP 9000. æ¯ç¬¬10ä¸ªå¿ƒè·³æ˜¯ä¸€ä¸ªå—æŠ¥å‘Š, å…³äºData Nodeå‘Šè¯‰Name Nodeæ‰€æœ‰å®ƒæœ‰çš„å—. å—æŠ¥å‘Šå…è®¸Name Nodeå»ºç«‹å®ƒçš„å…ƒæ•°æ®å’Œç¡®è®¤å—çš„3ä¸ªå¤åˆ¶å­˜åœ¨äºä¸åŒæœºæ¶çš„ä¸åŒçš„nodeä¸Š.</p><p>The Name Node is a critical component of the Hadoop Distributed File System (HDFS). Without it, Clients would not be able to write or read files from HDFS, and it would be impossible to schedule and execute Map Reduce jobs. Because of this, itâ€™s a good idea to equip the Name Node with a highly redundant enterprise class server configuration; dual power supplies, hot swappable fans, redundant NIC connections, etc.</p><p>Name Nodeæ˜¯Hadoopåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªå…³é”®çš„ç»„ä»¶. æ²¡æœ‰å®ƒ, Clientså°†ä¸èƒ½ä»HDFSå†™å’Œè¯»æ–‡ä»¶, è€Œä¸”ä¹Ÿä¸èƒ½è§„åˆ’å’Œæ‰§è¡ŒMap Reduceå·¥ä½œ. å½’åŠŸäºå®ƒ, ç”¨é«˜å†—ä½™ä¼ä¸šç±»æœåŠ¡å™¨é…ç½®å®‰è£…Name Nodeæ˜¯ä¸€ä¸ªå¥½ä¸»æ„. åŒé‡æ”¯æŒ, çƒ­äº¤æ¢, å†—ä½™NICè¿æ¥, ç­‰.</p><hr><p><img src="https://foreti.me/imgplace/2019/Re-replicating-Missing-Replicas2.png" alt="Re-replicating-Missing-Replicas2"></p><p>If the Name Node stops receiving heartbeats from a Data Node it presumes it to be dead and any data it had to be gone as well. Based on the block reports it had been receiving from the dead node, the Name Node knows which copies of blocks died along with the node and can make the decision to re-replicate those blocks to other Data Nodes. It will also consult the Rack Awareness data in order to maintain the <strong>two copies in one rack, one copy in another rack</strong> replica rule when deciding which Data Node should receive a new copy of the blocks.</p><p>Consider the scenario where an entire rack of servers falls off the network, perhaps because of a rack switch failure, or power failure. The Name Node would begin instructing the remaining nodes in the cluster to re-replicate all of the data blocks lost in that rack. If each server in that rack had a modest 12TB of data, this could be hundreds of terabytes of data that needs to begin traversing the network.</p><hr><p><img src="https://foreti.me/imgplace/2019/Secondary-Name-Node.png" alt="Secondary-Name-Node"></p><p>Hadoop has server role called the Secondary Name Node. A common misconception is that this role provides a high availability backup for the Name Node. This is not the case.</p><p>The Secondary Name Node occasionally connects to the Name Node (by default, ever hour) and grabs a copy of the Name Nodeâ€™s in-memory metadata and files used to store metadata (both of which may be out of sync). The Secondary Name Node combines this information in a fresh set of files and delivers them back to the Name Node, while keeping a copy for itself.</p><p>Should the Name Node die, the files retained by the Secondary Name Node can be used to recover the Name Node. In a busy cluster, the administrator may configure the Secondary Name Node to provide this housekeeping service much more frequently than the default setting of one hour. Maybe every minute.</p><hr><p><img src="https://foreti.me/imgplace/2019/Client-Read-from-HDFS.png" alt="Client-Read-from-HDFS"></p><p>When a Client wants to retrieve a file from HDFS, perhaps the output of a job, it again consults the Name Node and asks for the block locations of the file. The Name Node returns a list of each Data Node holding a block, for each block. The Client picks a Data Node from each block list and reads one block at a time with TCP on port 50010, the default port number for the Data Node daemon. It does not progress to the next block until the previous block completes.</p><hr><p><img src="https://foreti.me/imgplace/2019/Data-Node-Read-from-HDFS.png" alt="Data-Node-Read-from-HDFS"></p><p>There are some cases in which a Data Node daemon itself will need to read a block of data from HDFS. One such case is where the Data Node has been asked to process data that it does not have locally, and therefore it must retrieve the data from another Data Node over the network before it can begin processing.</p><p>This is another key example of the Name Nodeâ€™s Rack Awareness knowledge providing optimal network behavior. When the Data Node asks the Name Node for location of block data, the Name Node will check if another Data Node in the same rack has the data. If so, the Name Node provides the in-rack location from which to retrieve the data. The flow does not need to traverse two more switches and congested links find the data in another rack. With the data retrieved quicker in-rack, the data processing can begin sooner, and the job completes that much faster.</p><hr><p><img src="https://foreti.me/imgplace/2019/Map-Task.png" alt="Map-Task"></p><p>Now that File.txt is spread in small blocks across my cluster of machines I have the opportunity to provide extremely fast and efficient parallel processing of that data. The parallel processing framework included with Hadoop is called Map Reduce, named after two important steps in the model; <strong>Map</strong>, and <strong>Reduce</strong>.</p><p>The first step is the Map process. This is where we simultaneously ask our machines to run a computation on their local block of data. In this case we are asking our machines to count the number of occurrences of the word â€œRefundâ€ in the data blocks of File.txt.</p><p>To start this process the Client machine submits the Map Reduce job to the Job Tracker, asking â€œHow many times does Refund occur in File.txtâ€ (paraphrasing Java code). The Job Tracker consults the Name Node to learn which Data Nodes have blocks of File.txt. The Job Tracker then provides the Task Tracker running on those nodes with the Java code required to execute the Map computation on their local data. The Task Tracker starts a Map task and monitors the tasks progress. The Task Tracker provides heartbeats and task status back to the Job Tracker.</p><p>As each Map task completes, each node stores the result of its local computation in temporary local storage. This is called the â€œintermediate dataâ€. The next step will be to send this intermediate data over the network to a Node running a Reduce task for final computation.</p><hr><p><img src="https://foreti.me/imgplace/2019/What-if-Map-Task-data-isnt-local.png" alt="What-if-Map-Task-data-isnt-local"></p><p>While the Job Tracker will always try to pick nodes with local data for a Map task, it may not always be able to do so. One reason for this might be that all of the nodes with local data already have too many other tasks running and cannot accept anymore. In this case, the Job Tracker will consult the Name Node whose Rack Awareness knowledge can suggest other nodes in the same rack. The Job Tracker will assign the task to a node in the same rack, and when that node goes to find the data it needs the Name Node will instruct it to grab the data from another node in its rack, leveraging the presumed single hop and high bandwidth of in-rack switching.</p><hr><p><img src="https://foreti.me/imgplace/2019/Reduce-Task.png" alt="Reduce-Task"></p><p>The second phase of the Map Reduce framework is called, you guess it, <strong>Reduce</strong>. The Map task on the machines have completed and generated their intermediate data. Now we need to gather all of this intermediate data to combine and distill it for further processing such that we have one final result.</p><p>The Job Tracker starts a Reduce task on any one of the nodes in the cluster and instructs the Reduce task to go grab the intermediate data from all of the completed Map tasks. The Map tasks may respond to the Reducer almost simultaneously, resulting in a situation where you have a number of nodes sending TCP data to a single node, all at once. This traffic condition is often referred to as <a href="http://www.bradhedlund.com/2011/05/01/tcp-incast-and-cloud-application-performance/" target="_blank" rel="noopener">TCP Incast</a> or â€œfan-inâ€. For networks handling lots of Incast conditions, itâ€™s important the network switches have well-engineered internal traffic management capabilities, and adequate buffers (not too big, not too small). Throwing gobs of buffers at a switch may end up causing unwanted collateral damage to other traffic. But thatâ€™s a topic for another day.</p><p>The Reducer task has now collected all of the intermediate data from the Map tasks and can begin the final computation phase. In this case, we are simply adding up the sum total occurrences of the word â€œRefundâ€ and writing the result to a file called Results.txt</p><p>The output from the job is a file called Results.txt that is written to HDFS following all of the processes we have covered already; splitting the file up into blocks, pipeline replication of those blocks, etc. When complete, the Client machine can read the Results.txt file from HDFS, and the job is considered complete.</p><p>Our simple word count job did not result in a lot of intermediate data to transfer over the network. Other jobs however may produce a lot of intermediate data â€“ such as sorting a terabyte of data. Where the output of the Map Reduce job is a new set of data equal to the size of data you started with. How much traffic you see on the network in the Map Reduce process is entirely dependent on the type job you are running at that given time.</p><p>If youâ€™re a studious network administrator, you would learn more about Map Reduce and the types of jobs your cluster will be running, and how the type of job affects the traffic flows on your network. If youâ€™re a Hadoop networking rock star, you might even be able to suggest ways to better code the Map Reduce jobs so as to optimize the performance of the network, resulting in faster job completion times.</p><hr><p><img src="https://foreti.me/imgplace/2019/Unbalanced-Hadoop-Cluster.png" alt="Unbalanced-Hadoop-Cluster"></p><p>Hadoop may start to be a real success in your organization, providing a lot of previously untapped business value from all that data sitting around. When business folks find out about this you can bet that youâ€™ll quickly have more money to buy more racks of servers and network for your Hadoop cluster.</p><p>When you add new racks full of servers and network to an existing Hadoop cluster you can end up in a situation where your cluster is unbalanced. In this case, Racks 1 &amp; 2 were my existing racks containing File.txt and running my Map Reduce jobs on that data. When I added two new racks to the cluster, my File.txt data doesnâ€™t auto-magically start spreading over to the new racks. All the data stays where it is.</p><p>The new servers are sitting idle with no data, until I start loading new data into the cluster. Furthermore, if the servers in Racks 1 &amp; 2 are really busy, the Job Tracker may have no other choice but to assign Map tasks on File.txt to the new servers which have no local data. The new servers need to go grab the data over the network. As as result you may see more network traffic and slower job completion times.</p><hr><p><img src="https://foreti.me/imgplace/2019/Hadoop-Cluster-Balancer.png" alt="Hadoop-Cluster-Balancer"></p><p>To fix the unbalanced cluster situation, Hadoop includes a nifty utility called, you guessed it, <strong>balancer</strong>.</p><p>Balancer looks at the difference in available storage between nodes and attempts to provide balance to a certain threshold. New nodes with lots of free disk space will be detected and balancer can begin copying block data off nodes with less available space to the new nodes. Balancer isnâ€™t running until someone types the command at a terminal, and it stops when the terminal is canceled or closed.</p><p>The amount of network traffic balancer can use is very low, with a default setting of 1MB/s. This setting can be changed with the <strong>dfs.balance.bandwidthPerSec</strong> parameter in the file <strong>hdfs-site.xml</strong></p><p>The Balancer is good housekeeping for your cluster. It should definitely be used any time new machines are added, and perhaps even run once a week for good measure. Given the balancers low default bandwidth setting it can take a long time to finish its work, perhaps days or weeks. Wouldnâ€™t it be cool if cluster balancing was a core part of Hadoop, and not just a utility? I think so.</p><hr><p>This material is based on studies, <a href="http://www.cloudera.com/hadoop-training/" target="_blank" rel="noopener">training from Cloudera</a>, and observations from my own virtual Hadoop lab of six nodes. Everything discussed here is based on the <a href="https://ccp.cloudera.com/display/SUPPORT/Downloads" target="_blank" rel="noopener">latest stable release of Clouderaâ€™s CDH3 distribution of Hadoop</a>. There are new and interesting technologies coming to Hadoop such as <a href="http://hadoop.apache.org/common/docs/r0.21.0/hod_scheduler.html#Introduction" target="_blank" rel="noopener">Hadoop on Demand (HOD)</a> and <a href="http://www.hortonworks.com/an-introduction-to-hdfs-federation/" target="_blank" rel="noopener">HDFS Federations</a>, not discussed here, but worth investigating on your own if so inclined.</p><p><strong>Download:</strong> <a href="http://pic.yanss.top/Understanding_Hadoop_Clusters_and_the_Network-bradhedlund_com.pdf" target="_blank" rel="noopener">Slides - PDF</a> <a href="http://pic.yanss.top/Understanding_Hadoop_Clusters_and_the_Network-slides_and_text_bradhedlund_com.pdf" target="_blank" rel="noopener">Slides and Text - PDF</a></p><p>Cheers, Brad</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯ä¸€ç¯‡åˆå­¦Hadoopæ—¶åº”è¯¥æµè§ˆçš„åšå®¢ï¼Œå—18å¹´å®ä¹ æ—¶çš„mentoræ¨èï¼Œæˆ‘è¯»äº†Understanding Hadoop Clusters and the Networkä¸€æ–‡ï¼Œå¹¶åœ¨è¿™é‡Œç¿»è¯‘ä¸€éã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="hadoop" scheme="https://foreti.me/blog/tags/hadoop/"/>
    
  </entry>
  
  <entry>
    <title>Codingçš„åŠ¨æ€pageséƒ¨ç½²WordPress</title>
    <link href="https://foreti.me/blog/2018/02/09/codingnet-wordpress/"/>
    <id>https://foreti.me/blog/2018/02/09/codingnet-wordpress/</id>
    <published>2018-02-09T06:28:46.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>ä»€ä¹ˆéƒ½åˆ«è¯´äº†ï¼Œå…ˆä¸Šå›¾ã€‚</p><a id="more"></a><hr><p><img src="https://foreti.me/imgplace/2019/coding-pages.png" alt="coding-pages"></p><p>éƒ¨ç½²å¥½çš„wordpressæ•ˆæœï¼ˆæˆ‘ä¸»è¦æ˜¯åšä¸€ä¸ªç›¸å†Œé›†ï¼‰<br><img src="https://foreti.me/imgplace/2019/wp.yanss.top.png" alt="wp"></p><p>æ€»ä½“æ•ˆæœè¿˜ä¸é”™å§ï¼Œæ¯•ç«ŸåŠ¨æ€åšå®¢è¿˜æ˜¯å¯æ“ä½œæ€§å¼ºå¤šäº†ã€‚</p><p>å¥½äº†ï¼Œè¿›å…¥æ­£é¢˜ã€‚</p><p>åšè¿™ä¸ªå…¶å®å°±æ˜¯å‰å‡ å¤©åœ¨codingçš„pagesæœåŠ¡èœå•ä¸­å‘ç°è¿˜æœ‰é™æ€å’ŒåŠ¨æ€ä¸¤ä¸ªé€‰é¡¹å¡ï¼Œå½“æ—¶å°±æ‡µé€¼äº†ï¼ŒpagesæœåŠ¡è¿˜èƒ½åŠ¨æ€ï¼Ÿ</p><p>ç„¶åçœ‹äº†è¯´æ˜ï¼ŒåŠ¨æ€æ˜¯å¯ä»¥ï¼Œä½†æ˜¯é™åˆ¶è¿˜æ˜¯è›®å¤šçš„ã€‚</p><blockquote><p>åŠ¨æ€ Pages æ˜¯ä¸€ä¸ªåŠ¨æ€ç½‘é¡µæ‰˜ç®¡å’Œæ¼”ç¤ºæœåŠ¡ï¼Œæ”¯æŒä½¿ç”¨ PHP è¯­è¨€å’Œ MySQL æ•°æ®åº“ï¼Œå¯ç”¨äºéƒ¨ç½²å¼€æºåšå®¢ã€CMS ç­‰åŠ¨æ€åº”ç”¨ã€‚</p></blockquote><p>åªèƒ½ä½¿ç”¨phpè¯­è¨€ï¼Œç„¶åæ•°æ®åº“å…¶å®æ˜¯codingè‡ªå·±çš„æœåŠ¡å™¨æä¾›çš„ï¼Œç„¶åæ•´ä¸ªæœåŠ¡å™¨åå°ä¹Ÿæ˜¯codingæä¾›ï¼Œæ‰€ä»¥è‡ªå·±æ˜¯ä¸å¯èƒ½åšä»€ä¹ˆä¿®æ”¹çš„ã€‚å½“ç„¶åšä¸€ä¸ªwordpressåšå®¢è¿˜æ˜¯ç»°ç»°æœ‰ä½™ï¼Œä¸‹é¢å°±æ˜¯æˆ‘çš„wordpressä»“åº“æ–‡ä»¶ã€‚</p><p><img src="https://foreti.me/imgplace/2019/coding-pages1.png" alt="coding-pages1"></p><p>æ­å»ºè¿‡ç¨‹ä¹Ÿéå¸¸ç®€å•ï¼Œå°±æ˜¯codingæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œç„¶åå»<a href="https://cn.wordpress.org/" target="_blank" rel="noopener">wordpresså®˜ç½‘</a>ä¸Šä¸‹è½½æœ€æ–°çš„wordpresså‹ç¼©åŒ…ï¼Œè§£å‹ä¹‹åpushåˆ°codingä»“åº“ä¸­ã€‚</p><p>ç„¶ååœ¨PagesæœåŠ¡ä¸­å¼€å¯åŠ¨æ€Pagesï¼Œé€‰æ‹©éƒ¨ç½²æ¥æºä¸ºmasteråˆ†æ”¯ï¼Œç¨ç­‰ä¸€ä¸‹å°±è‡ªåŠ¨éƒ¨ç½²å®Œæˆäº†ã€‚</p><p>æ‰“å¼€åŠ¨æ€pagesè¿è¡Œçš„urlï¼Œç„¶åå°±æ˜¯5åˆ†é’Ÿæµç¨‹äº†ã€‚</p><p>æ‰€æœ‰çš„è¿æ¥ä¿¡æ¯(å…±5ä¸ª)éƒ½åœ¨è¿™é‡Œï¼Œåªæœ‰å‰4ä¸ªç”¨å¾—ä¸Š</p><p><img src="https://foreti.me/imgplace/2019/coding-pages2.png" alt="coding-pages2"></p><p><strong>å­˜åœ¨çš„é—®é¢˜ï¼š</strong></p><ul><li>ä½¿ç”¨è¿‡ç¨‹ä¸­åœ¨wordpressç®¡ç†åå°ä¸­ä¸‹è½½å¥½äº†ä¸»é¢˜å’Œæ’ä»¶ï¼Œä½†æ˜¯åœ¨codingä»“åº“ä¸­å´æ²¡æœ‰å¯¹åº”çš„æ–‡ä»¶å¢åŠ ã€‚æ‰€ä»¥åœ¨å¶å°”å‡ºç°æ•°æ®åº“è¿æ¥é”™è¯¯æˆ–å…¶ä»–é—®é¢˜éœ€è¦é‡æ–°éƒ¨ç½²æ—¶ï¼ŒåŸæœ¬è®¾ç½®å¥½çš„æ’ä»¶å’Œä¸»é¢˜å°±æ²¡æœ‰äº†</li><li>ç”±äºåŠ¨æ€pagesä½¿ç”¨çš„æ˜¯codingè‡ªå·±çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä¸ªäººæ²¡æ³•ä¿®æ”¹æœåŠ¡å™¨çš„ä¸€äº›è®¾ç½®ï¼Œæ¯”å¦‚ä¸Šä¼ æ–‡ä»¶çš„å¤§å°é™åˆ¶ï¼Œå›¾ç‰‡çš„åˆ†è¾¨ç‡ç­‰ï¼Œæ‰€ä»¥ä¸Šä¼ çš„å¤§å›¾éœ€è¦è‡ªå·±å‹ç¼©ä¸€ä¸‹å†ä¼ ã€‚</li></ul><p><strong>æœ€åå»ºè®®ï¼š</strong></p><ul><li>æŠŠè¿æ¥ä¿¡æ¯ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶<code>wp-config.php</code>ï¼Œæ”¾åˆ°æ ¹ç›®å½•ä¸‹ã€‚</li><li>æ‰€æœ‰çš„ä¸»é¢˜å’Œæ’ä»¶å»æºç½‘é¡µä¸‹è½½æ–‡ä»¶ï¼Œä¿å­˜åˆ°<code>wp-content</code>ä¸‹çš„å¯¹åº”æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åæäº¤åˆ°coding</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»€ä¹ˆéƒ½åˆ«è¯´äº†ï¼Œå…ˆä¸Šå›¾ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="WordPress" scheme="https://foreti.me/blog/tags/WordPress/"/>
    
      <category term="Coding-pages" scheme="https://foreti.me/blog/tags/Coding-pages/"/>
    
  </entry>
  
  <entry>
    <title>GitBookæºæ–‡ä»¶å‘å¸ƒåˆ°gh-pages</title>
    <link href="https://foreti.me/blog/2018/02/04/gitbook-to-gh-pages/"/>
    <id>https://foreti.me/blog/2018/02/04/gitbook-to-gh-pages/</id>
    <published>2018-02-04T12:56:52.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>GitBookçš„æ¸²æŸ“çœŸçš„å¾ˆæ…¢ï¼Œæˆ‘æ‰¾åˆ°äº†å®ƒç¼–è¯‘ç”Ÿæˆçš„htmlæ–‡ä»¶ï¼Œå¹¶å°†å®ƒä¸Šä¼ åˆ°äº†gh-pageä¸Šã€‚</p><a id="more"></a><hr><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>è¿™æ®µæ—¶é—´åœ¨è¯»ä¸€æœ¬è‹±æ–‡ä¹¦ï¼Œè¯»çš„å¾ˆæ…¢ï¼Œå¯ä»¥è¯´æ˜¯é€è¯ç¿»è¯‘äº†ã€‚</p><p>ç„¶è€Œè¯»çš„æ—¶å€™æ€»æ˜¯ä¼šå¿˜äº†å‰é¢çš„ç”Ÿè¯æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä¹Ÿæ²¡æœ‰çº¸è´¨æ‰“å°ç‰ˆï¼Œæ‰€ä»¥æƒ³åˆ°è¾¹è¯»è¾¹åšç¬”è®°ï¼Œä¸»è¦å°±æ˜¯ç”Ÿè¯æ³¨é‡Šä¸€ä¸‹ã€‚</p><p>äºæ˜¯æƒ³åˆ°äº†GitBookã€‚</p><p>é¦–å…ˆæˆ‘åœ¨GitBookä¸Šåˆ›å»ºä¸€æœ¬ä¹¦ï¼Œä¹¦åæ˜¯<code>Hadoop-The Definitive Guide 4th Edition</code>ã€‚</p><p>ç„¶åæ‰“å¼€å°±å¯ä»¥ç›´æ¥ç¼–è¾‘ã€‚</p><p><img src="https://foreti.me/imgplace/2019/hadoopbook1.png" alt="hadoopbook1"></p><p>ä½†æ˜¯gitbookçš„ç¼–è¾‘å™¨å¾ˆéš¾ç”¨å•Šï¼Œå¥½åƒåŸæ¥æ˜¯ç›´æ¥å†™markdownçš„ï¼Œç°åœ¨æ”¹äº†ç¼–è¾‘æ¨¡å¼ï¼Ÿç‰¹åˆ«æ˜¯æ’å…¥è¿æ¥çš„æ—¶å€™ï¼Œæ²¡æ³•åƒ<code>[]()</code>è¿™ä¹ˆæ–¹ä¾¿å•Šã€‚</p><p>è€Œä¸”é‡è¦çš„æ˜¯gitbookæœåŠ¡å™¨åŠ è½½é€Ÿåº¦ä¸ç¨³å®šï¼Œæ…¢çš„æ—¶å€™éƒ½æ‰“ä¸å¼€äº†ï¼Œæ‰€ä»¥æƒ³ç€ç›´æ¥æŠŠgitbookçš„Markdownæ–‡ä»¶å†…å®¹ç¼–è¯‘æˆé™æ€é¡µé¢ï¼Œå‘å¸ƒåˆ°githubä»“åº“ä¸­ï¼Œåˆ©ç”¨gh-pagesç›´æ¥è®¿é—®ï¼Œé€Ÿåº¦å¿«å¤šäº†ã€‚</p><h1 id="è¿æ¥githubä»“åº“"><a href="#è¿æ¥githubä»“åº“" class="headerlink" title="è¿æ¥githubä»“åº“"></a>è¿æ¥githubä»“åº“</h1><p>ç°åœ¨è¯´è¯´æ€ä¹ˆéƒ¨ç½²åˆ°gh-pagesã€‚</p><p>é¦–å…ˆåœ¨githubåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œ<code>Hadoop-The-Definitive-Guide-4th</code>ï¼Œå¹¶åˆå§‹åŒ–ã€‚</p><p>ç„¶ååˆ°gitbookçš„ä¹¦ç±<code>Hadoop-The Definitive Guide 4th Edition</code>çš„è®¾ç½®é‡Œæ‰¾åˆ°<code>Github</code>ï¼Œæ·»åŠ å¯¹åº”<code>Hadoop-The-Definitive-Guide-4th</code>ä»“åº“å¹¶åŒæ­¥å†…å®¹</p><p><img src="https://foreti.me/imgplace/2019/hadoopbook2.png" alt="hadoopbook2"></p><p>ä¹‹åå¯ä»¥åœ¨githubä»“åº“ä¸­çœ‹åˆ°ä¸€äº›æ–‡ä»¶</p><p><img src="https://foreti.me/imgplace/2019/hadoopbook3.png" alt="hadoopbook3"></p><p>è¿™äº›éƒ½æ˜¯gitbookä¹¦çš„markdownæ–‡ä»¶ã€‚è¿™ä¸€æ­¥å®Œæˆåï¼Œå°±å¯ä»¥åœ¨gitbookæˆ–githubä»»æ„ä¸€ç«¯ç¼–è¯‘æ–‡æ¡£ï¼Œæäº¤åéƒ½ä¼šåœ¨ä¸¤ç«¯ç”Ÿæˆçš„ç›¸åº”ä¹¦ç±ã€‚è¿™ç›¸å½“äºä¹¦ç±åœ¨ä¸¤ç«¯éƒ½æœ‰å¤‡ä»½äº†ã€‚</p><p>å¦‚æœä¸ç”¨gh-pagesç”Ÿæˆé¡µé¢çš„è¯ï¼Œä¸Šè¿°çš„æ“ä½œå°±å·²ç»å¤Ÿäº†ã€‚</p><h1 id="æäº¤gh-pagesåˆ†æ”¯"><a href="#æäº¤gh-pagesåˆ†æ”¯" class="headerlink" title="æäº¤gh-pagesåˆ†æ”¯"></a>æäº¤gh-pagesåˆ†æ”¯</h1><p>æ¥ä¸‹æ¥ä»‹ç»å¦‚ä½•æäº¤é™æ€é¡µé¢åˆ°gh-pagesã€‚<br><br></p><p>ç”±äºè¦ç”Ÿæˆé™æ€é¡µé¢çš„æ–‡ä»¶ï¼Œéœ€è¦åœ¨æœ¬åœ°å®‰è£…gitbookçš„npmåŒ…(æ¨èä½¿ç”¨cnpmå®‰è£…)ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gitbook-cli -g</span><br></pre></td></tr></table></figure></p><p>ç„¶åæŠŠgithubä»“åº“cloneåˆ°æœ¬åœ°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:fakeYanss/Hadoop-The-Definitive-Guide-4th.git</span><br></pre></td></tr></table></figure></p><p>è¿›å…¥åˆ°<code>Hadoop-The-Definitive-Guide-4th</code>æ–‡ä»¶å¤¹ï¼Œç”Ÿæˆé™æ€é¡µé¢æ–‡ä»¶ï¼Œè¾“å‡ºç›®å½•åœ¨<code>_book</code>ä¸­ã€‚å¦‚æœç›®å½•æ–‡ä»¶<code>SUMMARY.md</code>æœ‰å˜åŒ–ï¼Œéœ€è¦å…ˆ<code>gitbook init</code>ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook build</span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ª<code>gh-pages</code>åˆ†æ”¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout --orphan gh-pages</span><br></pre></td></tr></table></figure></p><p>ç„¶åæ¸…ç©ºä¸€ä¸‹åˆ†æ”¯ä¸‹çš„æ–‡ä»¶ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf *</span><br></pre></td></tr></table></figure></p><p>ç„¶åå°†<code>master</code>åˆ†æ”¯ä¸‹çš„<code>_book</code>é™æ€é¡µé¢æ–‡ä»¶å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°<code>gh-pages</code>åˆ†æ”¯ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout master -- _book</span><br></pre></td></tr></table></figure></p><p>å°†<code>_book</code>ä¸­çš„å­æ–‡ä»¶å…¨éƒ¨ç§»åˆ°å¤–å±‚ï¼Œå¹¶åˆ é™¤<code>_book</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv _book/* ./</span><br><span class="line">rm -rf _book</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶å€™<code>gh-pages</code>åˆ†æ”¯ä¸‹å°±æ˜¯å…¨éƒ¨çš„é™æ€é¡µé¢æ–‡ä»¶äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æäº¤åˆ°è¿œç¨‹<code>gh-pages</code>åˆ†æ”¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &apos;publish gh-pages&apos;</span><br><span class="line">git push origin gh-pages</span><br></pre></td></tr></table></figure></p><p>æäº¤å®Œæˆååˆ°githubä»“åº“çš„è®¾ç½®ä¸­çœ‹ä¸€ä¸‹ï¼Œgh-pagesæœåŠ¡æ˜¯å¦è‡ªåŠ¨å¼€å¯ï¼Œå¦‚æœæ²¡æœ‰çš„è¯åœ¨<code>Source</code>ä¸­é€‰æ‹©<code>gh-pages branch</code>ï¼Œä¿å­˜åˆ·æ–°ï¼Œç­‰å¾…å‡ åˆ†é’Ÿå°±å¥½äº†ã€‚</p><p><img src="https://foreti.me/imgplace/2019/hadoopbook5.png" alt="hadoopbook5"></p><p>å…¨éƒ¨æ“ä½œå·²ç»å®Œæˆï¼Œæ¥ä¸‹æ¥æ¯æ¬¡åœ¨æœ¬åœ°æ›´æ–°ä¹¦ç±å†…å®¹åï¼Œå…ˆç”Ÿæˆé™æ€é¡µé¢ï¼Œç„¶åæäº¤masteråˆ†æ”¯ï¼Œå†æäº¤gh-pagesåˆ†æ”¯å°±å¯ä»¥äº†ã€‚</p><p>ä¹‹åæ¯æ¬¡æŸ¥çœ‹çº¿ä¸Šgitbookä¹¦ç±ï¼Œå¯ä»¥ç›´æ¥è¾“å…¥url <code>https://name.github.io/ä¹¦ç±ä»“åº“å</code>æŸ¥çœ‹ã€‚</p><hr><p>æœ€åï¼Œä¸ºäº†æ¯æ¬¡çš„æäº¤æ“ä½œä¸ç”¨æ‰‹æ‰“ä¸€éï¼Œæˆ‘å†™äº†ä¸€ä¸ªbashè„šæœ¬<a href="https://github.com/fakeYanss/Hadoop-The-Definitive-Guide-4th/blob/master/publish.sh" target="_blank" rel="noopener">publish.sh</a>ï¼Œ<a href="http://pic.yanss.top/publish.sh" target="_blank" rel="noopener">ç‚¹å‡»ä¸‹è½½</a>ï¼Œè‡ªè¡Œæ›´æ”¹ç¬¬ä¸€è¡Œçš„æ–‡ä»¶å¤¹åœ°å€å³å¯ã€‚windowsç³»ç»Ÿå®‰è£…è¿‡gitç¯å¢ƒçš„å¯ä»¥ç›´æ¥åŒå‡»è¿è¡Œï¼Œè¦æŸ¥çœ‹æ—¥å¿—çš„è¯å¯ä»¥åœ¨git bashä¸­è¾“å…¥<code>./publish.sh</code>è¿è¡Œã€‚</p><p><strong>æ³¨æ„ï¼šä½¿ç”¨æ—¶ä¸èƒ½å°†è„šæœ¬æ”¾åœ¨ä»“åº“é‡Œï¼Œä¸ç„¶åœ¨åˆ‡æ¢åˆ†æ”¯æ—¶ä¼šå‡ºé”™ï¼Œ</strong>æœ€å¥½ä¸ä»“åº“æ–‡ä»¶å¤¹åŒçº§ã€‚</p><p><img src="https://foreti.me/imgplace/2019/hadoopbook4.png" alt="hadoopbook4"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;GitBookçš„æ¸²æŸ“çœŸçš„å¾ˆæ…¢ï¼Œæˆ‘æ‰¾åˆ°äº†å®ƒç¼–è¯‘ç”Ÿæˆçš„htmlæ–‡ä»¶ï¼Œå¹¶å°†å®ƒä¸Šä¼ åˆ°äº†gh-pageä¸Šã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="gitbook" scheme="https://foreti.me/blog/tags/gitbook/"/>
    
      <category term="gh-pages" scheme="https://foreti.me/blog/tags/gh-pages/"/>
    
  </entry>
  
  <entry>
    <title>Javaä¸ç”¨forå¾ªç¯æ‰“å°æ•°ç»„</title>
    <link href="https://foreti.me/blog/2018/01/27/java-print-array/"/>
    <id>https://foreti.me/blog/2018/01/27/java-print-array/</id>
    <published>2018-01-27T09:31:47.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>Javaä¸­æ‰“å°æ•°ç»„æ—¶ä¸æƒ³ç”¨foréå†æ•°ç»„ï¼Œå¯ä»¥è¯•è¯•ä¸‹é¢å‡ ç§æ–¹æ³•</p><a id="more"></a><hr><h1 id="ArrayListç›´æ¥æ‰“å°"><a href="#ArrayListç›´æ¥æ‰“å°" class="headerlink" title="ArrayListç›´æ¥æ‰“å°"></a>ArrayListç›´æ¥æ‰“å°</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">2</span>);</span><br><span class="line">list.add(<span class="number">3</span>);</span><br><span class="line">list.add(<span class="number">4</span>);</span><br><span class="line">System.out.println(list);</span><br></pre></td></tr></table></figure><p>è¾“å‡º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 3, 4]</span><br></pre></td></tr></table></figure></p><h1 id="Arraysç±»æ‰“å°æ•°ç»„"><a href="#Arraysç±»æ‰“å°æ•°ç»„" class="headerlink" title="Arraysç±»æ‰“å°æ•°ç»„"></a>Arraysç±»æ‰“å°æ•°ç»„</h1><p>java.util.Arraysçš„toString()æ–¹æ³•<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(Arrays.toString(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;));</span><br></pre></td></tr></table></figure></p><p>è¾“å‡º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 3, 4]</span><br></pre></td></tr></table></figure></p><h1 id="Arraysç±»æ‰“å°äºŒç»´æ•°ç»„"><a href="#Arraysç±»æ‰“å°äºŒç»´æ•°ç»„" class="headerlink" title="Arraysç±»æ‰“å°äºŒç»´æ•°ç»„"></a>Arraysç±»æ‰“å°äºŒç»´æ•°ç»„</h1><p>java.util.Arraysçš„deeptoString()æ–¹æ³•<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(Arrays.deepToString(<span class="keyword">new</span> <span class="keyword">int</span>[][] &#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;));</span><br></pre></td></tr></table></figure></p><p>è¾“å‡º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[1, 2], [3, 4]]</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Javaä¸­æ‰“å°æ•°ç»„æ—¶ä¸æƒ³ç”¨foréå†æ•°ç»„ï¼Œå¯ä»¥è¯•è¯•ä¸‹é¢å‡ ç§æ–¹æ³•&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>åˆè¯†æœºå™¨å­¦ä¹ </title>
    <link href="https://foreti.me/blog/2018/01/12/machine-learning-view/"/>
    <id>https://foreti.me/blog/2018/01/12/machine-learning-view/</id>
    <published>2018-01-12T07:01:20.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºæœºå™¨å­¦ä¹ ï¼Œè¿™æ˜¯æˆ‘å­¦çš„ç¬¬ä¸€èŠ‚è¯¾ã€‚</p><a id="more"></a><hr><center><br>    <img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://foreti.me/imgplace/2019/20190502110338.png"><br>    <div style="border-bottom: 1px solid #d9d9d9; display: inline-block; color: #999; padding: 2px;">Machine learning</div><br></center><h2 id="Machine-learning"><a href="#Machine-learning" class="headerlink" title="Machine learning"></a>Machine learning</h2><p><strong>Machine learning definition:</strong></p><ul><li><p>Arthur Samuel (1959) . åœ¨æ²¡æœ‰æ˜ç¡®è®¾ç½®çš„å‰æä¸‹ï¼Œä½¿æœºå™¨å…·æœ‰å­¦ä¹ èƒ½åŠ›çš„ç ”ç©¶é¢†åŸŸã€‚</p></li><li><p>Tom Mitchell (1998) . ä¸€ä¸ªé€‚å½“çš„å­¦ä¹ é—®é¢˜å®šä¹‰å¦‚ä¸‹ï¼šè®¡ç®—æœºç¨‹åºä»ç»éªŒEä¸­å­¦ä¹ ï¼Œè§£å†³æŸä¸€ä»»åŠ¡Tï¼Œè¿›è¡ŒæŸä¸€æ€§èƒ½åº¦é‡Pï¼Œé€šè¿‡Pæµ‹è¯•åœ¨Tä¸Šçš„è¡¨ç°å› ç»éªŒEè€Œæé«˜ã€‚</p><p>å¯¹äºè·³æ£‹æ¸¸æˆï¼ˆSamuelè®¾è®¡çš„ä¸€ä¸ªå°æ¸¸æˆï¼Œé€šè¿‡æ•°ä¸‡æ¬¡è·³æ£‹å¯¹æˆ˜å­¦ä¹ ï¼Œè·å¾—æ¯”Samuelçš„è·³æ£‹æ°´å¹³è¿˜é«˜çš„èƒ½åŠ›ï¼‰ï¼Œç»éªŒEå°±æ˜¯ç¨‹åºä¸è‡ªå·±ä¸‹å‡ ä¸‡æ¬¡è·³æ£‹ï¼Œä»»åŠ¡Tå°±æ˜¯ç©è·³æ£‹ï¼Œæ€§èƒ½åº¦é‡På°±æ˜¯ä¸æ–°å¯¹æ‰‹ç©è·³æ£‹æ—¶èµ¢çš„æ¦‚ç‡ã€‚</p></li></ul><p><strong>Machine learning algorithms:</strong></p><p>ç›®å‰å­¦ä¹ ç®—æ³•ä¸»è¦çš„ä¸¤ç±»æ˜¯ç›‘ç£å­¦ä¹ (supervised learning)å’Œæ— ç›‘ç£å­¦ä¹ (unsupervised learning)ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œç›‘ç£å­¦ä¹ å°±æ˜¯æˆ‘ä»¬æ•™è®¡ç®—æœºåšæŸä»¶äº‹æƒ…ï¼›åœ¨æ— ç›‘ç£å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬è®©è®¡ç®—æœºè‡ªå·±å­¦ä¹ ã€‚</p><p><strong>Others:</strong></p><p>å¼ºåŒ–å­¦ä¹ (Reinforcement learning), æ¨èç³»ç»Ÿ(recommender systems)</p><h2 id="Supervised-Learning"><a href="#Supervised-Learning" class="headerlink" title="Supervised Learning"></a>Supervised Learning</h2><p><strong>ç›‘ç£å­¦ä¹ </strong>ï¼šæˆ‘ä»¬ç»™ç®—æ³•ä¸€ä¸ªæ•°æ®é›†ï¼Œå…¶ä¸­åŒ…å«äº†æ­£ç¡®ç­”æ¡ˆï¼Œç®—æ³•çš„ç›®çš„å°±æ˜¯ç»™å‡ºæ›´å¤šçš„æ­£ç¡®ç­”æ¡ˆã€‚</p><p><strong>å›å½’(Regression)</strong>ï¼šé¢„æµ‹è¿ç»­çš„æ•°å€¼è¾“å‡ºã€‚</p><p><strong>åˆ†ç±»(Classification)</strong>ï¼šé¢„æµ‹ä¸€ä¸ªç¦»æ•£å€¼è¾“å‡ºã€‚</p><p>ç¤ºä¾‹ï¼šæˆ¿å­çš„ä»·æ ¼ä¸æˆ¿å­é¢ç§¯çš„å…³ç³»(å›å½’é—®é¢˜)ï¼›è‚¿ç˜¤æ˜¯æ¶æ€§æˆ–è‰¯æ€§ä¸è‚¿ç˜¤å¤§å°ï¼Œæ‚£è€…å¹´é¾„ï¼Œè‚¿ç˜¤å—åšåº¦ç­‰çš„å…³ç³»(åˆ†ç±»é—®é¢˜)ã€‚</p><p><br></p><p>ä¸‹é¢ä¸€ä¸ªé—®é¢˜ã€‚problem1å°†è¦å–çš„è´§ç‰©æ•°é‡çœ‹æˆä¸€ä¸ªè¿ç»­çš„å€¼ï¼Œå±äºå›å½’é—®é¢˜ï¼›problem2è¾“å‡ºçš„å€¼å¯èƒ½ä¸º0æˆ–1ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸¤ç§ä¸åŒçš„ç»“æœï¼Œå±äºåˆ†ç±»é—®é¢˜ã€‚</p><p><img src="https://foreti.me/imgplace/2019/20190429231017.png" alt="ML1"></p><h2 id="Unsupervised-Learning"><a href="#Unsupervised-Learning" class="headerlink" title="Unsupervised Learning"></a>Unsupervised Learning</h2><p><strong>æ— ç›‘ç£å­¦ä¹ </strong>ï¼šå¯¹äºæ•°æ®é›†ä¸­çš„æ¯ä¸€ä¸ªæ ·æœ¬ï¼Œéƒ½å…·æœ‰ç›¸åŒæ ‡ç­¾æˆ–éƒ½æ²¡æœ‰æ ‡ç­¾ï¼Œæˆ‘ä»¬ä¸çŸ¥é“è¦æ‹¿æ•°æ®åšä»€ä¹ˆï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°æ®ç‚¹ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œåªèƒ½åœ¨æ•°æ®é›†ç§æ‰¾åˆ°æŸç§ç»“æ„(ç°‡)ï¼Œå®ƒä»¬å…·æœ‰ç±»ä¼¼çš„æ€§è´¨ã€‚<strong>èšç±»(clustering)</strong>æ˜¯æ— ç›‘ç£å­¦ä¹ çš„ä¸€ç§ ã€‚</p><p><strong>Cocktail party problem é¸¡å°¾é…’ä¼šé—®é¢˜</strong></p><p>ç¼–ç¨‹ç¯å¢ƒOctaveæˆ–Matlab</p><p>è§£å†³ä»£ç </p><p>$$[W,s,v]=svd((repmat(sum(x.^*x,1),size(x,1),1).^*x)^*xâ€™)$$</p><p>$svd$ æ˜¯å¥‡å¼‚å€¼åˆ†è§£çš„ç¼©å†™ï¼Œåœ¨Octaveä¸­ä½œä¸ºä¸€ä¸ªå†…ç½®å‡½æ•°ã€‚</p><p><br></p><p>ä¸‹é¢ä¸€ä¸ªé—®é¢˜ï¼Œå“ªäº›é€‰é¡¹è¦ä½¿ç”¨æ— ç›‘ç£å­¦ä¹ ç®—æ³•ï¼Ÿ</p><p><img src="https://foreti.me/imgplace/2019/20190429231037.png" alt="ML2"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºæœºå™¨å­¦ä¹ ï¼Œè¿™æ˜¯æˆ‘å­¦çš„ç¬¬ä¸€èŠ‚è¯¾ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="supervised learning" scheme="https://foreti.me/blog/tags/supervised-learning/"/>
    
      <category term="unsupervised learning" scheme="https://foreti.me/blog/tags/unsupervised-learning/"/>
    
  </entry>
  
  <entry>
    <title>ubuntuç³»ç»Ÿå®‰è£…</title>
    <link href="https://foreti.me/blog/2018/01/11/ubuntu-installation/"/>
    <id>https://foreti.me/blog/2018/01/11/ubuntu-installation/</id>
    <published>2018-01-11T05:16:17.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>å®‰è£…ubuntuåŒç³»ç»Ÿè¿‡ç¨‹</p><a id="more"></a><hr><p><img src="https://foreti.me/imgplace/2019/20190429231432.png" alt></p><ul><li><a href="https://tutorials.ubuntu.com/tutorial/tutorial-create-a-usb-stick-on-windows#0" target="_blank" rel="noopener">ubuntuç³»ç»Ÿå®‰è£…æ•™ç¨‹</a></li><li><a href="https://www.ubuntu.com/download/desktop" target="_blank" rel="noopener">ubuntu Desktopæœ€æ–°ç‰ˆæœ¬ä¸‹è½½</a>ï¼Œåˆ¶ä½œUç›˜å¯åŠ¨ç›˜æ¨èä½¿ç”¨<a href="https://rufus.akeo.ie/" target="_blank" rel="noopener">Rufus</a>å·¥å…·</li><li>ubuntuç³»ç»Ÿåˆ†åŒºæ–¹æ¡ˆ<ul><li>åœ¨windowsç³»ç»Ÿä¸ŠæŠŠåŸç¡¬ç›˜å‹ç¼©å‡º50Gçš„freeç©ºé—´ï¼Œåœ¨ubuntuå®‰è£…æ—¶åˆ†å‡º2Gä½œä¸ºswapåˆ†åŒº</li><li>å‰©ä¸‹çš„æ ¼å¼åŒ–ä¸ºext4æ ¼å¼ï¼ŒæŒ‚è½½ä½ç½®ä¸º<code>/</code></li><li><del>ç”±äºç°åœ¨PCå†…å­˜éƒ½è¾ƒå¤§äº†ï¼Œæ‰€ä»¥ä¸å¿…åˆ›å»ºswapäº¤æ¢åˆ†åŒº</del></li><li>è®¾ç½®<code>å®‰è£…å¯åŠ¨å¼•å¯¼å™¨çš„è®¾å¤‡</code><ul><li>æˆ‘çš„ç”µè„‘æœ‰ä¸¤å—ssdï¼Œä¸€å—å°çš„å…¨éƒ¨ä½œä¸ºCç›˜ï¼Œè£…çš„win10ç³»ç»Ÿå’Œå¼€æœºå¯åŠ¨è½¯ä»¶ï¼›ä¸€å—å¤§çš„ä½œä¸ºDç›˜ï¼Œå®‰è£…å¸¸ç”¨è½¯ä»¶å’Œå­˜æ”¾ä¸€äº›èµ„æ–™ã€‚æˆ‘æŠŠubuntuå®‰è£…åœ¨äº†Dç›˜ä¸Šçš„ä¸€ä¸ª50Gåˆ†åŒºï¼Œè¿™æ ·å°±è¦æŠŠubuntuçš„å¼•å¯¼å™¨æ”¾åœ¨Dç›˜ï¼Œä¹Ÿå°±æ˜¯<code>sdb</code> ï¼ˆsdaå¯¹åº”ç¬¬ä¸€å—ç¡¬ç›˜ï¼Œsdbå¯¹åº”ç¬¬äºŒå—ç¡¬ç›˜ï¼‰ï¼Œè¿™æ ·çš„è¯ç”µè„‘å¼€æœºæ—¶ä¼šè‡ªåŠ¨è¿›å…¥win10ï¼Œå¦‚æœæˆ‘æŒ‰F11æ‰ä¼šè¿›å…¥grubé€‰æ‹©ubuntuç³»ç»Ÿï¼Œè¿™æ ·æ­£å¥½ç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚</li><li>å¦‚æœæŠŠå¼•å¯¼å™¨å®‰è£…åœ¨Cç›˜ï¼Œæ¯æ¬¡å¼€æœºéƒ½ä¼šæ‰‹åŠ¨é€‰æ‹©ç³»ç»Ÿã€‚</li></ul></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®‰è£…ubuntuåŒç³»ç»Ÿè¿‡ç¨‹&lt;/p&gt;
    
    </summary>
    
    
      <category term="ubuntu" scheme="https://foreti.me/blog/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>Hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®</title>
    <link href="https://foreti.me/blog/2017/12/31/hexo-next-personal/"/>
    <id>https://foreti.me/blog/2017/12/31/hexo-next-personal/</id>
    <published>2017-12-31T13:10:03.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹Hexoçš„Nextä¸»é¢˜é…ç½®å’Œä½¿ç”¨ï¼Œæˆ‘è¿˜æ˜¯æœ‰ä¸€äº›å¿ƒå¾—çš„ï¼Œæ— éæ˜¯å„ç§æ ·å¼è¦†ç›–ä¸€ä¸‹ï¼Œé€ƒï¼šï¼‰</p><a id="more"></a><hr><h2 id="æ·»åŠ RSS"><a href="#æ·»åŠ RSS" class="headerlink" title="æ·»åŠ RSS"></a>æ·»åŠ RSS</h2><p>é¦–å…ˆåœ¨åšå®¢æ ¹ç›®å½•å®‰è£…hexoæ’ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-generator-feed</span><br></pre></td></tr></table></figure><p>npmå®‰è£…å¤±è´¥è¯·ç”¨cnpm</p><p>ç„¶ååœ¨åšå®¢é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­ä¿®æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plugins: hexo-generate-feed</span><br><span class="line">feed:</span><br><span class="line">  type: atom       #feed ç±»å‹ (atom/rss2)</span><br><span class="line">  path: atom.xml   #rss è·¯å¾„</span><br><span class="line">  limit: 0        #åœ¨ rss ä¸­æœ€å¤šç”Ÿæˆçš„æ–‡ç« æ•°(0æ˜¾ç¤ºæ‰€æœ‰)</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­ä¿®æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rss: /atom.xml</span><br></pre></td></tr></table></figure><hr><h2 id="ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬"><a href="#ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬" class="headerlink" title="ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬"></a>ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬</h2><p>æ‰“å¼€<code>\themes\next\source\css\_common\components\sidebar\sidebar-author.styl</code>ï¼Œåœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: $site-author-image-padding;</span><br><span class="line">  <span class="attribute">max-width</span>: $site-author-image-width;</span><br><span class="line">  <span class="attribute">height</span>: $site-author-image-height;</span><br><span class="line">  <span class="attribute">border</span>: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* å¤´åƒåœ†å½¢ */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">-webkit-border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">-moz-border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="number">#333</span>sf;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* è®¾ç½®å¾ªç¯åŠ¨ç”» [animation: (play)åŠ¨ç”»åç§° (2s)åŠ¨ç”»æ’­æ”¾æ—¶é•¿å•ä½ç§’æˆ–å¾®ç§’ (ase-out)åŠ¨ç”»æ’­æ”¾çš„é€Ÿåº¦æ›²çº¿ä¸ºä»¥ä½é€Ÿç»“æŸ </span></span><br><span class="line"><span class="comment">    (1s)ç­‰å¾…1ç§’ç„¶åå¼€å§‹åŠ¨ç”» (1)åŠ¨ç”»æ’­æ”¾æ¬¡æ•°(infiniteä¸ºå¾ªç¯æ’­æ”¾) ]*/</span></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  <span class="comment">/* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */</span></span><br><span class="line">  <span class="attribute">-webkit-transition</span>: -webkit-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: -moz-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* é¼ æ ‡ç»è¿‡åœæ­¢å¤´åƒæ—‹è½¬ </span></span><br><span class="line"><span class="comment">  -webkit-animation-play-state:paused;</span></span><br><span class="line"><span class="comment">  animation-play-state:paused;*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */</span></span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">  <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Z è½´æ—‹è½¬åŠ¨ç”» */</span></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="æ·»åŠ ç›¸å†Œ"><a href="#æ·»åŠ ç›¸å†Œ" class="headerlink" title="æ·»åŠ ç›¸å†Œ"></a>æ·»åŠ ç›¸å†Œ</h2><div id="album">æˆ‘çš„<a href="https://fakeyanss.github.io/gallery/" target="_blank" rel="noopener">ç›¸å†Œ</a>ã€‚</div><p>åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯å»ºç«‹ä¸€ä¸ªgithubä»“åº“å­˜å‚¨ç”¨äºå­˜å‚¨å›¾ç‰‡ï¼Œç„¶åå°†æ¯ä¸ªå›¾ç‰‡çš„è·¯å¾„ä¿å­˜åˆ°ä¸€ä¸ªjsonæ–‡ä»¶é‡Œï¼Œåœ¨hexoåšå®¢ä¸­è§£æè¿™ä¸ªjsonæ–‡ä»¶ï¼Œæ¸²æŸ“æˆhtmlé¡µé¢åå°±å¯ä»¥åœ¨æ˜¾ç¤ºå›¾ç‰‡äº†ã€‚å½“ç„¶è¿™é‡Œè‚¯å®šè¦æœ‰é¡µé¢çš„æ ·å¼å’Œå›¾ç‰‡çš„è£å‰ªå‹ç¼©ï¼ŒåŸç†ç®€å•ï¼Œå®é™…æ“ä½œèµ·æ¥æœ‰ä¸€äº›å‘ï¼Œæˆ‘å¹¶ä¸æ‡‚cssæ ·å¼ï¼Œè¿˜æ˜¯è¦æ„Ÿè°¢<a href="http://litten.me/" target="_blank" rel="noopener">litten</a>æä¾›çš„æ–¹æ³•ã€‚</p><h3 id="ç›¸å†Œæº"><a href="#ç›¸å†Œæº" class="headerlink" title="ç›¸å†Œæº"></a>ç›¸å†Œæº</h3><ul><li>é¦–å…ˆåœ¨githubä¸Šæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œå‘½å<code>Blog_Album</code></li><li><p>cloneæˆ‘çš„<a href="https://github.com/fakeYanss/Hexo-Album" target="_blank" rel="noopener">Hexo-Albumä»“åº“</a>ï¼Œæ”¹ä¸€ä¸‹æ–‡ä»¶åä¸ºBlog_Albumæˆ–è€…å…¶ä»–ï¼Œè®°ä½ä¹‹åè¦ä¸Šä¼ çš„ç›¸ç‰‡å°±æ”¾åˆ°<code>photos</code>æ–‡ä»¶å¤¹å†…ã€‚</p></li><li><p>åœ¨åšå®¢æ ¹ç›®å½•è¿è¡Œ</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new photo</span><br></pre></td></tr></table></figure><ul><li><p>å›åˆ°<code>Blog_Album</code>æ–‡ä»¶å¤¹ï¼Œåœ¨make-json.pyä¸­96è¡Œã€98è¡Œï¼Œä¿®æ”¹è·¯å¾„ä¸ºblogæºæ–‡ä»¶ä¸­çš„photoé¡µé¢è·¯å¾„ã€‚è¿™é‡Œåä¸¤è¡Œæ‰“å°jsonçš„å¯ä»¥ä¸éœ€è¦ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">with open(&quot;../Blog_Source/source/photo/&quot; + target_file, &quot;w&quot;) as fp:</span><br><span class="line">    json.dump(final_dict, fp, indent=4, separators=(&apos;,&apos;, &apos;: &apos;))</span><br><span class="line">with open(&quot;../Blog_Source/source/photo/&quot; + target_file, &quot;r&quot;) as fp:</span><br><span class="line">    print (json.load(fp))</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ ä¸€äº›å›¾ç‰‡åˆ°<code>Blog_Album</code>çš„<code>photos</code>æ–‡ä»¶å¤¹ä¸­</p></li><li>è¿è¡Œcompress.pyç”Ÿæˆå›¾ç‰‡ç¼©ç•¥å›¾åˆ°min_photos/</li><li>è¿è¡Œmake-json.pyç”Ÿæˆjsonæ–‡ä»¶åˆ°blogæºæ–‡ä»¶ä¸­</li><li>å°†<code>Blog_Album</code>çš„ä¿®æ”¹ä¼ åˆ°githubè¿œç¨‹ä»“åº“<code>Blog_Album</code></li></ul><p>ä¸Šä¼ å‰å¯ä»¥å°†Hexoæ–‡ä»¶å¤¹ç§»å‡ºï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶åœ¨åé¢è¿˜æœ‰ä½œç”¨ã€‚å¦‚æœä½ ä¸ç”¨ä¸ƒç‰›äº‘ï¼Œä¹Ÿå¯ä»¥å°†qiniuç›¸å…³çš„è„šæœ¬åˆ æ‰ã€‚</p><h3 id="åšå®¢ç›¸å†Œé¡µ"><a href="#åšå®¢ç›¸å†Œé¡µ" class="headerlink" title="åšå®¢ç›¸å†Œé¡µ"></a>åšå®¢ç›¸å†Œé¡µ</h3><ol><li>å›åˆ°<code>yourblog\source\photo</code>ç›®å½•ä¸‹ï¼Œä¸‹è½½è¿™äº›å®šä¹‰å¥½çš„<a href="https://github.com/fakeYanss/Hexo-Album/tree/master/Hexo/Source/photos" target="_blank" rel="noopener">photoé¡µé¢æ–‡ä»¶</a>ï¼ŒåæœŸä½ å¯ä»¥è‡ªå·±ä¿®æ”¹å…¶ä¸­å†…å®¹ã€‚</li></ol><p>å°†<code>ins.js</code>ä¸­çš„114è¡Œçš„<code>render()</code>å‡½æ•°éœ€è¦ä¿®æ”¹è¿™ä¸¤ä¸ªå˜é‡ï¼Œè¿™é‡Œæ˜¯å°†å›¾ç‰‡å­˜åœ¨githubå¯¹åº”çš„è¿æ¥ï¼Œå¦‚æœæ˜¯ä¸ƒç‰›äº‘éœ€è¦ç»‘å®šåŸŸåäº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minSrc = <span class="string">'https://raw.githubusercontent.com/fakeYanss/Blog_Album/master/min_photos/'</span> + data.link[i];</span><br><span class="line"><span class="keyword">var</span> src = <span class="string">'https://raw.githubusercontent.com/fakeYanss/Blog_Album/master/photos/'</span> + data.link[i];</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„ä»“åº“åå’Œæˆ‘ç›¸åŒï¼Œåªç”¨æŠŠè¿™é‡Œçš„<code>fakeYanss</code>æ”¹ä¸ºä½ è‡ªå·±çš„github nameå³å¯ã€‚</p><ol start="2"><li>åœ¨<code>yourBlog/themes/next/source/js/src</code>ä¸‹åŠ å…¥ä¸¤ä¸ªjsæ–‡ä»¶photoswipe.min.jså’Œphotoswipe-ui-default.min.jsï¼Œéƒ½å¯ä»¥åœ¨Hexoæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ã€‚</li></ol><ol start="3"><li>åœ¨<code>yourBlog/themes/next/layout/_scripts/pages/post-details.swig</code>ä¸­æ·»åŠ </li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/photoswipe.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/photoswipe-ui-default.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨<code>yourBlog/themes/next/layout/_layout.swig</code>ä¸­</li></ol><p><code>head</code>å†…æ’å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/photoswipe.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/photoswipe-ui-default.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>body</code>å†…æ’å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if page.type === "photos" %&#125;</span><br><span class="line"><span class="comment">&lt;!-- Root element of PhotoSwipe. Must have class pswp. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp"</span> <span class="attr">tabindex</span>=<span class="string">"-1"</span> <span class="attr">role</span>=<span class="string">"dialog"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__bg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__scroll-wrap"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__container"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__ui pswp__ui--hidden"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__top-bar"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__counter"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"pswp__button pswp__button--close"</span> <span class="attr">title</span>=<span class="string">"Close (Esc)"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"pswp__button pswp__button--share"</span> <span class="attr">title</span>=<span class="string">"Share"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"pswp__button pswp__button--fs"</span> <span class="attr">title</span>=<span class="string">"Toggle fullscreen"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"pswp__button pswp__button--zoom"</span> <span class="attr">title</span>=<span class="string">"Zoom in/out"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- element will get class pswp__preloader--active when preloader is running --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__preloader"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__preloader__icn"</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__preloader__cut"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__preloader__donut"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__share-tooltip"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"pswp__button pswp__button--arrow--left"</span> <span class="attr">title</span>=<span class="string">"Previous (arrow left)"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"pswp__button pswp__button--arrow--right"</span> <span class="attr">title</span>=<span class="string">"Next (arrow right)"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__caption"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pswp__caption__center"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li><p>é‡æ–°ç¼–è¯‘åšå®¢å†…å®¹å³å¯çœ‹åˆ°ç›¸å†Œå†…å®¹ã€‚</p></li><li><p>æ³¨æ„ï¼š</p><ul><li>å¦‚æœpyè„šæœ¬ä¸èƒ½è¿è¡Œï¼Œå…ˆå®‰è£…pythonç¯å¢ƒï¼Œå†å®‰è£…<code>Pillow</code>åº“<code>pip install Pillow</code></li><li>ç›¸å†Œå›¾ç‰‡çš„å‘½åè¯·éµå¾ª<code>yyyy-mm-dd_abc.jpg</code>æ ¼å¼ï¼Œè™½ç„¶è„šæœ¬é‡Œå†™äº†å…¶ä»–æ ¼å¼çš„å¤„ç†ï¼Œä½†å®é™…æƒ…å†µä¼¼ä¹åªèƒ½å¯¹jpgæ–‡ä»¶è£å‰ªå‹ç¼©</li><li>æœ€åçš„ä¸è¶³æ˜¯ï¼Œç›¸ç‰‡çš„è£å‰ªç®—æ³•ï¼Œå¯èƒ½ä¼šæŠŠä¸€å¼ å›¾ç‰‡ä¸­çš„äººä½“å¤´éƒ¨è£å‰ªæ‰</li><li>nextä¸»é¢˜æºç æ˜¯ä¸æ”¯æŒç›¸å†Œçš„ï¼Œå¦‚æœæœ‰ä¸æ‡‚çš„åœ°æ–¹ï¼Œå¯ä»¥çœ‹çœ‹è¯„è®ºçš„ç›¸ä¼¼æƒ…å†µï¼Œæˆ–è€…æŸ¥ä¸€ä¸‹<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">yilia</a>ä¸»é¢˜çš„issueï¼Œç„¶åå†æ¥é—®æˆ‘</li><li>ç›¸å†Œæºæ–‡ä»¶ä¸­å¤„ç†å›¾ç‰‡ç”Ÿæˆjsonå’Œä¸Šä¼ å›¾ç‰‡çš„å¤„ç†ï¼Œæˆ‘å†™äº†ä¸€ä¸ªreleash.shè„šæœ¬ï¼Œå¯ä»¥ä¿®æ”¹ä¸€ä¸‹ï¼Œä»¥åæ·»åŠ å›¾ç‰‡åå¿«æ·å¤„ç†</li></ul></li></ol><h3 id="changelog"><a href="#changelog" class="headerlink" title="changelog"></a>changelog</h3><ul><li><p>2018.2.23ä¿®æ”¹<br>å‘ç°iosè®¾å¤‡æ‹æ‘„çš„æ­£æ–¹å½¢ç…§ç‰‡çš„å‹ç¼©å›¾ä¸Šä¼ åä»ç„¶æœ‰orientationå€¼ä¸º6å³åè½¬90åº¦é—®é¢˜ï¼Œç´¢æ€§ä¿®æ”¹äº†æ•´ä¸ªè£å‰ªåˆ‡å‰²å’Œç”Ÿæˆjsonçš„è„šæœ¬ã€‚åœ¨å‹ç¼©åŒæ—¶ä¿®æ”¹åè½¬å€¼ï¼Œå¹¶ä¸”åœ¨ç”Ÿæˆjsonæ—¶è·å–å›¾ç‰‡å°ºå¯¸ï¼Œåœ¨å‰ç«¯æ˜¾ç¤ºå›¾ç‰‡åŸå›¾æ—¶åœ¨<code>data-size</code>ä¸­è®¾ç½®jsonä¸­çš„å¯¹åº”å›¾ç‰‡å°ºå¯¸ï¼Œè¿™æ ·å¯ä»¥ä¸åˆ‡å‰²åŸå›¾ï¼Œä¿®æ”¹åçš„è®¾ç½®æ–¹æ³•åœ¨</p><ul><li><p><a href="https://github.com/fakeYanss/gallery" target="_blank" rel="noopener">ç”Ÿæˆç¼©ç•¥å›¾å’Œjsonæ•°æ®å¹¶ä¸Šä¼ ä¸ƒç‰›äº‘</a>ï¼Œ</p></li><li><p>å¯¹äºä¿®æ”¹åçš„ç›¸å†Œçš„ins.jsï¼Œéœ€è¦åšä¸€äº›ä¿®æ”¹ï¼Œä»¥é€‚åº”ä¿®æ”¹åçš„è„šæœ¬ç”Ÿæˆçš„jsonæ•°æ®ï¼Œåœ¨render()æ–¹æ³•ä¸­ï¼Œæ³¨æ„å†…å±‚<code>&lt;img&gt;</code>æ ‡ç­¾ä¸ºç¼©ç•¥å›¾ï¼Œ<code>&lt;a&gt;</code>æ ‡ç­¾ä¸ºåŸå›¾ï¼Œåœ¨å¯¹åº”çš„å±æ€§å¤„è®¾ä¸ºå¯¹åº”å€¼ã€‚</p></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minSrc = <span class="string">'http://pic.yanss.top/min_photos/'</span> + data.link[i];</span><br><span class="line"><span class="keyword">var</span> src = <span class="string">'http://pic.yanss.top/'</span> + data.link[i];</span><br><span class="line"><span class="keyword">var</span> type = data.type[i];</span><br><span class="line"><span class="keyword">var</span> target = src + <span class="string">'.'</span> +type;</span><br><span class="line"><span class="keyword">var</span> size = data.size[i];</span><br><span class="line">src = src + (type === <span class="string">'mp4'</span> ? <span class="string">'.jpg'</span> : <span class="string">'.'</span> + type) + <span class="string">'?imageMogr2/auto-orient'</span>;</span><br><span class="line">minSrc = minSrc + (type === <span class="string">'mp4'</span> ? <span class="string">'.jpg'</span> : <span class="string">'.'</span> + type);</span><br><span class="line">type = (type === <span class="string">'mp4'</span> ? <span class="string">'video'</span> : <span class="string">'image'</span>)</span><br><span class="line"></span><br><span class="line">liTmpl += <span class="string">'&lt;figure class="thumb" itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject"&gt;\</span></span><br><span class="line"><span class="string">               &lt;a href="'</span> + src + <span class="string">'" itemprop="contentUrl" data-size="'</span> + size + <span class="string">'" data-type="'</span> + type + <span class="string">'" data-target="'</span> + target + <span class="string">'"&gt;\</span></span><br><span class="line"><span class="string">                   &lt;img class="reward-img" data-type="'</span> + type + <span class="string">'" data-src="'</span> + minSrc + <span class="string">'" src="./assets/empty.png" itemprop="thumbnail" onload="lzld(this)"&gt;\</span></span><br><span class="line"><span class="string">               &lt;/a&gt;\</span></span><br><span class="line"><span class="string">               &lt;figcaption style="display:none" itemprop="caption description"&gt;'</span> + data.text[i] + <span class="string">'&lt;/figcaption&gt;\</span></span><br><span class="line"><span class="string">           &lt;/figure&gt;'</span>;</span><br></pre></td></tr></table></figure><ul><li>2019.3.2ä¿®æ”¹<br>ç”±äºæ¢äº†ä¸»é¢˜hollowï¼Œä¸æ”¯æŒæ·»åŠ é¡µé¢ï¼Œæ‰€ä»¥è®²ç›¸å†Œç‹¬ç«‹å‡ºæ¥ï¼Œå‘åˆ°ä¸€ä¸ªgithubä»“åº“å¹¶å¼€å¯pageåŠŸèƒ½ï¼Œç›®å‰æ˜¯åœ¨<a href="https://fakeyanss.github.io/gallery" target="_blank" rel="noopener">https://fakeyanss.github.io/gallery</a>ã€‚</li></ul><p>å¹¶ä¸”åšäº†ä¸€äº›ä¿®æ”¹ï¼š</p><ul><li>ä¸åœ¨ä½¿ç”¨ä¸ƒç‰›äº‘å›¾åºŠï¼Œè½¬åˆ°githubï¼Œæ¯•ç«Ÿä¸é™æµï¼Œä¸é™é‡ï¼Œæ…¢ç‚¹å°±æ…¢ç‚¹ã€‚ </li><li>å¦‚æœå›¾ç‰‡çš„orientaionä¿¡æ¯æœ‰é—®é¢˜ï¼Œå¯ä»¥è‡ªå·±ä¿®æ”¹ä¸€ä¸‹ï¼Œmacä¸Šç”¨XeeÂ³ï¼Œwindowä¸Šç”¨bandizipå®¶çš„èœ‚èœœæµè§ˆå™¨ï¼Œéƒ½æ˜¯æ‰“å¼€å›¾ç‰‡ä¿å­˜ä¸€ä¸‹å°±å¥½äº†ï¼Œç›´æ¥å°†orientationå€¼é‡è®¾ä¸º1ã€‚</li><li>ä¿®æ”¹äº†ä¸€äº›æ ·å¼ï¼Œè®¡åˆ’åšæˆInstagramçš„æ ·å¼ã€‚</li></ul><hr><h2 id="æ·»åŠ Gitmentè¯„è®º"><a href="#æ·»åŠ Gitmentè¯„è®º" class="headerlink" title="æ·»åŠ Gitmentè¯„è®º"></a>æ·»åŠ Gitmentè¯„è®º</h2><p>åŸæœ¬æ˜¯ç”¨çš„livereè¯„è®ºï¼Œåæ¥æ€»æ˜¯åŠ è½½é€Ÿåº¦å¤ªæ…¢ï¼Œä¸Šäº†æ¢¯å­ä¹Ÿä¸€æ ·ï¼Œç´¢æ€§æ”¹æˆäº†<a href="https://github.com/imsun/gitment" target="_blank" rel="noopener">Gitment</a>è¯„è®ºã€‚</p><p>æ„Ÿè°¢ä½œè€…<a href="https://github.com/imsun" target="_blank" rel="noopener">imsun</a>ï¼ŒGitmentè¯„è®ºæºè‡ªgithubä»“åº“çš„issueï¼Œæ‰€ä»¥åœ¨å°†åšå®¢åœ°å€å…³è”äº†æŸä¸ªgithubä»“åº“åï¼Œåœ¨åšå®¢ä¸‹è¯„è®ºå…¶å®å°±æ˜¯åœ¨å¯¹åº”ä»“åº“çš„issueä¸­è¯„è®ºï¼Œè¿™åˆ›æ„çœŸæ˜¯å¤ªå¥½äº†ã€‚</p><p>æˆ‘ä¹‹å‰çš„nextä¸»é¢˜ä¸€ç›´æ˜¯<code>5.1.0</code>ç‰ˆæœ¬ï¼Œæœ¬æ¥æ˜¯æƒ³åœ¨ä¸»é¢˜ä¸­æ·»åŠ gitmentçš„jså’Œcssæ–‡ä»¶ï¼Œç»“æœæ²¡æˆåŠŸã€‚ç„¶ååœ¨nextçš„<a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ä¸­çœ‹åˆ°å·²ç»å‘è¡Œåˆ°<code>5.1.4</code>äº†ï¼Œè€Œä¸”å·²ç»é›†æˆäº†gitmentè¯„è®ºã€‚è¿™ä¸‹å¯æ–¹ä¾¿ï¼Œå¹²è„†ç›´æ¥å‡çº§äº†nextä¸»é¢˜ï¼Œç„¶åå°±æ”¹<code>config</code>æ–‡ä»¶å°±å¥½å•¦ã€‚</p><p>ä»¥å‰ä¸»é¢˜ä¸­é…ç½®äº†ä¸€äº›è®¾ç½®é¡¹ï¼Œæ—¶é—´ä¹…äº†è¿˜å¿˜äº†æ”¹äº†å“ªäº›æ–‡ä»¶ï¼ï¼ï¼æ‰€ä»¥å‡çº§ç‰ˆæœ¬å¾ˆç—›è‹¦ï¼Œç”¨çš„Sublimeçš„ä¸€ä¸ªæ’ä»¶Sublimergeï¼Œå¯ä»¥å¯¹æ¯”ä¸¤ä¸ªæ–‡ä»¶çš„ä»£ç å·®å¼‚ï¼Œå°±æ˜¯è¿™æ ·<br><img src="https://foreti.me/imgplace/2019/hexo%E4%B8%AA%E6%80%A7%E8%AE%BE%E7%BD%AE.png" alt="Sublimerge"><br>å°±åƒgit pullæ“ä½œä¹‹åæ”¹åŠ¨æ—¶ä¸€æ ·ï¼Œè¿™æ ·å­æŠŠæ¯ä¸ªæœ‰å¯èƒ½æ”¹è¿‡çš„æ–‡ä»¶éƒ½å¯¹æ¯”äº†ä¸€éï¼Œç„¶åå‡çº§åˆ°äº†5.1.4ï¼Œå‘ç°é›†æˆäº†å¾ˆå¤šæ–°åŠŸèƒ½ï¼Œå…¶ä»–çš„æœ‰æ—¶é—´å†è¯•å§ï¼Œè¿™é‡Œå°±åªè¯´gitmentã€‚</p><p>é¦–å…ˆåœ¨<a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">è¿™é‡Œ</a>æ³¨å†Œä¸€ä¸ªOAuth Applicationï¼Œ<code>Homepage URL</code>å’Œ<code>Authorization callback URL</code>å¡«å†™åšå®¢é¦–é¡µåœ°å€ï¼Œä¹Ÿå°±æ˜¯ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­çš„<code>url</code>ï¼Œå…¶ä»–éšæ„å¡«å†™å³å¯ã€‚</p><p>ç„¶åä¼šå¾—åˆ°ä¸€ä¸ª<code>Client ID</code>å’Œ<code>Client Secret</code>ï¼ŒæŠŠè¿™ä¸¤ä¸ªå€¼å¡«åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶çš„gitmentå¯¹åº”ä½ç½®<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mint:</span> <span class="literal">true</span> <span class="comment"># gitmentä»“åº“æœ‰ä¸¤ä¸ªï¼Œè¿™é‡Œå¡«trueæ˜¯å¼•ç”¨ç¬¬ä¸€ä¸ªï¼Œfalseå¼•ç”¨ç¬¬äºŒä¸ªï¼Œå…·ä½“åœ¨layoutä¸‹çš„conmentæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># è¯„è®ºè®¡æ•°</span></span><br><span class="line">  <span class="attr">lazy:</span> <span class="literal">false</span> <span class="comment"># å¦‚æœè¦ç‚¹å‡»æŒ‰é’®å†æ˜¾ç¤ºè¯„è®ºå°±å¡«true</span></span><br><span class="line">  <span class="attr">cleanly:</span> <span class="literal">true</span> <span class="comment"># éšè—åº•éƒ¨ä¿¡æ¯</span></span><br><span class="line">  <span class="attr">language:</span> <span class="comment"># Force language, or auto switch by theme</span></span><br><span class="line">  <span class="attr">github_user:</span> <span class="string">å¡«github</span> <span class="string">ID</span></span><br><span class="line">  <span class="attr">github_repo:</span> <span class="string">å¡«ä¿å­˜issueçš„ä»“åº“åï¼Œä¸€èˆ¬å°±ç”¨åšå®¢å‘å¸ƒçš„ä»“åº“å</span></span><br><span class="line">  <span class="attr">client_id:</span> <span class="string">åˆšæ‰çš„å€¼</span></span><br><span class="line">  <span class="attr">client_secret:</span> <span class="string">åˆšæ‰çš„å€¼</span></span><br><span class="line">  <span class="attr">proxy_gateway:</span> <span class="comment"># è®¾ç½®ä»£ç†ï¼Œä¸ç”¨å¡«</span></span><br><span class="line">  <span class="attr">redirect_protocol:</span> <span class="comment"># æ²¡ææ‡‚ï¼Œä¸ç”¨å¡«</span></span><br></pre></td></tr></table></figure></p><p>ç„¶åé‡æ–°éƒ¨ç½²åšå®¢(æœ¬åœ°è°ƒè¯•æ˜¯æ²¡ç”¨çš„ï¼Œå› ä¸ºurlä¸åŒ)ï¼Œå†æ‰“å¼€åšå®¢ï¼Œè¿™æ—¶å€™éœ€è¦åœ¨æ¯ä¸€ä¸ªæœ‰è¯„è®ºçš„é¡µé¢ä¸Šä½¿ç”¨è‡ªå·±çš„githubé•¿èˆªç™»å½•å¹¶åˆå§‹åŒ–ä¸€éè¯„è®ºï¼Œä¹‹åå°±ä¸ç”¨äº†ã€‚æ–‡ç« å¤šçš„è¯ä¼šæœ‰ç‚¹éº»çƒ¦ï¼Œä¸çŸ¥é“gitmentä½œè€…æœ‰æ²¡æœ‰åšå¥½è‡ªåŠ¨åˆå§‹åŒ–ï¼Ÿå¥½åƒæŸ¥åˆ°äº†<a href="https://draveness.me/git-comments-initialize" target="_blank" rel="noopener">è¿™ä¸ª</a>ï¼Œä¸è¿‡æˆ‘è¿˜æ²¡è¯•è¿‡ã€‚<br>è¿™é‡Œæ˜¯æˆåŠŸçš„æ ·å­<img src="https://foreti.me/imgplace/2019/gitment.png" alt="gitment"></p><p>ä½†æ˜¯ï¼Œè¿™ä¸ªé¼ æ ‡æ”¾ä¸Šæœ‰ä¸¤æ¡æ¨ªçº¿ä»€ä¹ˆé¬¼å•Šï¼ï¼ï¼<img src="https://foreti.me/imgplace/2019/gitment1.png" alt="gitment1"></p><p>è¿˜æœ‰è¿™é‡Œå¤´åƒä¸‹é¢ä¸ºä»€ä¹ˆæœ‰ä¸€æ¡æ¨ªçº¿ï¼ï¼ï¼ï¼<img src="https://foreti.me/imgplace/2019/gitment2.pnghttp://pic.yanss.top/gitment2.png" alt="gitment2"></p><p>å¼ºè¿«ç—‡å¿ä¸äº†ï¼ŒæŸ¥çœ‹äº†gitmentçš„csså®šä¹‰ï¼Œæ²¡å‘ç°ä»€ä¹ˆé—®é¢˜å•Šï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­è°ƒè¯•ï¼Œå‘ç°äº†è¿™ä¸ª<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span>&#123;  </span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#999</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œçš„<code>border-bottom: 1px solid #999</code>å°±æ˜¯<code>a</code>æ ‡ç­¾ä¸‹æœ‰ä¸€æ¡æ¨ªçº¿çš„æ„æ€ï¼Œä½†æ˜¯è¿™ä¸ªå±æ€§æ˜¯ä¸»é¢˜çš„å±æ€§<code>main.css</code>å•Šï¼Œæ˜¾ç„¶æ˜¯ä¸èƒ½æ”¹çš„ï¼Œäºæ˜¯åªæœ‰åœ¨<code>themes\next\source\css\_common\components\third-party\gitment.styl</code>ä¸‹æ”¹åŠ¨äº†ï¼Œåœ¨è¿™é‡Œå¯ä»¥é‡å†™å‰é¢å®šä¹‰çš„å±æ€§ï¼Œæˆ‘æ˜¯è¿™æ ·æ”¹çš„ï¼Œåœ¨æœ€åé¢åŠ ä¸Š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.gitment-comment-main</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.gitment-editor-avatar</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç¬¬ä¸€ä¸ªå°±æ˜¯ä¿®æ”¹çš„IDä¸‹çš„æ¨ªçº¿ï¼Œæ˜¾ç¤ºä¸º<code>none</code>å°±å¥½äº†ï¼›ç¬¬äºŒä¸ªæ˜¯ä¿®æ”¹ç¼–è¾‘æ¡†å¤´åƒä¸‹çš„æ¨ªçº¿ï¼Œä¹Ÿæ˜¯æ˜¾ç¤ºä¸º<code>none</code>ã€‚</p><p>è¿™æ ·ï¼Œç®—æ˜¯å®Œæˆäº†Gitmentçš„é…ç½®äº†ã€‚</p><p>gitmentå·²ç»å¤±æ•ˆäº†ï¼Œçœ‹åˆ°ä½œè€…çš„åšå®¢ä¸‹çš„è¯„è®ºä¹Ÿå¤±æ•ˆäº†ï¼ŒæŸ¥åˆ°ä¼¼ä¹æ˜¯å› ä¸ºgitmentä¸­åœ¨ä¸githubè®¤è¯æ—¶éœ€è¦ä½œè€…æä¾›çš„æœåŠ¡ç«¯æ”¯æŒï¼Œä½†æ˜¯ä½œè€…çš„æœåŠ¡ç«¯å·²ç»åœæ‰äº†ã€‚</p><p>æˆ‘ç°åœ¨è½¬åˆ°äº†disqusã€‚</p><hr><h2 id="è®¾ç½®è‡ªå®šä¹‰é¡µé¢ä¸æ˜¾ç¤ºSidebar"><a href="#è®¾ç½®è‡ªå®šä¹‰é¡µé¢ä¸æ˜¾ç¤ºSidebar" class="headerlink" title="è®¾ç½®è‡ªå®šä¹‰é¡µé¢ä¸æ˜¾ç¤ºSidebar"></a>è®¾ç½®è‡ªå®šä¹‰é¡µé¢ä¸æ˜¾ç¤ºSidebar</h2><p>ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ˜¯è¿™æ ·çš„<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">left</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span></span><br></pre></td></tr></table></figure></p><p>è®²é“ç†è¿™æ ·å°±æ˜¯æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æˆ‘å‘ç°è‡ªå®šä¹‰çš„é¡µé¢é‡Œå¦‚æœå†™äº†å¤ªå¤šçš„<code>#</code>æˆ–è€…<code>&lt;h1&gt;</code>ï¼Œå°±ä¼šè¢«è¯†åˆ«ä¸º<code>post</code>ç±»å‹è€Œä¸æ˜¯<code>page</code>ï¼Œä¹Ÿå°±æ˜¯åšå®¢æ–‡ç« ï¼Œä¼šè¢«è‡ªåŠ¨åŠ è½½ç›®å½•ï¼Œè¿™å°±å¾ˆè›‹ç–¼äº†ä¸æ˜¯ï¼Œæ¯•ç«Ÿæœ‰çš„é¡µé¢ä¸æƒ³è¦ç›®å½•å•Šå°´å°¬ï¼ï¼ï¼</p><blockquote><p>ä¸€èˆ¬è¿™ç§æ ·å¼é—®é¢˜éƒ½åœ¨<code>layout</code>æ–‡ä»¶å¤¹ä¸­æ‰¾åŸå› ã€‚</p></blockquote><p><s>åœ¨<code>themes\next\layout\_macro\sidebar.swig</code>ï¼Œæ‰¾åˆ°å¼€å¤´çš„</s><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% macro render(is_post) %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar-toggle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar-toggle-line-wrap"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sidebar-toggle-line sidebar-toggle-line-first"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sidebar-toggle-line sidebar-toggle-line-middle"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sidebar-toggle-line sidebar-toggle-line-last"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><s>åœ¨ä¸‹é¢åŠ ä¸Š</s><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if page.toc and theme.toc.enable %&#125;</span><br></pre></td></tr></table></figure></p><p><s>ç„¶ååœ¨å€’æ•°ç¬¬äºŒè¡ŒåŠ ä¸Š</s><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p><p>å‘ç°è¿™æ ·ä¿®æ”¹æœ‰bugï¼Œé‡æ–°æ”¹ã€‚åœ¨<code>themes\next\layout\_macro\sidebar.swig</code>æ‰¾åˆ°è¿™ä¸€å¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% set display_toc = is_post and theme.toc.enable or is_page and theme.toc.enable %&#125;</span><br></pre></td></tr></table></figure></p><p>æ”¹ä¸º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% set display_toc = is_post and theme.toc.enable or is_page and page.toc or is_page and theme.toc.enable and page.toc %&#125;</span><br></pre></td></tr></table></figure></p><p>å…¶å®å°±æ˜¯å¤šåŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œåˆ¤æ–­é¡µé¢çš„å¼€å¤´æœ‰æ²¡æœ‰<code>toc</code>å±æ€§</p><p>æœ€åï¼Œåœ¨éœ€è¦æœ‰sidebarç›®å½•çš„æ–‡ç« å‰åŠ ä¸Š<code>toc: true</code>å³å¯ã€‚</p><p>ä¸ºäº†ä»¥åçš„æ–¹ä¾¿ï¼Œå¯ä»¥åœ¨<code>scaffolds\post.md</code>ä¸­åŠ ä¸Š<code>toc: true</code>ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹Hexoçš„Nextä¸»é¢˜é…ç½®å’Œä½¿ç”¨ï¼Œæˆ‘è¿˜æ˜¯æœ‰ä¸€äº›å¿ƒå¾—çš„ï¼Œæ— éæ˜¯å„ç§æ ·å¼è¦†ç›–ä¸€ä¸‹ï¼Œé€ƒï¼šï¼‰&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="https://foreti.me/blog/tags/hexo/"/>
    
      <category term="next" scheme="https://foreti.me/blog/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>Javaåƒåœ¾å›æ”¶ç®—æ³•æµ…æ</title>
    <link href="https://foreti.me/blog/2017/12/31/java-gc-algorithm/"/>
    <id>https://foreti.me/blog/2017/12/31/java-gc-algorithm/</id>
    <published>2017-12-31T03:05:37.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨çœ‹ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ä¸€ä¹¦ï¼Œå…¶ä¸­å¯¹åƒåœ¾å›æ”¶ç®—æ³•åšäº†åˆ†ç±»å’Œè®²è§£ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚</p><a id="more"></a><hr><h1 id="GCçš„ä¸‰ç§æ”¶é›†æ–¹æ³•"><a href="#GCçš„ä¸‰ç§æ”¶é›†æ–¹æ³•" class="headerlink" title="GCçš„ä¸‰ç§æ”¶é›†æ–¹æ³•"></a>GCçš„ä¸‰ç§æ”¶é›†æ–¹æ³•</h1><h2 id="æ ‡è®°æ¸…é™¤"><a href="#æ ‡è®°æ¸…é™¤" class="headerlink" title="æ ‡è®°æ¸…é™¤"></a>æ ‡è®°æ¸…é™¤</h2><p>æ ‡è®°æ¸…é™¤ç®—æ³•æ˜¯æœ€åŸºç¡€çš„æ”¶é›†ç®—æ³•ï¼Œå…¶ä»–æ”¶é›†ç®—æ³•éƒ½æ˜¯åŸºäºè¿™ç§æ€æƒ³ã€‚</p><p>æ ‡è®°æ¸…é™¤ç®—æ³•åˆ†ä¸ºâ€œæ ‡è®°â€å’Œâ€œæ¸…é™¤â€ä¸¤ä¸ªé˜¶æ®µï¼šé¦–å…ˆæ ‡è®°å‡ºéœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œæ ‡è®°å®Œæˆä¹‹åç»Ÿä¸€æ¸…é™¤å¯¹è±¡ã€‚</p><p><img src="https://foreti.me/imgplace/2019/vern%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4%E7%AE%97%E6%B3%95.jpg" alt="vernæ ‡è®°æ¸…é™¤ç®—æ³•"></p><p>ä¸»è¦ç¼ºç‚¹ï¼š</p><ol><li>æ•ˆç‡é—®é¢˜ï¼Œæ ‡è®°å’Œæ¸…é™¤è¿‡ç¨‹æ•ˆç‡ä¸é«˜ ã€‚</li><li>ç©ºé—´é—®é¢˜ï¼Œæ ‡è®°æ¸…é™¤ä¹‹åä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡ã€‚</li></ol><h2 id="æ ‡è®°æ•´ç†"><a href="#æ ‡è®°æ•´ç†" class="headerlink" title="æ ‡è®°æ•´ç†"></a>æ ‡è®°æ•´ç†</h2><p>æ ‡è®°æ•´ç†ï¼Œä¸»è¦ç”¨äºå›æ”¶è€å¹´ä»£ã€‚</p><p>æ ‡è®°æ“ä½œå’Œâ€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•ä¸€è‡´ï¼Œåç»­æ“ä½œä¸åªæ˜¯ç›´æ¥æ¸…ç†å¯¹è±¡ï¼Œè€Œæ˜¯åœ¨æ¸…ç†æ— ç”¨å¯¹è±¡å®Œæˆåè®©æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œå¹¶æ›´æ–°å¼•ç”¨å…¶å¯¹è±¡çš„æŒ‡é’ˆã€‚</p><p><img src="https://foreti.me/imgplace/2019/vern%E6%A0%87%E8%AE%B0%E6%95%B4%E7%90%86%E7%AE%97%E6%B3%95.jpg" alt="vernæ ‡è®°æ•´ç†ç®—æ³•"></p><p>ä¸»è¦ç¼ºç‚¹ï¼šåœ¨æ ‡è®°-æ¸…é™¤çš„åŸºç¡€ä¸Šè¿˜éœ€è¿›è¡Œå¯¹è±¡çš„ç§»åŠ¨ï¼Œæˆæœ¬ç›¸å¯¹è¾ƒé«˜ï¼Œå¥½å¤„åˆ™æ˜¯ä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚</p><h2 id="å¤åˆ¶ç®—æ³•"><a href="#å¤åˆ¶ç®—æ³•" class="headerlink" title="å¤åˆ¶ç®—æ³•"></a>å¤åˆ¶ç®—æ³•</h2><p>å¤åˆ¶ç®—æ³•ï¼Œä¸»è¦ç”¨äºå›æ”¶æ–°ç”Ÿä»£ã€‚</p><p>å®ƒå°†å¯ç”¨å†…å­˜å®¹é‡åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„ä¸€å—ã€‚å½“è¿™ä¸€å—ç”¨å®Œä¹‹åï¼Œå°±å°†è¿˜å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€å—ä¸Šé¢ï¼Œç„¶ååœ¨æŠŠå·²ä½¿ç”¨è¿‡çš„å†…å­˜ç©ºé—´ä¸€æ¬¡ç†æ‰ã€‚è¿™æ ·ä½¿å¾—æ¯æ¬¡éƒ½æ˜¯å¯¹å…¶ä¸­çš„ä¸€å—è¿›è¡Œå†…å­˜å›æ”¶ï¼Œä¸ä¼šäº§ç”Ÿç¢ç‰‡ç­‰æƒ…å†µï¼Œåªè¦ç§»åŠ¨å †è®¢çš„æŒ‡é’ˆï¼ŒæŒ‰é¡ºåºåˆ†é…å†…å­˜å³å¯ï¼Œå®ç°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆã€‚</p><p><img src="https://foreti.me/imgplace/2019/vern%E5%A4%8D%E5%88%B6%E7%AE%97%E6%B3%95.jpg" alt="vernå¤åˆ¶ç®—æ³•"></p><p>ä¸»è¦ç¼ºç‚¹ï¼šå†…å­˜ç¼©å°ä¸ºåŸæ¥çš„ä¸€åŠã€‚</p><h1 id="åˆ†ä»£çš„åƒåœ¾å›æ”¶ç­–ç•¥"><a href="#åˆ†ä»£çš„åƒåœ¾å›æ”¶ç­–ç•¥" class="headerlink" title="åˆ†ä»£çš„åƒåœ¾å›æ”¶ç­–ç•¥"></a>åˆ†ä»£çš„åƒåœ¾å›æ”¶ç­–ç•¥</h1><p>åˆ†ä»£çš„åƒåœ¾å›æ”¶ç­–ç•¥æ˜¯åŸºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼šä¸åŒçš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸ä¸€æ ·çš„ã€‚å› æ­¤ï¼Œä¸åŒç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡å¯ä»¥é‡‡å–ä¸åŒçš„å›æ”¶ç®—æ³•ï¼Œä»¥ä¾¿æé«˜å›æ”¶æ•ˆç‡ã€‚</p><h2 id="å¹´è½»ä»£ï¼ˆYoung-Generationï¼‰"><a href="#å¹´è½»ä»£ï¼ˆYoung-Generationï¼‰" class="headerlink" title="å¹´è½»ä»£ï¼ˆYoung Generationï¼‰"></a>å¹´è½»ä»£ï¼ˆYoung Generationï¼‰</h2><ul><li>æ‰€æœ‰æ–°ç”Ÿæˆçš„å¯¹è±¡é¦–å…ˆéƒ½æ˜¯æ”¾åœ¨å¹´è½»ä»£çš„ã€‚å¹´è½»ä»£çš„ç›®æ ‡å°±æ˜¯å°½å¯èƒ½å¿«é€Ÿçš„æ”¶é›†æ‰é‚£äº›ç”Ÿå‘½å‘¨æœŸçŸ­çš„å¯¹è±¡ã€‚</li><li>æ–°ç”Ÿä»£å†…å­˜æŒ‰ç…§8:1:1çš„æ¯”ä¾‹åˆ†ä¸ºä¸€ä¸ªedenåŒºå’Œä¸¤ä¸ªsurvivor(survivor0,survivor1)åŒºã€‚ä¸€ä¸ªEdenåŒºï¼Œä¸¤ä¸ª SurvivoråŒº(ä¸€èˆ¬è€Œè¨€)ã€‚å¤§éƒ¨åˆ†å¯¹è±¡åœ¨EdenåŒºä¸­ç”Ÿæˆã€‚<ul><li>å›æ”¶æ—¶å…ˆå°†edenåŒºå­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°ä¸€ä¸ªsurvivor0åŒºï¼Œç„¶åæ¸…ç©ºedenåŒºï¼›</li><li>å½“è¿™ä¸ªsurvivor0åŒºä¹Ÿå­˜æ”¾æ»¡äº†æ—¶ï¼Œåˆ™å°†edenåŒºå’Œsurvivor0åŒºå­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªsurvivor1åŒºï¼Œç„¶åæ¸…ç©ºedenå’Œè¿™ä¸ªsurvivor0åŒºï¼›</li><li>æ­¤æ—¶survivor0åŒºæ˜¯ç©ºçš„ï¼Œç„¶åå°†survivor0åŒºå’Œsurvivor1åŒºäº¤æ¢ï¼Œå³ä¿æŒsurvivor1åŒºä¸ºç©ºã€‚ </li><li>å¦‚æ­¤å¾€å¤å¾ªç¯ã€‚</li></ul></li><li>å½“survivor1åŒºä¸è¶³ä»¥å­˜æ”¾ edenå’Œsurvivor0çš„å­˜æ´»å¯¹è±¡æ—¶ï¼Œå°±å°†å­˜æ´»å¯¹è±¡ç›´æ¥å­˜æ”¾åˆ°è€å¹´ä»£ã€‚è‹¥æ˜¯è€å¹´ä»£ä¹Ÿæ»¡äº†å°±ä¼šè§¦å‘ä¸€æ¬¡Full GCï¼Œä¹Ÿå°±æ˜¯æ–°ç”Ÿä»£ã€è€å¹´ä»£éƒ½è¿›è¡Œå›æ”¶</li><li>æ–°ç”Ÿä»£å‘ç”Ÿçš„GCä¹Ÿå«åšMinor GCï¼ŒMinorGCå‘ç”Ÿé¢‘ç‡æ¯”è¾ƒé«˜(ä¸ä¸€å®šç­‰EdenåŒºæ»¡äº†æ‰è§¦å‘)</li></ul><h2 id="å¹´è€ä»£ï¼ˆOld-Generationï¼‰"><a href="#å¹´è€ä»£ï¼ˆOld-Generationï¼‰" class="headerlink" title="å¹´è€ä»£ï¼ˆOld Generationï¼‰"></a>å¹´è€ä»£ï¼ˆOld Generationï¼‰</h2><ul><li>åœ¨å¹´è½»ä»£ä¸­ç»å†äº†Næ¬¡åƒåœ¾å›æ”¶åä»ç„¶å­˜æ´»çš„å¯¹è±¡ï¼Œå°±ä¼šè¢«æ”¾åˆ°å¹´è€ä»£ä¸­ã€‚å› æ­¤ï¼Œå¯ä»¥è®¤ä¸ºå¹´è€ä»£ä¸­å­˜æ”¾çš„éƒ½æ˜¯ä¸€äº›ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡ã€‚</li><li>å†…å­˜æ¯”æ–°ç”Ÿä»£ä¹Ÿå¤§å¾ˆå¤š(å¤§æ¦‚æ¯”ä¾‹æ˜¯1:2)ï¼Œå½“è€å¹´ä»£å†…å­˜æ»¡æ—¶è§¦å‘Major GCå³Full GCï¼ŒFull GCå‘ç”Ÿé¢‘ç‡æ¯”è¾ƒä½ï¼Œè€å¹´ä»£å¯¹è±¡å­˜æ´»æ—¶é—´æ¯”è¾ƒé•¿ï¼Œå­˜æ´»ç‡æ ‡è®°é«˜ã€‚</li></ul><h2 id="æŒä¹…ä»£ï¼ˆPermanent-Generationï¼‰"><a href="#æŒä¹…ä»£ï¼ˆPermanent-Generationï¼‰" class="headerlink" title="æŒä¹…ä»£ï¼ˆPermanent Generationï¼‰"></a>æŒä¹…ä»£ï¼ˆPermanent Generationï¼‰</h2><p>ç”¨äºå­˜æ”¾é™æ€æ–‡ä»¶ï¼Œå¦‚Javaç±»ã€æ–¹æ³•ç­‰ã€‚æŒä¹…ä»£å¯¹åƒåœ¾å›æ”¶æ²¡æœ‰æ˜¾è‘—å½±å“ï¼Œä½†æ˜¯æœ‰äº›åº”ç”¨å¯èƒ½åŠ¨æ€ç”Ÿæˆæˆ–è€…è°ƒç”¨ä¸€äº›classï¼Œä¾‹å¦‚Hibernate ç­‰ï¼Œåœ¨è¿™ç§æ—¶å€™éœ€è¦è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æŒä¹…ä»£ç©ºé—´æ¥å­˜æ”¾è¿™äº›è¿è¡Œè¿‡ç¨‹ä¸­æ–°å¢çš„ç±»ã€‚</p><blockquote><p>Oracle JDK8çš„HotSpot VMå»æ‰â€œæŒä¹…ä»£â€ï¼Œä»¥â€œå…ƒæ•°æ®åŒºâ€ï¼ˆMetaspaceï¼‰æ›¿ä»£ä¹‹ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘åœ¨çœ‹ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ä¸€ä¹¦ï¼Œå…¶ä¸­å¯¹åƒåœ¾å›æ”¶ç®—æ³•åšäº†åˆ†ç±»å’Œè®²è§£ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="gc" scheme="https://foreti.me/blog/tags/gc/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•æ‹¿åˆ°å¤§å‚çš„æ·±åº¦å­¦ä¹ offer</title>
    <link href="https://foreti.me/blog/2017/12/24/graduates-deeplearning-offer-2018/"/>
    <id>https://foreti.me/blog/2017/12/24/graduates-deeplearning-offer-2018/</id>
    <published>2017-12-24T04:40:33.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ·±åº¦å­¦ä¹ æ–¹å‘ï¼Œåº”å±Šç¡•å£«æ¯•ä¸šç”Ÿå¦‚ä½•æ‹¿åˆ°çŸ¥åäº’è”ç½‘å…¬å¸æ·±åº¦å­¦ä¹  offer?</p><a id="more"></a><hr><p>è½¬å‘è‡ªçŸ¥ä¹ï¼Œ<a href="https://www.zhihu.com/question/59683332/answer/281642849" target="_blank" rel="noopener">åŸç­”æ¡ˆ</a> </p><p>by <strong>ç†Šé£</strong>å­¦é•¿ ï¼ˆæ²¡ç½²åè¢«äººè¯¯è®¤ä»¤æˆ‘æ„Ÿåˆ°æƒ¶æ=,=ï¼‰</p><p>æœ€è¿‘æŠ•äº†ä¸€å †æœºå™¨å­¦ä¹ /æ·±åº¦å­¦ä¹ /è®¡ç®—æœºè§†è§‰æ–¹å‘çš„å…¬å¸ï¼Œåˆ†äº«ä¸€ä¸‹è‡ªå·±çš„ç»éªŒï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ã€‚</p><p>ä¸ªäººèƒŒæ™¯ï¼š åç§‘æœ¬ç§‘ + æ¸¯ç§‘å¤§ç¡•å£«ï¼ˆMPhilï¼‰</p><p>æ‹¿åˆ°çš„offeræœ‰è…¾è®¯ä¼˜å›¾ï¼Œé˜¿é‡ŒAI labï¼Œä»Šæ—¥å¤´æ¡ï¼Œæ»´æ»´ç ”ç©¶é™¢ï¼Œå•†æ±¤ç§‘æŠ€ï¼Œæ—·è§†ï¼ˆface++ï¼‰ï¼Œå¤§ç–†ï¼Œå¿«æ‰‹ã€‚ç»å¤§éƒ¨åˆ†æ˜¯sspï¼ˆsuper specialï¼‰ï¼Œç»™åˆ°äº†æ™®é€šç¡•å£«èƒ½ç»™åˆ°çš„æœ€é«˜æ¡£ï¼Œä¾‹å¦‚æ»´æ»´çš„offeræ˜¯æ»´æ»´æ–°é”ï¼Œè…¾è®¯çš„offeræ˜¯æŠ€æœ¯å¤§å’–ç­‰ç­‰ã€‚è¿™äº›offerå¤§éƒ¨åˆ†å¾…é‡åœ¨40W-50Wä¹‹é—´ï¼Œä¸ªåˆ«å…¬å¸ç®—ä¸ŠæœŸæƒèƒ½åˆ°60W</p><h2 id="å†™åœ¨å‰é¢çš„è¯"><a href="#å†™åœ¨å‰é¢çš„è¯" class="headerlink" title="å†™åœ¨å‰é¢çš„è¯"></a>å†™åœ¨å‰é¢çš„è¯</h2><p>è¿™ä¸ªå›ç­”çš„é€‚ç”¨å¯¹è±¡ä¸»è¦è¿˜æ˜¯æœ¬ç§‘å’Œç¡•å£«ã€‚PhDæ‰¾å·¥ä½œçš„å¥—è·¯è·Ÿç¡•å£«è¿˜æ˜¯å¾ˆä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå›ç­”çš„ç»éªŒå¯¹äºæ‰‹æ¡å‡ ç¯‡ä¸€ä½œé¡¶ä¼šçš„PhDå¤§ç¥å¹¶æ²¡å•¥å‚è€ƒæ„ä¹‰ã€‚</p><p>æˆ‘ä¹Ÿå’Œæˆ‘ä»¬å®éªŒå®¤å‡ ä¸ªæ‰¾å·¥ä½œçš„PhDå­¦é•¿å­¦å§èŠè¿‡ï¼Œä»–ä»¬çš„é¢è¯•ä¸»è¦æ˜¯è®²è‡ªå·±çš„researchï¼Œæœ‰çš„ç”šè‡³å°±æ˜¯å»å…¬å¸ç»™ä¸ªtalkï¼Œè·Ÿæœ¬ç§‘ç¡•å£«çš„æ ¡æ‹›æµç¨‹å®Œå…¨ä¸åŒã€‚ç°åœ¨ä¹Ÿæ˜¯AIæ–¹å‘PhDçš„é»„é‡‘æ—¶ä»£ï¼Œæ²¡æ¯•ä¸šå°±è¢«å„å¤§å…¬å¸ä¸»åŠ¨è”ç³»ï¼Œå¾…é‡ä¹Ÿæ¯”æˆ‘è¿™ç§ç¡•å£«é«˜å¾ˆå¤šå¾ˆå¤šã€‚</p><h2 id="ä¸€-æ•´ä½“å»ºè®®"><a href="#ä¸€-æ•´ä½“å»ºè®®" class="headerlink" title="ä¸€.  æ•´ä½“å»ºè®®"></a>ä¸€.  æ•´ä½“å»ºè®®</h2><p>ä¸€å®šè¦æ‰¾å†…æ¨ã€‚å†…æ¨ä¸€èˆ¬æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§åŠ›åº¦æ¯”è¾ƒå¼±ï¼Œåœ¨å…¬å¸çš„å†…æ¨ç³»ç»Ÿä¸Šå¡«ä¸€ä¸‹ä½ çš„åå­—ï¼ŒåŠ å¿«ä¸€ä¸‹æ‹›è˜æµç¨‹ï¼›ç¬¬äºŒç§åŠ›åº¦æ¯”è¾ƒå¼ºï¼Œç›´æ¥æŠŠç®€å†é€åˆ°éƒ¨é—¨è´Ÿè´£äººæ‰‹ä¸Šã€‚ä¸ªäººæ¯”è¾ƒå»ºè®®ç¬¬äºŒç§ï¼Œä¼šçœäº‹å¾ˆå¤šã€‚</p><p>åŸå› å¦‚ä¸‹ï¼š</p><p>ï¼ˆ1ï¼‰ç°åœ¨åšæœºå™¨å­¦ä¹ çš„äººå®åœ¨å¤ªå¤šäº†ï¼Œåœ¨ä¸æ‰¾å†…æ¨çš„æƒ…å†µä¸‹ï¼Œæµç¨‹ä¼šç‰¹åˆ«ç‰¹åˆ«æ…¢ã€‚å³ä½¿ä½ çš„ç®€å†æ¯”è¾ƒä¼˜ç§€ï¼Œä¹Ÿå¯èƒ½æ·¹æ²¡åœ¨èŒ«èŒ«å¤§æµ·ä¸­ï¼Œä¸ä¸€å®šèƒ½è¢«æ‡‚è¡Œçš„äººçœ‹åˆ°ã€‚</p><p>ï¼ˆ2ï¼‰ç°åœ¨å¾ˆå¤šå…¬å¸çš„ç¬”è¯•å…¶å®æŒºæœ‰éš¾åº¦çš„ï¼Œå°±ç®—æ˜¯å¤§ç¥ä¹Ÿæœ‰ç¿»è½¦çš„å¯èƒ½æ€§ã€‚</p><p>ï¼ˆ3ï¼‰å¯¹äºå¤§å…¬å¸è€Œè¨€ï¼Œå³ä½¿é€šè¿‡äº†ç®€å†ç­›é€‰ã€ç¬”è¯•é‚£ä¸€å…³ï¼Œä½ ä¹Ÿå¾ˆéš¾ä¿è¯ä½ çš„ç®€å†è¢«åˆé€‚çš„éƒ¨é—¨æŒ‘ä¸­ã€‚å¾ˆå¯èƒ½è¿‡å…³æ–©å°†åï¼Œå‘ç°ç»™ä½ å®‰æ’çš„é¢è¯•å®˜å¹¶ä¸æ˜¯å¤ªå¯¹å£ã€‚å°¤å…¶æ˜¯æ·±åº¦å­¦ä¹ è¿™æ ·æ¯”è¾ƒæ–°çš„é¢†åŸŸï¼Œä¸€èˆ¬éƒ¨é—¨çš„é¢è¯•å®˜å¤šåŠä¹Ÿæ˜¯è¿‘æœŸè‡ªå­¦çš„ï¼Œå¯¹è¿™ä¸ªä¹Ÿæ˜¯ä¸€çŸ¥åŠè§£ã€‚æ‰€ä»¥å¦‚æœæ˜¯æƒ³å»BATè¿™äº›å¤§å…¬å¸é‡Œé¢ä¸“é—¨åšAIçš„éƒ¨é—¨ï¼ŒæŒ‰ç…§æ­£å¸¸æ ¡æ‹›æµç¨‹èµ°æ˜¯ä¸åˆé€‚çš„ï¼Œä¸€å®šè¦æ‰¾åˆ°é‚£äº›éƒ¨é—¨çš„å‘˜å·¥å†…æ¨ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå¦‚æœæ˜¯è·ªåœ¨ç®€å†ç­›é€‰ã€ç¬”è¯•è¿™äº›ä¸Šé¢ï¼Œè¿é¢è¯•å®˜éƒ½æ²¡è§åˆ°ï¼Œå°±å®åœ¨å¤ªå¯æƒœäº†ã€‚ä¸ºäº†é¿å…è¿™ä¸€ç‚¹ï¼Œè¯·è®¤çœŸæ‰¾å†…æ¨ã€‚æœ€å¥½èƒ½è”ç³»åˆ°ä½ æƒ³å»çš„å…¬å¸éƒ¨é—¨é‡Œçš„è´Ÿè´£äººï¼Œç›´æ¥å®‰æ’é¢è¯•ã€‚</p><h2 id="äºŒ-é¢è¯•ç»éªŒ"><a href="#äºŒ-é¢è¯•ç»éªŒ" class="headerlink" title="äºŒ. é¢è¯•ç»éªŒ"></a>äºŒ. é¢è¯•ç»éªŒ</h2><p>é¢è¯•é‡åˆ°çš„é¢˜ç›®ï¼Œå¯ä»¥åˆ†ä¸ºå‡ ä¸ªå¤§ç±»ï¼š</p><h3 id="ï¼ˆ1ï¼‰ä»£ç é¢˜ï¼ˆleetcodeç±»å‹ï¼‰"><a href="#ï¼ˆ1ï¼‰ä»£ç é¢˜ï¼ˆleetcodeç±»å‹ï¼‰" class="headerlink" title="ï¼ˆ1ï¼‰ä»£ç é¢˜ï¼ˆleetcodeç±»å‹ï¼‰"></a>ï¼ˆ1ï¼‰ä»£ç é¢˜ï¼ˆleetcodeç±»å‹ï¼‰</h3><p>ä¸»è¦è€ƒå¯Ÿæ•°æ®ç»“æ„å’ŒåŸºç¡€ç®—æ³•ï¼Œä»¥åŠä»£ç åŸºæœ¬åŠŸã€‚</p><p>è™½ç„¶è¿™éƒ¨åˆ†è·Ÿæœºå™¨å­¦ä¹ ï¼Œæ·±åº¦å­¦ä¹ å…³ç³»ä¸å¤§ï¼Œä½†ä¹Ÿæ˜¯é¢è¯•çš„é‡ä¸­ä¹‹é‡ã€‚åŸºæœ¬æ¯å®¶å…¬å¸çš„é¢è¯•éƒ½é—®äº†å¤§é‡çš„ç®—æ³•é¢˜å’Œä»£ç é¢˜ï¼Œå³ä½¿æ˜¯å•†æ±¤ã€face++è¿™æ ·çš„æ·±åº¦å­¦ä¹ å…¬å¸ï¼Œè€ƒå¯Ÿè¿™éƒ¨åˆ†çš„æ—¶é—´ä¹Ÿå åˆ°äº†æˆ‘å¾ˆå¤šè½®é¢è¯•çš„60%ç”šè‡³70%ä»¥ä¸Šã€‚æˆ‘å»face++é¢è¯•çš„æ—¶å€™ï¼Œé¢è¯•å®˜æ˜¯residual netï¼Œshuffle netçš„ä½œè€…ï¼›ä½†ä»–ä»¬çš„é¢è¯•ä¸­ï¼Œå†™ä»£ç é¢˜ä¾æ—§æ˜¯ä¸»è¦çš„éƒ¨åˆ†ã€‚</p><p>å¤§éƒ¨åˆ†é¢˜ç›®éƒ½ä¸éš¾ï¼ŒåŸºæœ¬æ˜¯leetcode mediumçš„éš¾åº¦ã€‚ä½†æ˜¯è¦æ±‚åœ¨ç°åœºç™½æ¿ç¼–ç¨‹ï¼Œæ€è·¯è¦æµç•…ï¼Œèƒ½åšåˆ°ä¸€æ¬¡æ€§Bug-free.  å¹¶ä¸”ï¼Œä¸€èˆ¬éƒ½æ˜¯è¦ç»™å‡ºæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦æœ€ä¼˜çš„åšæ³•ã€‚å¯¹äºå°‘æ•°éš¾åº¦å¾ˆå¤§çš„é¢˜ï¼Œä¹Ÿä¸è¦æ…Œå¼ ã€‚ä¸€èˆ¬ä¹Ÿä¸ä¼šä¸€ç‚¹æ€è·¯ä¹Ÿæ²¡æœ‰ï¼Œå°½åŠ›ç»™é¢è¯•å®˜å±•ç°è‡ªå·±çš„æ€è€ƒè¿‡ç¨‹ã€‚é¢è¯•å®˜ä¹Ÿä¼šå¼•å¯¼ä½ ï¼Œç»™ä¸€ç‚¹å°æç¤ºï¼Œæ²¿ç€æç¤ºæŠŠé¢˜ç›®æ…¢æ…¢åšå‡ºæ¥ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡é¢è¯•çš„ã€‚</p><p>ä»¥ä¸‹æ˜¯æˆ‘æ‰€é‡åˆ°çš„ä¸€äº›éœ€è¦å½“åœºå†™å‡ºå®Œæ•´ä»£ç çš„é¢˜ç›®ï¼š</p><p>  <1> äºŒåˆ†æŸ¥æ‰¾ã€‚åˆ†åˆ«å®ç°C++ä¸­çš„lower_boundå’Œupper_bound.    </1></p><p>  <2> æ’åºã€‚ æ‰‹å†™å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºï¼Œå †æ’åºéƒ½è¢«é—®åˆ°è¿‡ã€‚  </2></p><p>  <3> ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚è¿™ä¸ªæ•°ç»„çš„æœ€å¤§å­æ®µç§¯  </3></p><p>  æ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(n)  </p><p>  <4> ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸­æ‰¾å‡ºä¸é‡åˆçš„ä¸¤æ®µï¼Œè®©è¿™ä¸¤æ®µçš„å­—æ®µå’Œçš„å·®çš„ç»å¯¹å€¼æœ€å¤§ã€‚  </4></p><p>  æ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(n)  </p><p>  <5> ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚ä¸€ä¸ªkå€¼ï¼Œä½¿å¾—å‰kä¸ªæ•°çš„æ–¹å·® + åé¢n-kä¸ªæ•°çš„æ–¹å·®æœ€å°  </5></p><p>  æ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(n)  </p><p>  <6> ç»™ä½ ä¸€ä¸ªåªç”±0å’Œ1ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæ‰¾ä¸€ä¸ªæœ€é•¿çš„å­ä¸²ï¼Œè¦æ±‚è¿™ä¸ªå­ä¸²é‡Œé¢0å’Œ1çš„æ•°ç›®ç›¸ç­‰ã€‚  </6></p><p>  æ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(n)  </p><p>  <7> ç»™ä½ ä¸€ä¸ªæ•°ç»„ä»¥åŠä¸€ä¸ªæ•°Kï¼Œ ä»è¿™ä¸ªæ•°ç»„é‡Œé¢é€‰æ‹©ä¸‰ä¸ªæ•°ï¼Œä½¿å¾—ä¸‰ä¸ªæ•°çš„å’Œå°äºç­‰äºKï¼Œ é—®æœ‰å¤šå°‘ç§é€‰æ‹©çš„æ–¹æ³•ï¼Ÿ  </7></p><p>  æ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(n^2)  </p><p>  <8> ç»™ä½ ä¸€ä¸ªåªç”±0å’Œ1ç»„æˆçš„çŸ©é˜µï¼Œæ‰¾å‡ºä¸€ä¸ªæœ€å¤§çš„å­çŸ©é˜µï¼Œè¦æ±‚è¿™ä¸ªå­çŸ©é˜µæ˜¯æ–¹é˜µï¼Œå¹¶ä¸”è¿™ä¸ªå­çŸ©é˜µçš„æ‰€æœ‰å…ƒç´ ä¸º1  </8></p><p>  æ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(n^2)  </p><p>  <9> æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²  </9></p><p>  æ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(n) (Manacherç®—æ³•)  </p><p>  <10> åœ¨ä¸€ä¸ªæ•°è½´ä¸Šç§»åŠ¨ï¼Œåˆå§‹åœ¨0ç‚¹ï¼Œç°åœ¨è¦åˆ°ç»™å®šçš„æŸä¸€ä¸ªxç‚¹ï¼Œ æ¯ä¸€æ­¥æœ‰ä¸‰ç§é€‰æ‹©ï¼Œåæ ‡åŠ 1ï¼Œåæ ‡å‡1ï¼Œåæ ‡ä¹˜ä»¥2ï¼Œè¯·é—®æœ€å°‘éœ€è¦å¤šå°‘æ­¥ä»0ç‚¹åˆ°xç‚¹ã€‚   </10></p><p>  <11> ç»™ä½ ä¸€ä¸ªé›†åˆï¼Œè¾“å‡ºè¿™ä¸ªé›†åˆçš„æ‰€æœ‰å­é›†ã€‚  </11></p><p>  <12> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œä»¥åŠä¸€ä¸ªkå€¼ï¼ˆk &lt; n) æ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­æ¯kä¸ªç›¸é‚»å…ƒç´ é‡Œé¢çš„æœ€å¤§å€¼ã€‚å…¶å®ä¹Ÿå°±æ˜¯ä¸€ä¸ªä¸€ç»´çš„max pooling  </12></p><p>  æ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(n)   </p><p>  <13> å†™ä¸€ä¸ªç¨‹åºï¼Œåœ¨å•ä½çƒé¢ä¸Šéšæœºå–ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¿è¯éšæœºå–åˆ°çš„ç‚¹æ˜¯å‡åŒ€çš„ã€‚  </13></p><p>  <14> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²sï¼Œä»¥åŠmä¸ªçŸ­ä¸²ï¼ˆæ¯ä¸ªçŸ­ä¸²çš„é•¿åº¦å°äº10ï¼‰ï¼Œ æ¯ä¸ªå­—ç¬¦ä¸²éƒ½æ˜¯åŸºå› åºåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´åªå«æœ‰A,T,C,Gè¿™å››ä¸ªå­—æ¯ã€‚åœ¨å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºæ‰€æœ‰å¯ä»¥å’Œä»»ä½•ä¸€ä¸ªçŸ­ä¸²æ¨¡ç³ŠåŒ¹é…çš„å­ä¸²ã€‚æ¨¡ç³ŠåŒ¹é…çš„å®šä¹‰ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ç›¸ç­‰ï¼Œå¹¶ä¸”è‡³å¤šæœ‰ä¸¤ä¸ªå­—ç¬¦ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¯´è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯æ¨¡ç³ŠåŒ¹é…çš„ã€‚  </14></p><p>  <15> å…¶å®ƒä¸€äº›æè¿°å¾ˆå¤æ‚çš„é¢˜è¿™é‡Œå°±ä¸åˆ—äº†ã€‚</15></p><h3 id="ï¼ˆ2ï¼‰æ•°å­¦é¢˜æˆ–è€…â€æ™ºåŠ›â€é¢˜"><a href="#ï¼ˆ2ï¼‰æ•°å­¦é¢˜æˆ–è€…â€æ™ºåŠ›â€é¢˜" class="headerlink" title="ï¼ˆ2ï¼‰æ•°å­¦é¢˜æˆ–è€…â€æ™ºåŠ›â€é¢˜"></a>ï¼ˆ2ï¼‰æ•°å­¦é¢˜æˆ–è€…â€æ™ºåŠ›â€é¢˜</h3><p>ä¸ä¼šæ¶‰åŠç‰¹åˆ«é«˜æ·±çš„æ•°å­¦çŸ¥è¯†ï¼Œä¸€èˆ¬å°±æ˜¯å·¥ç§‘æ•°å­¦ï¼ˆå¾®ç§¯åˆ†ï¼Œæ¦‚ç‡è®ºï¼Œçº¿æ€§ä»£æ•°ï¼‰å’Œä¸€äº›ç»„åˆæ•°å­¦çš„é—®é¢˜ã€‚</p><p>ä¸‹é¢æ˜¯æˆ‘åœ¨é¢è¯•ä¸­è¢«é—®åˆ°è¿‡çš„é—®é¢˜ï¼š</p><p>  <1> å¦‚æœä¸€ä¸ªå¥³ç”Ÿè¯´å¥¹é›†é½äº†åäºŒä¸ªæ˜Ÿåº§çš„å‰ç”·å‹ï¼Œå¥¹å‰ç”·å‹æ•°é‡çš„æœŸæœ›æ˜¯å¤šå°‘ï¼Ÿ  </1></p><p>  psï¼šè¿™é“é¢˜åœ¨çŸ¥ä¹ä¸Šæœ‰å¹¿æ³›çš„è®¨è®ºï¼Œä½œä¸ºçŸ¥ä¹é‡åº¦ç”¨æˆ·æˆ‘ä¹Ÿçœ‹åˆ°è¿‡ã€‚<a href="https://www.zhihu.com/question/38331955" target="_blank" rel="noopener">å¦‚æœä¸€ä¸ªå¥³ç”Ÿè¯´ï¼Œå¥¹é›†é½äº†åäºŒä¸ªæ˜Ÿåº§çš„å‰ç”·å‹ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•ä¼°è®¡å¥¹å‰ç”·å‹çš„æ•°é‡ï¼Ÿ</a>   </p><p>  <2> ä¸¤ä¸ªäººç©æ¸¸æˆã€‚æœ‰nå †çŸ³å¤´ï¼Œæ¯å †åˆ†åˆ«æœ‰a1, a2, a3â€¦. anä¸ªçŸ³å¤´ï¼Œæ¯æ¬¡ä¸€ä¸ªæ¸¸æˆè€…å¯ä»¥ä»ä»»æ„ä¸€å †çŸ³å¤´é‡Œæ‹¿èµ°è‡³å°‘ä¸€ä¸ªçŸ³å¤´ï¼Œä¹Ÿå¯ä»¥æ•´å †æ‹¿èµ°ï¼Œä½†ä¸èƒ½ä»å¤šå †çŸ³å¤´é‡Œé¢æ‹¿ã€‚æ— æ³•æ‹¿çŸ³å¤´çš„æ¸¸æˆè€…è¾“ï¼Œè¯·é—®è¿™ä¸ªæ¸¸æˆæ˜¯å¦æœ‰å…ˆæ‰‹å¿…èƒœæˆ–è€…åæ‰‹å¿…èƒœçš„ç­–ç•¥ï¼Ÿ å¦‚æœæœ‰ï¼Œè¯·è¯´å‡ºè¿™ä¸ªç­–ç•¥ï¼Œå¹¶è¯æ˜è¿™ä¸ªç­–ç•¥èƒ½ä¿è¯å¿…èƒœã€‚  </2></p><p>  <3> ä¸€ä¸ªä¸€ç»´æ•°è½´ï¼Œèµ·å§‹ç‚¹åœ¨åŸç‚¹ã€‚æ¯æ¬¡å‘å·¦æˆ–è€…å‘å³èµ°ä¸€æ­¥ï¼Œæ¦‚ç‡éƒ½æ˜¯0.5. è¯·é—®å›åˆ°åŸç‚¹çš„æ­¥æ•°æœŸæœ›æ˜¯å¤šå°‘ï¼Ÿ  </3></p><p>  <4> ä¸€æ¡é•¿åº¦ä¸º1çš„çº¿æ®µï¼Œéšæœºå‰ªä¸¤åˆ€ï¼Œæ±‚æœ‰ä¸€æ ¹å¤§äº0.5çš„æ¦‚ç‡ã€‚  </4></p><p>  <5> è®²ä¸€ä¸‹ä½ ç†è§£çš„çŸ©é˜µçš„ç§©ã€‚ä½ç§©çŸ©é˜µæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ åœ¨å›¾åƒå¤„ç†é¢†åŸŸï¼Œè¿™äº›ç‰¹ç‚¹æœ‰ä»€ä¹ˆåº”ç”¨ï¼Ÿ  </5></p><p>  <6> è®²ä¸€ä¸‹ä½ ç†è§£çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ã€‚  </6></p><p>  <7> ä¸ºä»€ä¹ˆè´Ÿæ¢¯åº¦æ–¹å‘æ˜¯ä½¿å‡½æ•°å€¼ä¸‹é™æœ€å¿«çš„æ–¹å‘ï¼Ÿç®€å•æ•°å­¦æ¨å¯¼ä¸€ä¸‹</7></p><h3 id="ï¼ˆ3ï¼‰æœºå™¨å­¦ä¹ åŸºç¡€"><a href="#ï¼ˆ3ï¼‰æœºå™¨å­¦ä¹ åŸºç¡€" class="headerlink" title="ï¼ˆ3ï¼‰æœºå™¨å­¦ä¹ åŸºç¡€"></a>ï¼ˆ3ï¼‰æœºå™¨å­¦ä¹ åŸºç¡€</h3><p>è¿™éƒ¨åˆ†å»ºè®®å‚è€ƒå‘¨å¿—åè€å¸ˆçš„ã€Šæœºå™¨å­¦ä¹ ã€‹ã€‚</p><p>ä¸‹é¢æ˜¯æˆ‘åœ¨é¢è¯•ä¸­è¢«é—®åˆ°è¿‡çš„é—®é¢˜ï¼š</p><p><a href="https://www.nowcoder.com/discuss/65323" target="_blank" rel="noopener">https://www.nowcoder.com/discuss/65323</a></p><p>  <1> é€»è¾‘å›å½’å’Œçº¿æ€§å›å½’å¯¹æ¯”æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ  </1></p><p>  <2> é€»è¾‘å›å½’å¯ä»¥å¤„ç†éçº¿æ€§é—®é¢˜å—ï¼Ÿ  </2></p><p>  <3> åˆ†ç±»é—®é¢˜æœ‰å“ªäº›è¯„ä»·æŒ‡æ ‡ï¼Ÿæ¯ç§çš„é€‚ç”¨åœºæ™¯ã€‚  </3></p><p>  <4> è®²ä¸€ä¸‹æ­£åˆ™åŒ–ï¼ŒL1å’ŒL2æ­£åˆ™åŒ–å„è‡ªçš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚  </4></p><p>  <5> è®²ä¸€ä¸‹å¸¸ç”¨çš„æŸå¤±å‡½æ•°ä»¥åŠå„è‡ªçš„é€‚ç”¨åœºæ™¯ã€‚  </5></p><p>  <6> è®²ä¸€ä¸‹å†³ç­–æ ‘å’Œéšæœºæ£®æ—  </6></p><p>  <7> è®²ä¸€ä¸‹GBDTçš„ç»†èŠ‚ï¼Œå†™å‡ºGBDTçš„ç›®æ ‡å‡½æ•°ã€‚ GBDTå’ŒAdaboostçš„åŒºåˆ«ä¸è”ç³»  </7></p><p>  <8> æ‰‹æ¨softmax losså…¬å¼  </8></p><p>  <9> è®²ä¸€ä¸‹SVM, SVMä¸LRæœ‰ä»€ä¹ˆè”ç³»ã€‚  </9></p><p>  <10>è®²ä¸€ä¸‹PCAçš„æ­¥éª¤ã€‚PCAå’ŒSVDçš„åŒºåˆ«å’Œè”ç³»  </10></p><p>  <11> è®²ä¸€ä¸‹ensemble  </11></p><p>  <12>  åå·®å’Œæ–¹å·®çš„åŒºåˆ«ã€‚ensembleçš„æ–¹æ³•ä¸­å“ªäº›æ˜¯é™ä½åå·®ï¼Œå“ªäº›æ˜¯é™ä½æ–¹å·®ï¼Ÿ  </12></p><p>  â€¦â€¦ </p><p>è¿™éƒ¨åˆ†é—®å¾—å¤ªçç¢äº†ï¼Œæˆ‘èƒ½è®°èµ·æ¥çš„é—®é¢˜å°±è¿™ä¹ˆå¤šäº†ã€‚æˆ‘çš„æ„Ÿè§‰ï¼Œè¿™éƒ¨åˆ†é—®é¢˜å¤§å¤šæ•°ä¸æ˜¯é—®å¾—å¾ˆæ·±ï¼Œæ‰€ä»¥ä¸è‡³äºè¢«é—®å¾—å“‘å£æ— è¨€ï¼Œæ€»æœ‰å¾—æ‰¯ï¼›ä½†æ˜¯è¦æƒ³ç»™å‡ºä¸€ä¸ªç‰¹åˆ«æ·±åˆ»çš„å›ç­”ï¼Œè¿˜æ˜¯éœ€è¦å¯¹æœºå™¨å­¦ä¹ çš„åŸºç¡€ç®—æ³•äº†è§£æ¯”è¾ƒé€å½»ã€‚</p><h3 id="ï¼ˆ4ï¼‰æ·±åº¦å­¦ä¹ åŸºç¡€"><a href="#ï¼ˆ4ï¼‰æ·±åº¦å­¦ä¹ åŸºç¡€" class="headerlink" title="ï¼ˆ4ï¼‰æ·±åº¦å­¦ä¹ åŸºç¡€"></a>ï¼ˆ4ï¼‰æ·±åº¦å­¦ä¹ åŸºç¡€</h3><p>è¿™éƒ¨åˆ†çš„å‡†å¤‡ï¼Œæˆ‘æ¨èèŠ±ä¹¦ï¼ˆBengioçš„Deep learningï¼‰å’Œ <a href="https://www.zhihu.com/people/b716bc76c2990cd06dae2f9c1f984e6d" target="_blank" rel="noopener">@é­ç§€å‚</a></p><p><a href="http://210.28.132.67/weixs/book/CNN_book.html" target="_blank" rel="noopener">ã€Šè§£æå·ç§¯ç¥ç»ç½‘ç»œ-æ·±åº¦å­¦ä¹ å®è·µæ‰‹å†Œã€‹</a></p><p>  <1> æ‰‹æ¨BP  </1></p><p>  <2> æ‰‹æ¨RNNå’ŒLSTMç»“æ„  </2></p><p>  <3> LSTMä¸­æ¯ä¸ªgateçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè·ŸRNNæ¯”èµ·æ¥ï¼ŒLSTMå¯ä»¥é˜²æ­¢æ¢¯åº¦æ¶ˆå¤±  </3></p><p>  <4> è®²ä¸€ä¸‹poolingçš„ä½œç”¨ï¼Œ ä¸ºä»€ä¹ˆmax poolingè¦æ›´å¸¸ç”¨ï¼Ÿå“ªäº›æƒ…å†µä¸‹ï¼Œaverage poolingæ¯”max poolingæ›´åˆé€‚ï¼Ÿ  </4></p><p>  <5> æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å“ªäº›è§£å†³æ–¹æ³•ï¼Ÿ  </5></p><p>  <6> CNNå’ŒRNNçš„æ¢¯åº¦æ¶ˆå¤±æ˜¯ä¸€æ ·çš„å—ï¼Ÿ  </6></p><p>  <6> æœ‰å“ªäº›é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•ï¼Ÿ  </6></p><p>  <7> è®²ä¸€ä¸‹æ¿€æ´»å‡½æ•°sigmoidï¼Œtanhï¼Œrelu. å„è‡ªçš„ä¼˜ç‚¹å’Œé€‚ç”¨åœºæ™¯ï¼Ÿ   </7></p><p>  <8> reluçš„è´ŸåŠè½´å¯¼æ•°éƒ½æ˜¯0ï¼Œè¿™éƒ¨åˆ†äº§ç”Ÿçš„æ¢¯åº¦æ¶ˆå¤±æ€ä¹ˆåŠï¼Ÿ  </8></p><p>  <9> batch sizeå¯¹æ”¶æ•›é€Ÿåº¦çš„å½±å“ã€‚  </9></p><p>  <10> è®²ä¸€ä¸‹batch normalization   </10></p><p>  <11> CNNåšå·ç§¯è¿ç®—çš„å¤æ‚åº¦ã€‚å¦‚æœä¸€ä¸ªCNNç½‘ç»œçš„è¾“å…¥channelæ•°ç›®å’Œå·ç§¯æ ¸æ•°ç›®éƒ½å‡åŠï¼Œæ€»çš„è®¡ç®—é‡å˜ä¸ºåŸæ¥çš„å¤šå°‘ï¼Ÿ  </11></p><p>  <12> è®²ä¸€ä¸‹AlexNetçš„å…·ä½“ç»“æ„ï¼Œæ¯å±‚çš„ä½œç”¨  </12></p><p>  <13> è®²ä¸€ä¸‹ä½ æ€ä¹ˆç†è§£dropoutï¼Œåˆ†åˆ«ä»baggingå’Œæ­£åˆ™åŒ–çš„è§’åº¦  </13></p><p>  <14> data augmentationæœ‰å“ªäº›æŠ€å·§ï¼Ÿ  </14></p><p>  <15> è®²ä¸€ä¸‹ä½ äº†è§£çš„ä¼˜åŒ–æ–¹æ³•ï¼Œsgd, momentum, rmsprop, adamçš„åŒºåˆ«å’Œè”ç³»  </15></p><p>  <16> å¦‚æœè®­ç»ƒçš„ç¥ç»ç½‘ç»œä¸æ”¶æ•›ï¼Œå¯èƒ½æœ‰å“ªäº›åŸå› ï¼Ÿ  </16></p><p>  <17> è¯´ä¸€ä¸‹ä½ ç†è§£çš„å·ç§¯æ ¸ï¼Œ 1x1çš„å·ç§¯æ ¸æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ  </17></p><p>  â€¦â€¦..  </p><p>  åŒä¸Šï¼Œè¿™éƒ¨åˆ†çš„å¾ˆå¤šé—®é¢˜ä¹Ÿæ˜¯æ¯ä¸ªäººéƒ½æˆ–å¤šæˆ–å°‘èƒ½å›ç­”ä¸€ç‚¹ï¼Œä½†è¦ç­”å¾—å¾ˆå¥½è¿˜æ˜¯éœ€è¦åŠŸåº•çš„ã€‚</p><h3 id="ï¼ˆ5ï¼‰ç§‘ç ”ä¸Šçš„å¼€æ”¾æ€§é—®é¢˜"><a href="#ï¼ˆ5ï¼‰ç§‘ç ”ä¸Šçš„å¼€æ”¾æ€§é—®é¢˜" class="headerlink" title="ï¼ˆ5ï¼‰ç§‘ç ”ä¸Šçš„å¼€æ”¾æ€§é—®é¢˜"></a>ï¼ˆ5ï¼‰ç§‘ç ”ä¸Šçš„å¼€æ”¾æ€§é—®é¢˜</h3><p>è¿™éƒ¨åˆ†çš„é—®é¢˜æ²¡æœ‰å›ºå®šç­”æ¡ˆï¼Œä¹Ÿæ²¡æ³•å¾ˆå¥½åœ°é’ˆå¯¹æ€§å‡†å¤‡ã€‚åŠŸåœ¨å¹³æ—¶ï¼Œå¤šè¯»paperå¤šæ€è€ƒï¼Œæ³¨æ„åŸ¹å…»è‡ªå·±çš„insightå’Œintuition</p><p>ä¸‹é¢æ˜¯æˆ‘åœ¨é¢è¯•ä¸­è¢«é—®åˆ°è¿‡çš„é—®é¢˜ï¼š</p><p>  <1> é€‰ä¸€ä¸ªè®¡ç®—æœºè§†è§‰ã€æ·±åº¦å­¦ä¹ ã€æœºå™¨å­¦ä¹ çš„å­é¢†åŸŸï¼Œè®²ä¸€ä¸‹è¿™ä¸ªé¢†åŸŸçš„å‘å±•è„‰ç»œï¼Œé‡ç‚¹è®²å‡ºå„ç§æ–°æ–¹æ³•æå‡ºæ—¶çš„motivationï¼Œä»¥åŠè°ˆè°ˆè¿™ä¸ªé¢†åŸŸä»¥åä¼šæ€ä¹ˆå‘å±•ã€‚  </1></p><p>  <2> è®²ä¸€ä¸‹ä½ æœ€è¿‘çœ‹çš„å°è±¡æ¯”è¾ƒæ·±çš„paper  </2></p><p>  <3> è®²ä¸€ä¸‹ç»å…¸çš„å‡ ç§ç½‘ç»œç»“æ„ï¼Œ AlexNetï¼Œ VGGï¼ŒGoogleNetï¼Œ Residual Netç­‰ç­‰ï¼Œå®ƒä»¬å„è‡ªæœ€é‡è¦çš„contribution  </3></p><p>  <4> ä½ çœ‹è¿‡æœ€è¿‘å¾ˆç«çš„XXX paperå—? ä½ å¯¹è¿™ä¸ªæœ‰ä»€ä¹ˆçœ‹æ³•ï¼Ÿ   </4></p><p>  â€¦â€¦   </p><h3 id="ï¼ˆ6ï¼‰-ç¼–ç¨‹è¯­è¨€ã€æ“ä½œç³»ç»Ÿç­‰æ–¹é¢çš„ä¸€äº›é—®é¢˜ã€‚"><a href="#ï¼ˆ6ï¼‰-ç¼–ç¨‹è¯­è¨€ã€æ“ä½œç³»ç»Ÿç­‰æ–¹é¢çš„ä¸€äº›é—®é¢˜ã€‚" class="headerlink" title="ï¼ˆ6ï¼‰ ç¼–ç¨‹è¯­è¨€ã€æ“ä½œç³»ç»Ÿç­‰æ–¹é¢çš„ä¸€äº›é—®é¢˜ã€‚"></a>ï¼ˆ6ï¼‰ ç¼–ç¨‹è¯­è¨€ã€æ“ä½œç³»ç»Ÿç­‰æ–¹é¢çš„ä¸€äº›é—®é¢˜ã€‚</h3><p>  C++ï¼Œ Pythonï¼Œ æ“ä½œç³»ç»Ÿï¼ŒLinuxå‘½ä»¤ç­‰ç­‰ã€‚è¿™éƒ¨åˆ†é—®å¾—æ¯”è¾ƒå°‘ï¼Œä½†è¿˜æ˜¯æœ‰çš„ï¼Œä¸å…·ä½“åˆ—äº†  </p><h3 id="ï¼ˆ7ï¼‰é’ˆå¯¹ç®€å†é‡Œé¡¹ç›®-è®ºæ–‡-å®ä¹ çš„ä¸€äº›é—®é¢˜ã€‚"><a href="#ï¼ˆ7ï¼‰é’ˆå¯¹ç®€å†é‡Œé¡¹ç›®-è®ºæ–‡-å®ä¹ çš„ä¸€äº›é—®é¢˜ã€‚" class="headerlink" title="ï¼ˆ7ï¼‰é’ˆå¯¹ç®€å†é‡Œé¡¹ç›®/è®ºæ–‡ / å®ä¹ çš„ä¸€äº›é—®é¢˜ã€‚"></a>ï¼ˆ7ï¼‰é’ˆå¯¹ç®€å†é‡Œé¡¹ç›®/è®ºæ–‡ / å®ä¹ çš„ä¸€äº›é—®é¢˜ã€‚</h3><p>è¿™éƒ¨åˆ†å› äººè€Œå¼‚ï¼Œæˆ‘ä¸ªäººçš„å¯¹å¤§å®¶ä¹Ÿæ²¡å‚è€ƒä»·å€¼ï¼Œä¹Ÿä¸åˆ—äº†ã€‚</p><h2 id="ä¸‰-å¹³æ—¶åº”è¯¥æ€ä¹ˆå‡†å¤‡"><a href="#ä¸‰-å¹³æ—¶åº”è¯¥æ€ä¹ˆå‡†å¤‡" class="headerlink" title="ä¸‰. å¹³æ—¶åº”è¯¥æ€ä¹ˆå‡†å¤‡"></a>ä¸‰. å¹³æ—¶åº”è¯¥æ€ä¹ˆå‡†å¤‡</h2><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ èƒ½æ‹¿åˆ°ä»€ä¹ˆæ ·çš„offerï¼Œå…¶å®å·²ç»è¢«ä½ çš„ç®€å†å†³å®šäº†ã€‚å¦‚æœå¹³æ—¶æ²¡æœ‰ç§¯ç´¯ç›¸å…³çš„ç»å†å’Œæˆæœï¼Œå¾ˆéš¾åªé é¢è¯•è¡¨ç°å°±æ‹¿åˆ°éå¸¸å¥½çš„offerã€‚æ‰€ä»¥å»ºè®®å¤§å®¶å¹³æ—¶ç§¯ç´¯ç®—æ³•å²—æ‰€çœ‹é‡çš„ä¸€äº›å¹²è´§ã€‚</p><p>ä¸‹é¢å‡ ç‚¹ç®—æ˜¯æ‰¾AIç›¸å…³å·¥ä½œçš„åŠ åˆ†é¡¹ï¼š</p><p>ï¼ˆ1ï¼‰ä¸€ä½œçš„é¡¶çº§ä¼šè®®è®ºæ–‡</p><p>ï¼ˆ2ï¼‰AIé¢†åŸŸçŸ¥åå…¬å¸çš„å®ä¹ ç»å†ï¼ˆé•¿æœŸå®ä¹ æ›´å¥½ï¼‰</p><p>ï¼ˆ3ï¼‰ç›¸å…³æ–¹å‘æœ‰å«é‡‘é‡çš„é¡¹ç›®ç»å†</p><p>ï¼ˆ4ï¼‰è®¡ç®—æœºè§†è§‰ç«èµ›ï¼Œæ•°æ®æŒ–æ˜ç«èµ›çš„è·å¥–æˆ–è€…ä¼˜ç§€åæ¬¡ã€‚ç°åœ¨è¿™ç±»ç«èµ›å¤ªå¤šäº†ï¼Œå°±ä¸å…·ä½“åˆ—äº†ã€‚</p><p>ï¼ˆ5ï¼‰ç¨‹åºè®¾è®¡ç«èµ›çš„è·å¥–ï¼ˆä¾‹å¦‚OI/ACM/topcoderä¹‹ç±»çš„ï¼‰</p><p>å½“ç„¶ï¼Œåæ ¡ã€é«˜GPAè¿™äº›æ˜¯é’ˆå¯¹æ‰€æœ‰é¢†åŸŸéƒ½æœ‰ç”¨çš„åŠ åˆ†é¡¹ï¼ŒåŒæ ·ä¹Ÿæ˜¯é€‚ç”¨äºè¿™ä¸ªé¢†åŸŸçš„ã€‚</p><p>æ‰€ä»¥æˆ‘çš„å»ºè®®å°±æ˜¯ï¼Œå¦‚æœè‡ªå·±æ‰€åœ¨çš„å®éªŒå®¤å¾ˆå‰å®³ï¼Œèµ„æºä¸°å¯Œï¼Œå°±ä¸“å¿ƒåšç§‘ç ”ï¼Œå‘paperï¼› å¦‚æœæ‰€åœ¨çš„å®éªŒå®¤ä¸€èˆ¬ï¼Œæ²¡æ³•äº§å‡ºç›¸å…³çš„ä¼˜ç§€æˆæœï¼Œå¯ä»¥è€ƒè™‘è‡ªå·±åšæ¯”èµ›å’Œæ‰¾å®ä¹ ã€‚æœ‰ä¸€ä»½çŸ¥åå…¬å¸çš„å®ä¹ ç»å†ä¹‹åï¼Œæ‰¾å·¥ä½œéš¾åº¦ä¼šä¸‹é™å¾ˆå¤šã€‚</p><p>æœ€åï¼Œç¥æœ‰å¿—äºAIè¿™ä¸ªé¢†åŸŸçš„äººéƒ½èƒ½æ‹¿åˆ°æ»¡æ„çš„offer.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨æ·±åº¦å­¦ä¹ æ–¹å‘ï¼Œåº”å±Šç¡•å£«æ¯•ä¸šç”Ÿå¦‚ä½•æ‹¿åˆ°çŸ¥åäº’è”ç½‘å…¬å¸æ·±åº¦å­¦ä¹  offer?&lt;/p&gt;
    
    </summary>
    
    
      <category term="deep learning" scheme="https://foreti.me/blog/tags/deep-learning/"/>
    
      <category term="offer" scheme="https://foreti.me/blog/tags/offer/"/>
    
  </entry>
  
  <entry>
    <title>cssè½®æ’­å›¾</title>
    <link href="https://foreti.me/blog/2017/09/13/css-slideshow/"/>
    <id>https://foreti.me/blog/2017/09/13/css-slideshow/</id>
    <published>2017-09-13T02:42:00.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»ä¸€ç§csså®ç°é¦–é¡µè½®æ’­å›¾æ•ˆæœçš„æ–¹æ³•ï¼Œä¸»è¦ç”¨css3çš„animationå±æ€§ã€‚</p><a id="more"></a><hr><p><strong> æœ¬æ–‡è½¬è‡ª<a href="https://zhuanlan.zhihu.com/p/25033131" target="_blank" rel="noopener">çŸ¥ä¹</a></strong></p><p>ç”±äºcssæ— æ³•åšåˆ°jsä¸€æ ·çš„ç²¾å‡†æ“æ§ï¼Œæ‰€æœ‰æŸäº›æ•ˆæœæ˜¯æ— æ³•å®ç°çš„ï¼Œæ¯”å¦‚åœ¨è½®æ’­çš„åŒæ—¶æ”¯æŒç”¨æˆ·å·¦å³æ»‘åŠ¨ï¼Œæ‰€ä»¥ä½¿ç”¨cssåªèƒ½å®ç°åŸºæœ¬çš„æ•ˆæœã€‚ä¸‹é¢åˆ—å‡ºæ¥çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬å®ç°çš„ï¼š</p><ol><li>åœ¨å›ºå®šåŒºåŸŸä¸­ï¼Œå†…éƒ¨å†…å®¹è‡ªè¡Œæ»‘åŠ¨åˆ‡æ¢å½¢æˆæ’­æ”¾çš„æ•ˆæœ</li><li>å½“åˆ‡æ¢åˆ°æœ€åä¸€å¼ å†…å®¹æ—¶ï¼Œä¼šåå‘æ’­æ”¾æˆ–è€…å›åˆ°èµ·ç‚¹é‡æ’­</li><li>æ¯å¼ å†…å®¹ä¼šåœç•™ä¸€æ®µæ—¶é—´ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿçœ‹æ¸…æ¥š</li><li>å†…å®¹å¯ä»¥ç‚¹å‡»/è¿›è¡Œæ“ä½œ</li></ol><h2 id="domç»“æ„æ­å»º"><a href="#domç»“æ„æ­å»º" class="headerlink" title="domç»“æ„æ­å»º"></a>domç»“æ„æ­å»º</h2><p>é¦–å…ˆè¦æœ‰ä¸€ä¸ªå®¹å™¨ä½œä¸ºè½®æ’­å›¾çš„å®¹å™¨ï¼ŒåŒæ—¶ç”±äºè¦å®ç°æ»‘åŠ¨åˆ‡æ¢ï¼Œæ‰€ä»¥å†…éƒ¨éœ€è¦æœ‰ä¸€ä¸ªè£…è½½æ‰€æœ‰å¾…åˆ‡æ¢å†…å®¹çš„å­å®¹å™¨</p><p>å¦‚æœå­å®¹å™¨ä¸­çš„å†…å®¹æ˜¯å·¦å³åˆ‡æ¢çš„ï¼Œåˆ™éœ€è¦å°†å†…å®¹å·¦å³æ’åˆ—å¼€</p><p>ä¸‹é¢ä»¥è½®æ’­å›¾ç‰‡ä¸ºä¾‹ï¼Œä¸Šä»£ç <br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loop-wrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loop-images-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"darksky.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"starsky.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"whiteland.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"darksky.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"starsky.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><code>.loop-wrap</code> æ˜¯ä¸»å®¹å™¨</p><p><code>.loop-images-container</code> æ˜¯æ‰¿è½½å†…éƒ¨å›¾ç‰‡çš„å­å®¹å™¨</p><p><code>.loop-image</code> æ˜¯å›¾ç‰‡å†…å®¹ï¼Œå¦‚æœéœ€è¦æ˜¾ç¤ºå…¶ä»–å†…å®¹ï¼Œå¯ä»¥è‡ªå®šä¹‰</p><h2 id="csså®ç°é™æ€æ•ˆæœ"><a href="#csså®ç°é™æ€æ•ˆæœ" class="headerlink" title="csså®ç°é™æ€æ•ˆæœ"></a>csså®ç°é™æ€æ•ˆæœ</h2><p>è½®æ’­å›¾å†…æ¯ä¸€é¡µå†…å®¹çš„å®½é«˜åº”è¯¥ç›¸åŒï¼Œä¸”ç­‰äºä¸»å®¹å™¨.loop-wrapå®½é«˜</p><p><code>.loop-images-container</code>çš„å®½é«˜å¿…ç„¶æœ‰ä¸€ä¸ªå¤§äºå¤–éƒ¨ä¸»å®¹å™¨ï¼Œ<code>overflow</code>å±æ€§åº”è¯¥è®¾ç½®ä¸º<code>hidden</code>ã€‚é‚£ä¸ºä»€ä¹ˆä¸è®¾ç½®ä¸º<code>auto</code>å‘¢ï¼Ÿæˆ‘ä¸å‘Šè¯‰ä½ ï¼Œä½ å¯ä»¥è‡ªå·±è¯•è¯•çœ‹<br>(è¿™é‡ŒåŸå› æ˜¯autoå±æ€§ä¼šåœ¨å†…å®¹è¶…å‡ºæ—¶è‡ªåŠ¨åŠ è½½å‡ºå®¹å™¨çš„ä¸‹æ‹‰æ¡)<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.loop-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.loop-images-container</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500%</span>; <span class="comment">/* æ¨ªå‘æ’åˆ— 5å¼ å›¾ç‰‡ å®½åº¦åº”ä¸ºä¸»å®¹å™¨5å€ */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.loop-image</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="csså®ç°è½®æ’­æ•ˆæœ"><a href="#csså®ç°è½®æ’­æ•ˆæœ" class="headerlink" title="csså®ç°è½®æ’­æ•ˆæœ"></a>csså®ç°è½®æ’­æ•ˆæœ</h2><p>è½®æ’­æ•ˆæœè¯´åˆ°åº•å°±æ˜¯ä¸€ä¸ªåŠ¨ç”»æ•ˆæœï¼Œè€Œé€šè¿‡css3çš„æ–°å±æ€§ <code>animation</code> æˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªåŠ¨ç”»æ¥è¾¾åˆ°è½®æ’­å›¾æ•ˆæœã€‚ä¸‹é¢å…ˆæ¥äº†è§£ä¸€ä¸‹ <code>animation</code> è¿™ä¸ªå±æ€§<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">animation: name duration timing-function delay iteration-count direction</span><br><span class="line"></span><br><span class="line">name: åŠ¨ç”»å</span><br><span class="line">durationï¼š åŠ¨ç”»æŒç»­æ—¶é—´ è®¾ç½®ä¸º0åˆ™ä¸æ‰§è¡Œ</span><br><span class="line">timing-functionï¼šåŠ¨ç”»é€Ÿåº¦æ›²çº¿</span><br><span class="line">delayï¼šåŠ¨ç”»å»¶è¿Ÿå¼€å§‹æ—¶é—´ è®¾ç½®ä¸º0åˆ™ä¸å»¶è¿Ÿ</span><br><span class="line">iteration-countï¼šåŠ¨ç”»å¾ªç¯æ¬¡æ•° è®¾ç½®ä¸ºinfiniteåˆ™æ— é™æ¬¡å¾ªç¯</span><br><span class="line">directionï¼šæ˜¯å¦åº”è¯¥è½®æµåå‘æ’­æ”¾åŠ¨ç”» normal å¦ alternate æ˜¯</span><br><span class="line">*/</span><br></pre></td></tr></table></figure></p><p><code>animation</code> çš„ <code>name</code> å€¼æ˜¯åŠ¨ç”»åï¼ŒåŠ¨ç”»åå¯ä»¥é€šè¿‡ <code>@keyframes</code> åˆ›å»ºè‡ªå®šä¹‰åŠ¨ç”»è§„åˆ™</p><h2 id="åˆ†æåŠ¨ç”»"><a href="#åˆ†æåŠ¨ç”»" class="headerlink" title="åˆ†æåŠ¨ç”»"></a>åˆ†æåŠ¨ç”»</h2><p>è¦å®ç°è½®æ’­ï¼Œæœ¬è´¨ä¸Šæ˜¯ä½¿å†…éƒ¨æ‰¿è½½å†…å®¹çš„å­å®¹å™¨ <code>.loop-images-container</code> è¿›è¡Œä½ç§»ï¼Œä»è€Œä½¿ä¸åŒä½ç½®çš„å†…å®¹ä¸€æ¬¡å±•ç¤ºåœ¨ç”¨æˆ·çœ¼å‰</p><p>å…±æœ‰äº”å¼ å›¾ç‰‡éœ€è¦å±•ç¤ºï¼Œå¦‚æœè½®æ’­æ€»è€—æ—¶10sï¼Œé‚£ä¹ˆæ¯å¼ å›¾ç‰‡åº”è¯¥æœ‰2sçš„æ—¶é—´(20%)ï¼Œè€Œæ¯å¼ å›¾ç‰‡è€—æ—¶çš„æ„æˆæ˜¯åˆ‡æ¢è€—æ—¶+å±•ç¤ºè€—æ—¶ï¼Œå¦‚æœåˆ‡æ¢è€—æ—¶500ms(5%)ï¼Œå±•ç¤ºè€—æ—¶å°±åº”è¯¥æ˜¯1500ms(15%)</p><p>äºæ˜¯è¿™æ ·æ”¹é€ css<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.loop-images-container</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>,<span class="number">0</span>); <span class="comment">/* åˆå§‹ä½ç½®ä½ç§» */</span></span><br><span class="line">    <span class="attribute">animation</span>: loop <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ›å»ºloopåŠ¨ç”»è§„åˆ™ */</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">   è½®æ’­5å¼ ï¼Œæ€»è€—æ—¶10sï¼Œå•å¼ åº”ä¸º2s(20%)</span></span><br><span class="line"><span class="comment">   å•å¼ åˆ‡æ¢åŠ¨ç”»è€—æ—¶500msï¼Œåœç•™1500ms</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">@keyframes</span> loop &#123;</span><br><span class="line">    0% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>,<span class="number">0</span>);&#125;</span><br><span class="line">    15% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>,<span class="number">0</span>);&#125; <span class="comment">/* åœç•™1500ms */</span></span><br><span class="line"></span><br><span class="line">    20% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">20%</span>,<span class="number">0</span>);&#125; <span class="comment">/* åˆ‡æ¢500ms ä½ç§»-20% */</span></span><br><span class="line">    35% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">20%</span>,<span class="number">0</span>);&#125;</span><br><span class="line"></span><br><span class="line">    40% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">40%</span>,<span class="number">0</span>);&#125;</span><br><span class="line">    55% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">40%</span>,<span class="number">0</span>);&#125;</span><br><span class="line"></span><br><span class="line">    60% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">60%</span>,<span class="number">0</span>);&#125;</span><br><span class="line">    75% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">60%</span>,<span class="number">0</span>);&#125;</span><br><span class="line"></span><br><span class="line">    80% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">80%</span>,<span class="number">0</span>);&#125;</span><br><span class="line">    95% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">80%</span>,<span class="number">0</span>);&#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>,<span class="number">0</span>);&#125; <span class="comment">/* å¤ä½åˆ°ç¬¬ä¸€å¼ å›¾ç‰‡ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ˜¯ä¸€ä¸ªæ–¹å‘çš„è½®æ’­æ•ˆæœï¼Œæƒ³è¦å®ç°å¾€è¿”æ–¹å‘çš„è½®æ’­æ•ˆæœï¼Œå°ä¼™ä¼´ä»¬å¯ä»¥è¯•è¯•<code>direction</code>çš„<code>alternate</code>ï¼Œä½†æ˜¯è‡ªå®šä¹‰åŠ¨ç”»è§„åˆ™çš„æ—¶é—´é—´éš”ä¹Ÿè¦é‡æ–°è®¡ç®—äº†å“¦ï¼</p><p>ä»¥ä¸‹æ˜¯æ‰€æœ‰ä»£ç ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.loop-wrap</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    width: 500px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    margin: 100px auto;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.loop-images-container</span>&#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0; top: 0;</span><br><span class="line"><span class="css">    <span class="selector-tag">width</span>: 500%; <span class="comment">/* æ¨ªå‘æ’åˆ— 5å¼ å›¾ç‰‡ å®½åº¦åº”ä¸ºä¸»å®¹å™¨5å€ */</span></span></span><br><span class="line">    height: 100%;</span><br><span class="line">    font-size: 0;</span><br><span class="line"><span class="css">    <span class="selector-tag">transform</span>: <span class="selector-tag">translate</span>(0,0); <span class="comment">/* åˆå§‹ä½ç½®ä½ç§» */</span></span></span><br><span class="line">    animation: loop 10s linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.loop-image</span>&#123;</span></span><br><span class="line">    width: 500px;</span><br><span class="line">    height: 300px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> loop &#123;</span></span><br><span class="line"><span class="css">    0% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>,<span class="number">0</span>);&#125;</span></span><br><span class="line"><span class="css">    15% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>,<span class="number">0</span>);&#125; <span class="comment">/* åœç•™1500ms */</span></span></span><br><span class="line"></span><br><span class="line"><span class="css">    20% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">20%</span>,<span class="number">0</span>);&#125; <span class="comment">/* åˆ‡æ¢500ms ä½ç§»-20% */</span></span></span><br><span class="line"><span class="css">    35% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">20%</span>,<span class="number">0</span>);&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="css">    40% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">40%</span>,<span class="number">0</span>);&#125;</span></span><br><span class="line"><span class="css">    55% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">40%</span>,<span class="number">0</span>);&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="css">    60% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">60%</span>,<span class="number">0</span>);&#125;</span></span><br><span class="line"><span class="css">    75% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">60%</span>,<span class="number">0</span>);&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="css">    80% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">80%</span>,<span class="number">0</span>);&#125;</span></span><br><span class="line"><span class="css">    95% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">80%</span>,<span class="number">0</span>);&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="css">    100% &#123;<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>,<span class="number">0</span>);&#125; <span class="comment">/* å¤ä½åˆ°ç¬¬ä¸€å¼ å›¾ç‰‡ */</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loop-wrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loop-images-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"loop-image"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è™½ç„¶cssä¹Ÿèƒ½å®ç°è½®æ’­æ•ˆæœï¼Œä½†æ˜¯ç›¸å¯¹äºjså®ç°æ¥è¯´ï¼ŒåŠŸèƒ½æ€§å°±å¼±äº†å¾ˆå¤šï¼Œæ— æ³•æ§åˆ¶æš‚åœä¸æ’­æ”¾ï¼Œæ— æ³•ä¸ç”¨æˆ·äº§ç”Ÿäº¤äº’ï¼Œæ— æ³•ç›‘å¬åˆ°çŠ¶æ€çš„è€Œå˜åŒ–ç­‰ç­‰ï¼Œä½†æ˜¯å¥½å¤„ä¹Ÿå¾ˆæ˜æ˜¾å˜›ï¼é‚£å°±æ˜¯ç®€å•ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä»‹ç»ä¸€ç§csså®ç°é¦–é¡µè½®æ’­å›¾æ•ˆæœçš„æ–¹æ³•ï¼Œä¸»è¦ç”¨css3çš„animationå±æ€§ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="css3" scheme="https://foreti.me/blog/tags/css3/"/>
    
      <category term="animation" scheme="https://foreti.me/blog/tags/animation/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡Offeråˆ·é¢˜</title>
    <link href="https://foreti.me/blog/2017/09/08/jianzhi-offer/"/>
    <id>https://foreti.me/blog/2017/09/08/jianzhi-offer/</id>
    <published>2017-09-08T06:43:33.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ·ä¸€ä¸‹ç®—æ³•é¢˜å§ã€‚</p><a id="more"></a><hr><h1 id="æ›¿æ¢ç©ºæ ¼"><a href="#æ›¿æ¢ç©ºæ ¼" class="headerlink" title="æ›¿æ¢ç©ºæ ¼"></a>æ›¿æ¢ç©ºæ ¼</h1><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼æ›¿æ¢æˆâ€œ%20â€ã€‚ä¾‹å¦‚ï¼Œå½“å­—ç¬¦ä¸²ä¸ºWe Are Happy.åˆ™ç»è¿‡æ›¿æ¢ä¹‹åçš„å­—ç¬¦ä¸²ä¸ºWe%20Are%20Happyã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°é—®é¢˜ç¬¬ä¸€ååº”æ˜¯ç”¨replaceAll()æ–¹æ³•ï¼Œä½†è¿™æ ·æŒºæ²¡æ„æ€çš„ã€‚æ‰€ä»¥è‡ªå·±å†™è§£å†³æ–¹æ³•ï¼Œè¿™æ ·çš„è¯ï¼Œå°±æœ‰äº†ä¸¤ç§æ€è·¯ã€‚</p><ol><li>ä»å‰å¾€åæ›¿æ¢ï¼Œå½“é‡åˆ°ç¬¬ä¸€ä¸ªç©ºæ ¼æ—¶ï¼Œè¦ç§»åŠ¨ç¬¬ä¸€ä¸ªç©ºæ ¼åæ‰€æœ‰çš„å­—ç¬¦ä¸€æ¬¡ï¼›å½“é‡åˆ°ç¬¬äºŒä¸ªç©ºæ ¼æ—¶ï¼Œè¦ç§»åŠ¨ç¬¬äºŒä¸ªç©ºæ ¼åæ‰€æœ‰çš„å­—ç¬¦ä¸€æ¬¡ï¼›ä»¥æ­¤ç±»æ¨ã€‚</li><li>ä»åå¾€å‰ï¼Œå…ˆè®¡ç®—éœ€è¦å¤šå°‘ç©ºé—´ï¼Œç„¶åä»åå¾€å‰ç§»åŠ¨ï¼Œåˆ™æ¯ä¸ªå­—ç¬¦åªä¸ºç§»åŠ¨ä¸€æ¬¡ï¼Œè¿™æ ·æ•ˆç‡æ›´é«˜ä¸€ç‚¹ã€‚</li></ol><p>è¿™é‡Œæä¾›ç¬¬äºŒç§æ–¹æ³•çš„ä»£ç <br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">replaceSpace</span><span class="params">(StringBuffer str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> spacenum = <span class="number">0</span>;<span class="comment">//spacenumä¸ºè®¡ç®—ç©ºæ ¼æ•°</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(str.charAt(i)==<span class="string">' '</span>)</span><br><span class="line">                spacenum++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> indexold = str.length()-<span class="number">1</span>; <span class="comment">//indexoldä¸ºä¸ºæ›¿æ¢å‰çš„strä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">int</span> newlength = str.length() + spacenum*<span class="number">2</span>;<span class="comment">//è®¡ç®—ç©ºæ ¼è½¬æ¢æˆ%20ä¹‹åçš„stré•¿åº¦</span></span><br><span class="line">        <span class="keyword">int</span> indexnew = newlength-<span class="number">1</span>;<span class="comment">//indexnewä¸ºæŠŠç©ºæ ¼æ›¿æ¢ä¸º%20åçš„strä¸‹æ ‡</span></span><br><span class="line">        str.setLength(newlength);<span class="comment">//ä½¿strçš„é•¿åº¦æ‰©å¤§åˆ°è½¬æ¢æˆ%20ä¹‹åçš„é•¿åº¦,é˜²æ­¢ä¸‹æ ‡è¶Šç•Œ</span></span><br><span class="line">        <span class="keyword">for</span>(;indexold&gt;=<span class="number">0</span> &amp;&amp; indexold&lt;newlength;--indexold)&#123; </span><br><span class="line">                <span class="keyword">if</span>(str.charAt(indexold) == <span class="string">' '</span>)&#123;  <span class="comment">//</span></span><br><span class="line">                str.setCharAt(indexnew--, <span class="string">'0'</span>);</span><br><span class="line">                str.setCharAt(indexnew--, <span class="string">'2'</span>);</span><br><span class="line">                str.setCharAt(indexnew--, <span class="string">'%'</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    str.setCharAt(indexnew--, str.charAt(indexold));</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"><a href="#ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨" class="headerlink" title="ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"></a>ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</h1><h2 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚<br>æ€è·¯2ï¼š<br>é€’å½’<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Integer&gt; arrayList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">printListFromTailToHead</span><span class="params">(ListNode listNode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(listNode != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>.printListFromTailToHead(listNode.next);</span><br><span class="line">            arrayList.add(listNode.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arrayList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ€è·¯2ï¼š<br>åˆ©ç”¨æ ˆ<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">printListFromTailToHead</span><span class="params">(ListNode listNode)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (listNode != <span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(listNode.val);</span><br><span class="line">            listNode = listNode.next;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            list.add(stack.pop());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾"><a href="#äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾" class="headerlink" title="äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾"></a>äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾</h1><h2 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>åˆ©ç”¨äºŒç»´æ•°ç»„ç”±ä¸Šåˆ°ä¸‹ï¼Œç”±å·¦åˆ°å³é€’å¢çš„è§„å¾‹ï¼Œ<br>é‚£ä¹ˆé€‰å–å³ä¸Šè§’æˆ–è€…å·¦ä¸‹è§’çš„å…ƒç´ a[row][col]ä¸targetè¿›è¡Œæ¯”è¾ƒï¼Œ<br>å½“targetå°äºå…ƒç´ a[row][col]æ—¶ï¼Œé‚£ä¹ˆtargetå¿…å®šåœ¨å…ƒç´ aæ‰€åœ¨è¡Œçš„å·¦è¾¹,<br>å³colâ€“ï¼›<br>å½“targetå¤§äºå…ƒç´ a[row][col]æ—¶ï¼Œé‚£ä¹ˆtargetå¿…å®šåœ¨å…ƒç´ aæ‰€åœ¨åˆ—çš„ä¸‹è¾¹,<br>å³row++ï¼›<br>æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(2n)</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> target, <span class="keyword">int</span> [][] array)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> col=array[<span class="number">0</span>].length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(row&lt;=array.length-<span class="number">1</span>&amp;&amp;col&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(target==array[row][col])</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(target&gt;array[row][col])</span><br><span class="line">                row++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                col--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¦ä¸€ç§æ€è·¯æ˜¯<br>æŠŠæ¯ä¸€è¡Œçœ‹æˆæœ‰åºé€’å¢çš„æ•°ç»„ï¼Œ<br>åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œ<br>é€šè¿‡éå†æ¯ä¸€è¡Œå¾—åˆ°ç­”æ¡ˆï¼Œ<br>æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(nlogn)</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> [][] array,<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">         </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> low=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> high=array[i].length-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(low&lt;=high)&#123;</span><br><span class="line">                <span class="keyword">int</span> mid=(low+high)/<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(target&gt;array[i][mid])</span><br><span class="line">                    low=mid+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(target&lt;array[i][mid])</span><br><span class="line">                    high=mid-<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆ·ä¸€ä¸‹ç®—æ³•é¢˜å§ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="offer" scheme="https://foreti.me/blog/tags/offer/"/>
    
  </entry>
  
  <entry>
    <title>Coding DaoCloudæŒç»­é›†æˆ</title>
    <link href="https://foreti.me/blog/2017/08/07/codingnet-dalcloud-ci/"/>
    <id>https://foreti.me/blog/2017/08/07/codingnet-dalcloud-ci/</id>
    <published>2017-08-07T14:38:23.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚ä½•åœ¨å¤šç»ˆç«¯å‘å¸ƒcodingåšå®¢ï¼Œæ¯”å¦‚éƒ¨ç½²å¥½çš„hexo+codingåšå®¢ï¼Œæˆ‘æ¢äº†ç”µè„‘ï¼Œæœ‰æ–¹ä¾¿çš„æ–¹æ³•å¯ä»¥ç»§ç»­å‘åšå®¢å—ï¼Ÿç­”æ¡ˆæ˜¯æœ‰ã€‚</p><a id="more"></a><hr><p>åœ¨ä¸Šä¸€ç¯‡åšå®¢ä¸­ï¼ŒæŒ‰ç…§æ­¥éª¤åšå®Œï¼Œå°±å¯ä»¥åœ¨æœ¬æœºå‘å¸ƒåšå®¢åˆ°codingäº†ï¼Œä½†è¿™æ ·æˆ‘ä»¬åªèƒ½ç”¨è¿™ä¸€å°ç”µè„‘å‘åšå®¢ï¼Œå¹¶ä¸”æœ€å¤§çš„é—®é¢˜æ˜¯å¤‡ä»½é—®é¢˜ï¼Œå¦‚æœè¿™å°ç”µè„‘æŒ‚äº†ï¼Œæˆ–è€…æ˜¯è¯¯åˆ æ–‡ä»¶ï¼Œå°±å¾ˆå¯èƒ½ä¸¢å¤±äº†blogæºæ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰å¤‡ä»½ï¼Œå°±è¦ggäº†ã€‚</p><p>æƒ³è¦å¤‡ä»½æºæ–‡ä»¶ï¼ŒåŒæ—¶åœ¨å¤šç»ˆç«¯å‘å¸ƒåšå®¢ï¼Œæœ€å¥½çš„å®ç°æ–¹å¼æ˜¯æ‰¾ä¸€ä¸ªæŒç»­é›†æˆå·¥å…·ï¼Œåœ¨<code>coding</code>çš„å¸®åŠ©æ–‡æ¡£é‡Œæœ‰ä¸€äº›ä»‹ç»ï¼Œæˆ‘è¯•è¿‡ä¸€äº›ï¼Œæœ€åé€‰æ‹©<code>DaoCloud</code>æ¥é›†æˆcodingä»“åº“ï¼ŒåŸå› è¿˜æ˜¯å…è´¹ã€‚</p><p>è¿™é‡Œçš„åŸç†æ˜¯ï¼Œåœ¨codingçš„blogä»“åº“ä¸­å»ºç«‹ä¸¤ä¸ªåˆ†æ”¯ï¼Œåˆ†åˆ«æ˜¯masterå’Œcoding-pagesã€‚masteråˆ†æ”¯å­˜æ”¾blogæºæ–‡ä»¶ï¼Œå³æœ¬åœ°çš„hexoæ–‡ä»¶å†…å®¹ï¼›<code>coding-pages</code>åˆ†æ”¯å­˜æ”¾åšå®¢çš„å…¨éƒ¨é™æ€é¡µé¢ï¼Œä¹Ÿå°±æ˜¯<code>blog\public</code>æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ã€‚</p><p>æ“ä½œçš„è¿‡ç¨‹ä¸­ï¼Œé¡ºåºæ˜¯</p><ol><li><code>git push</code> æäº¤æœ¬åœ°blogæºæ–‡ä»¶åˆ°<code>master</code>åˆ†æ”¯</li><li>DaoCloudæ£€æµ‹åˆ°masteråˆ†æ”¯æœ‰æäº¤å†…å®¹ï¼ŒæŒ‰ç…§è®¾ç½®å¥½çš„å®‰è£…ç¯å¢ƒï¼Œç”Ÿæˆåšå®¢ï¼Œéƒ¨ç½²åšå®¢åˆ°coding-pagesåˆ†æ”¯</li></ol><p>è¿™æ ·åœ¨éƒ¨ç½²è¿‡ä¸€æ¬¡ä¹‹åï¼Œå¦‚æœä¸å†ä¿®æ”¹æ ·å¼å’Œä¸»é¢˜ç­‰å…¶ä»–å†…å®¹ï¼Œåªæ˜¯æäº¤åšå®¢ï¼Œå¯ä»¥ç›´æ¥ç™»å½•coding.netç½‘ç«™ï¼Œå°†ç¼–è¾‘å¥½çš„mdæ–‡ä»¶æ·»åŠ åˆ°<code>master</code>åˆ†æ”¯çš„<code>blog/source/_post</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œå°±å®Œäº†ã€‚</p><p>å¦‚æœè¦åŒæ­¥æœ¬åœ°å¤‡ä»½ï¼Œä¹Ÿåªç”¨æŠŠ<code>master</code>åˆ†æ”¯å†…å®¹<code>clone</code>åˆ°æœ¬åœ°å°±è¡Œäº†ã€‚</p><p>ç°åœ¨å¼€å§‹æ­£å¼çš„æ“ä½œã€‚</p><h2 id="åˆ›å»ºæ–°åˆ†æ”¯"><a href="#åˆ›å»ºæ–°åˆ†æ”¯" class="headerlink" title="åˆ›å»ºæ–°åˆ†æ”¯"></a>åˆ›å»ºæ–°åˆ†æ”¯</h2><p>ç™»å½•åˆ°codingå®˜ç½‘ä¸­ï¼Œå¯ä»¥ç»§ç»­ä¿ç•™ä¸Šä¸€ç¯‡åšå®¢ä¸­åˆ›å»ºçš„ä»“åº“ï¼Œå…ˆæ¸…ç©ºä»“åº“ï¼ˆåœ¨é¡¹ç›®è®¾ç½®é‡Œçš„ä»“åº“è®¾ç½®ï¼‰ï¼Œç„¶ååœ¨åˆ†æ”¯ç®¡ç†å¤„æ–°å»ºåˆ†æ”¯<code>coding-pages</code>ã€‚</p><h2 id="åˆ›å»ºSSH-Keyæ–‡ä»¶å¤¹"><a href="#åˆ›å»ºSSH-Keyæ–‡ä»¶å¤¹" class="headerlink" title="åˆ›å»ºSSH Keyæ–‡ä»¶å¤¹"></a>åˆ›å»ºSSH Keyæ–‡ä»¶å¤¹</h2><p>ç”±äºä¸Šä¸€ç¯‡åšå®¢<a href="http://yanss.top/Coding+DaoCloud%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" target="_blank" rel="noopener">ã€Šgithub+hexoæ­å»ºä¸ªäººåšå®¢ã€‹</a>ä¸­å·²ç»åˆ›å»ºäº†SSH keyï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œåœ¨<code>/blog/</code>æ ¹ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹<code>.daocloud</code>ï¼Œè¿™é‡Œå‰é¢æœ‰<code>.</code>çš„æ–‡ä»¶å¤¹ä¸èƒ½ç›´æ¥åˆ›å»ºï¼Œå¯ä»¥å…ˆç›´æ¥åˆ›å»º<code>aaa</code>ï¼Œå†ç”¨å‘½ä»¤è¡Œä¿®æ”¹åå­—ã€‚æ­¤å¤„å³é”®æ‰“å¼€git bashï¼Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv aaa .daocloud</span><br></pre></td></tr></table></figure></p><p>ç„¶åæŠŠä¹‹å‰ç”Ÿæˆçš„SSH keyå¤åˆ¶åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp  ~/.ssh/id_rsa*   .daocloud/</span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨<code>.daocloud</code>ä¸‹æ–°å»ºæ–‡ä»¶<code>ssh_config</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch ssh_config</span><br></pre></td></tr></table></figure></p><p>æ‰“å¼€<code>ssh_config</code>,è¾“å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StrictHostKeyChecking no</span><br><span class="line">UserKnownHostsFile /dev/null</span><br></pre></td></tr></table></figure></p><p>ä¿å­˜ã€‚</p><h2 id="ç¼–è¾‘Dockerfile"><a href="#ç¼–è¾‘Dockerfile" class="headerlink" title="ç¼–è¾‘Dockerfile"></a>ç¼–è¾‘Dockerfile</h2><p>åœ¨æœ¬åœ°ä»“åº“blogæ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶åä¸º<code>Dockerfile</code>çš„æ–‡ä»¶ï¼ˆæ²¡æœ‰åç¼€ï¼‰,æ‰“å¼€ç¼–è¾‘å†…å®¹å¦‚ä¸‹ï¼ŒåŸå› ç¨åå†è¯´ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># Dockerfile</span><br><span class="line">FROM node:slim</span><br><span class="line">MAINTAINER xxx &lt;xxx@xxx.com&gt;</span><br><span class="line"></span><br><span class="line"># å®‰è£…gitã€sshç­‰åŸºæœ¬å·¥å…·</span><br><span class="line">RUN apt-get update &amp;&amp; apt-get install -y git ssh-client ca-certificates --no-install-recommends &amp;&amp; rm -r /var/lib/apt/lists/*</span><br><span class="line"></span><br><span class="line"># è®¾ç½®æ—¶åŒº</span><br><span class="line">RUN echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone &amp;&amp; dpkg-reconfigure -f noninteractive tzdata</span><br><span class="line"></span><br><span class="line">RUN npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line"># åªå®‰è£…Hexoå‘½ä»¤è¡Œå·¥å…·ï¼Œå…¶ä»–ä¾èµ–é¡¹æ ¹æ®é¡¹ç›®package.jsonåœ¨æŒç»­é›†æˆè¿‡ç¨‹ä¸­å®‰è£…</span><br><span class="line">RUN cnpm install hexo-cli -g</span><br><span class="line"># install hexo server</span><br><span class="line">RUN cnpm install hexo-server</span><br><span class="line"></span><br><span class="line">EXPOSE 4000</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåªç”¨æ›¿æ¢ä¸Šä½ è‡ªå·±çš„codingç”¨æˆ·åå’Œé‚®ç®±å°±è¡Œï¼Œåˆ«çš„ä¸å˜ã€‚</p><h2 id="ä¿®æ”¹æœ¬åœ°-config-ymlé…ç½®"><a href="#ä¿®æ”¹æœ¬åœ°-config-ymlé…ç½®" class="headerlink" title="ä¿®æ”¹æœ¬åœ°_config.ymlé…ç½®"></a>ä¿®æ”¹æœ¬åœ°_config.ymlé…ç½®</h2><p>å› ä¸ºè¦æŠŠåšå®¢éƒ¨ç½²åˆ°<code>coding-pages</code>åˆ†æ”¯ï¼Œæ‰€ä»¥è¦ä¿®æ”¹deployå‚æ•°ï¼ŒæŠŠ_config.ymlçš„deployä¿®æ”¹å¦‚ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo:</span><br><span class="line">      coding: git@git.coding.net:xxx/xxx.git,coding-pages</span><br></pre></td></tr></table></figure></p><p>codingåé¢æ›¿æ¢ä¸ºä½ è‡ªå·±çš„codingä»“åº“åœ°å€ï¼ŒåŠ ä¸Šcoding-pagesåˆ†æ”¯ã€‚</p><h2 id="DaoCloudåˆ›å»ºé¡¹ç›®å’Œé…ç½®"><a href="#DaoCloudåˆ›å»ºé¡¹ç›®å’Œé…ç½®" class="headerlink" title="DaoCloudåˆ›å»ºé¡¹ç›®å’Œé…ç½®"></a>DaoCloudåˆ›å»ºé¡¹ç›®å’Œé…ç½®</h2><p>è¿™é‡Œæ˜¯å› ä¸ºDaoCloudç³»ç»Ÿæœ‰è¿‡å‡çº§æ”¹ç‰ˆï¼Œç½‘ä¸Šæœåˆ°çš„DaoCloudæ“ä½œæ•™ç¨‹å‡ ä¹éƒ½æ˜¯å»å¹´12æœˆä»¥å‰çš„ï¼Œæ‰€ä»¥æœ‰äº›å¯¹ç°åœ¨çš„ç‰ˆæœ¬ä¸å¤ªé€‚ç”¨ï¼Œæˆ‘è‡ªå·±å€ŸåŠ©æ—§çš„æ•™ç¨‹å’Œéƒ¨ç½²<code>AppVeyor</code>çš„ç»éªŒæ”¹åŠ¨äº†ä¸€äº›ï¼Œé€‚ç”¨ç°åœ¨çš„DaoCloudã€‚</p><p>ä¸‹é¢å…ˆç™»å½•DaoCloudå®˜ç½‘ï¼Œç”¨githubæˆ–è€…codingè´¦å·ç›´æ¥ç™»å½•ï¼Œåœ¨ä¸ªäººè®¾ç½®ä¸­ç»‘å®šgithubå’Œcodingï¼Œç„¶ååœ¨æ§åˆ¶å°æ–°å»ºé¡¹ç›®ï¼Œé¡¹ç›®åéšä¾¿å–ã€‚<br><img src="https://foreti.me/imgplace/2019/20170807214217.jpg" alt="img"><br><img src="https://foreti.me/imgplace/2019/20170807214425.jpg" alt="img"></p><p>é€‰æ‹©<code>æˆåŠŸæ„å»ºåè®¾ç½® latest ä¸ºé•œåƒæ ‡ç­¾</code>ï¼Œç„¶åç‚¹å‡»<code>é•œåƒï¼šci-hexo</code>ï¼ˆè¿™é‡Œæ˜¯æˆ‘çš„åå­—ï¼Œä½ å°±ç‚¹ä½ è‡ªå·±ç›¸åº”çš„ï¼‰ï¼Œå¤åˆ¶é•œåƒåœ°å€ï¼Œå…ˆè®°åœ¨ä¸€è¾¹ç­‰ä¸‹è¦ç”¨ã€‚è¿™é‡Œå®‰åˆ©ä¸€ä¸ªå‰ªè´´æ¿ç®¡ç†è½¯ä»¶<a href="https://sourceforge.net/projects/ditto-cp/" target="_blank" rel="noopener">Ditto</a>ã€‚<br><img src="https://foreti.me/imgplace/2019/2017080721427.jpg" alt="img"></p><p>ç„¶åæ‰“å¼€æµç¨‹å®šä¹‰ï¼Œç‚¹å‡»å³ä¾§<code>é€šè¿‡ yaml å¿«æ·ç¼–è¾‘</code>ï¼Œæ‰“å¼€ååªä¸€ä¸ªè„šæœ¬ç¼–è¾‘é¡µé¢ï¼Œç›´æ¥æŠŠä»¥ä¸‹å†…å®¹å¤åˆ¶è¿›å»ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">version: 3</span><br><span class="line">image: ubuntu:16.04</span><br><span class="line">stages:</span><br><span class="line">- build</span><br><span class="line">- test</span><br><span class="line">æ„å»ºä»»åŠ¡:</span><br><span class="line">  stage: build</span><br><span class="line">  job_type: image_build</span><br><span class="line">  only:</span><br><span class="line">    branches:</span><br><span class="line">    - master</span><br><span class="line">  build_dir: /</span><br><span class="line">  cache: true</span><br><span class="line">  dockerfile_path: /Dockerfile</span><br><span class="line">æµ‹è¯•ä»»åŠ¡:</span><br><span class="line">  stage: test</span><br><span class="line">  job_type: test</span><br><span class="line">  only:</span><br><span class="line">    branches:</span><br><span class="line">    - master</span><br><span class="line">  pull_request: false</span><br><span class="line">  before_script:</span><br><span class="line">  - mkdir ~/.ssh</span><br><span class="line">  - mv .daocloud/id_rsa ~/.ssh/id_rsa</span><br><span class="line">  - mv .daocloud/ssh_config ~/.ssh/config</span><br><span class="line">  - chmod 600 ~/.ssh/id_rsa</span><br><span class="line">  - chmod 600 ~/.ssh/config</span><br><span class="line">  - eval $(ssh-agent)</span><br><span class="line">  - ssh-add ~/.ssh/id_rsa</span><br><span class="line">  - rm -rf .daocloud</span><br><span class="line">  - git config --global user.name &quot;xxxxx&quot; #è¿™é‡Œå¡«ä½ çš„codingç”¨æˆ·å</span><br><span class="line">  - git config --global user.email &quot;xxxxx@xxxxx.com&quot; #è¿™é‡Œå¡«ä½ çš„codingé‚®ç®±</span><br><span class="line">  image: xxxxx:latest #è¿™é‡Œå¡«ä½ çš„é•œåƒurlï¼Œä¸è¦è¦†ç›–latest</span><br><span class="line">  install:</span><br><span class="line">  - cnpm install</span><br><span class="line">  - cnpm install --save hexo-generator-feed</span><br><span class="line">  - cnpm install hexo-baidu-url-submit --save</span><br><span class="line">  script:</span><br><span class="line">  - hexo clean</span><br><span class="line">  - hexo g</span><br><span class="line">  - hexo d</span><br><span class="line">  - rm -rf ~/.ssh/</span><br></pre></td></tr></table></figure><p>åªç”¨ä¿®æ”¹3å¤„ä½ç½®ï¼Œå…¶ä»–çš„ä¸è¦åŠ¨ï¼Œç„¶åç‚¹å‡»<code>æ›´æ–°</code>ã€‚<br><img src="https://foreti.me/imgplace/2019/20170807220526.jpg" alt="img"></p><p>åˆ°äº†è¿™é‡Œå°±å¿«å®Œæˆäº†ï¼Œè¿˜å·®ä¸€ç‚¹ï¼Œåœ¨æµç¨‹å®šä¹‰è¿™é‡Œç‚¹å‡»æ„å»ºä»»åŠ¡ï¼Œä¿®æ”¹è§¦å‘æ¡ä»¶ä¸ºåˆ†æ”¯-master-æ‰§è¡Œä»»åŠ¡ï¼Œæµ‹è¯•ä»»åŠ¡ä¹Ÿä¿®æ”¹è§¦å‘æ¡ä»¶ä¸ºåˆ†æ”¯-master-æ‰§è¡Œä»»åŠ¡ã€‚<br><img src="https://foreti.me/imgplace/2019/20170807220586726.jpg" alt="img"><br><img src="https://foreti.me/imgplace/2019/20170807221310.jpg" alt="img"></p><h2 id="gitå…³è”è¿œç¨‹åº“å’Œæäº¤ä»£ç "><a href="#gitå…³è”è¿œç¨‹åº“å’Œæäº¤ä»£ç " class="headerlink" title="gitå…³è”è¿œç¨‹åº“å’Œæäº¤ä»£ç "></a>gitå…³è”è¿œç¨‹åº“å’Œæäº¤ä»£ç </h2><p>å…ˆåœ¨æ‰€æœ‰çš„é…ç½®å°±åšå®Œäº†ï¼Œå¯ä»¥å›åˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œå°†æœ¬åœ°ä»“åº“pushåˆ°è¿œç¨‹åº“å°±è¡Œäº†ã€‚<br>ç°åœ¨ä»‹ç»ä¸€ä¸‹å¦‚ä½•å…³è”è¿œç¨‹åº“ï¼Œä»¥åŠcommitå’Œpushæ“ä½œã€‚</p><ul><li>å…³è”è¿œç¨‹åº“ï¼Œè¿™é‡Œåé¢xxxæ˜¯ä½ çš„ä»“åº“url</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add coding xxxxxx</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ ä»£ç åˆ°æœ¬åœ°ä»“åº“å’Œcommitä¿¡æ¯ï¼Œè¿™é‡Œxxxæ˜¯ä½ çš„commitä¿¡æ¯ï¼Œå¯ä»¥éšä¾¿å†™</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;xxx&quot;</span><br></pre></td></tr></table></figure><ul><li>pushåˆ°è¿œç¨‹åº“çš„masteråˆ†æ”¯</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u coding master</span><br></pre></td></tr></table></figure><p>å¦‚æœæç¤ºæœ‰å†²çªï¼Œå°±æŠŠ<code>-u</code>æ”¹ä¸º<code>-f</code>ï¼Œåæ­£ä»“åº“é‡Œéƒ½æ˜¯è‡ªå·±çš„ä¸œè¥¿ï¼Œforce pushä¹Ÿæ²¡ä»€ä¹ˆå¤§é—®é¢˜ã€‚</p><h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>ç°åœ¨å°±å®Œæˆäº†å…¨éƒ¨çš„æ“ä½œï¼Œå…¶å®å¹¶ä¸å¤æ‚ï¼ŒDockerfileä¹‹é¢„ç¼–è¯‘æ–‡ä»¶ï¼Œæ”¾åœ¨ä»“åº“masteråˆ†æ”¯ä¸­ï¼Œæ¯å½“ä»“åº“masteråˆ†æ”¯æœ‰æ–°çš„æäº¤æ—¶ï¼ŒDaoCloudä¼šç›‘æµ‹åˆ°å˜åŒ–ï¼Œç”±äºè§¦å‘æ¡ä»¶çš„è®¾ç½®ï¼Œå°±å¼€å§‹äº†æ„å»ºä»»åŠ¡å’Œæµ‹è¯•ä»»åŠ¡ï¼Œæ„å»ºä»»åŠ¡é˜¶æ®µæ˜¯ç¼–è¯‘Dockerfileæ–‡ä»¶ä¸­çš„è„šæœ¬ï¼Œå…¶å®å¤§è‡´æ„æ€å¾ˆå¥½æ‡‚ï¼Œå°±æ˜¯é…ç½®gitï¼Œnodeå’Œhexoç¯å¢ƒã€‚ç„¶åè¿›è¡Œæµ‹è¯•ä»»åŠ¡ï¼Œå°±æ˜¯è¿›è¡Œåˆšæ‰ç¼–è¾‘çš„yamlç¼–è¾‘å™¨ä¸­çš„è„šæœ¬ï¼Œå…¶ä¸­æœ‰ä¸€æ®µæµ‹è¯•ä»»åŠ¡ï¼Œé€»è¾‘å°±æ˜¯å®‰è£…å¿…è¦çš„hexoåŒ…ï¼Œç„¶åå¤åˆ¶codingä»“åº“é‡Œçš„sshå¯†åŒ™ï¼Œç”¨ä½ é…ç½®çš„è´¦å·å’Œé‚®ç®±ï¼Œè¿›è¡Œhexoæ“ä½œï¼Œæ¸…é™¤ç¼“å­˜ï¼Œç”Ÿæˆæ–‡ä»¶ï¼Œéƒ¨ç½²åˆ°coding-pagesåˆ†æ”¯ï¼Œç„¶ååˆ é™¤sshå¯†åŒ™ï¼ˆå®‰å…¨æ€§ï¼‰ã€‚</p><p>è™½ç„¶æ•´ä¸ªæ“ä½œè¿‡ç¨‹æœ‰æš´éœ²ç§æœ‰ssh keyçš„é£é™©ï¼Œä½†è¯´å®è¯ï¼Œgitçš„åˆè¡·ä¸å°±æ˜¯ä¸ºäº†åˆ†äº«ä»£ç å—ï¼Œå†µä¸”æˆ‘ä»¬å†™çš„è¿™äº›çœŸå®ä»·å€¼å¹¶æ²¡æœ‰å¤šå°‘ï¼Œæ‰€ä»¥æ”¾å¿ƒçš„ä½¿ç”¨å§ï¼Œcodingæä¾›çš„æ˜¯ç§æœ‰ä»“åº“è¿˜æ˜¯å¯ä»¥æ”¾å¿ƒï¼Œgithubè¿›è¡Œè¿›è¡Œç›¸åŒæ“ä½œå°±æ”¹ä¸€ä¸‹é…ç½®ä¹Ÿå¯ä»¥æœ€ååˆ æ‰ssh keyã€‚</p><p>coding+DaoCloudæŒç»­é›†æˆåˆ°æ­¤ç»“æŸï¼Œæœ‰é—®é¢˜å¯ä»¥ä¸‹æ–¹ç•™è¨€è¯„è®ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¦‚ä½•åœ¨å¤šç»ˆç«¯å‘å¸ƒcodingåšå®¢ï¼Œæ¯”å¦‚éƒ¨ç½²å¥½çš„hexo+codingåšå®¢ï¼Œæˆ‘æ¢äº†ç”µè„‘ï¼Œæœ‰æ–¹ä¾¿çš„æ–¹æ³•å¯ä»¥ç»§ç»­å‘åšå®¢å—ï¼Ÿç­”æ¡ˆæ˜¯æœ‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="CI" scheme="https://foreti.me/blog/tags/CI/"/>
    
  </entry>
  
  <entry>
    <title>Github Hexo AppVeyorä¸ªäººåšå®¢æ­å»ºå’ŒæŒç»­é›†æˆ</title>
    <link href="https://foreti.me/blog/2017/08/07/github-hexo-appveyor-ci/"/>
    <id>https://foreti.me/blog/2017/08/07/github-hexo-appveyor-ci/</id>
    <published>2017-08-07T14:38:23.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºä¸€äº›åŸå› ï¼Œä¸å†ä½¿ç”¨coding.netï¼Œæ‰€ä»¥åœ¨githubä¸Šç»´æŠ¤åšå®¢æ–‡ä»¶å’Œè¿›è¡ŒæŒç»­é›†æˆã€‚</p><a id="more"></a><hr><p>æˆ‘ä»¬éƒ½çŸ¥é“github pagesæä¾›äº†é™æ€ç½‘é¡µçš„è‡ªåŠ¨è§£æï¼Œäºæ˜¯æˆ‘ä»¬æƒ³åˆ°ç”¨github pageså±•ç¤ºä¸ªäººé¡¹ç›®ï¼Œç‰¹åˆ«æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆï¼Œå®Œå…¨å¯ä»¥æ‹¿githubå±•ç¤ºä¸ªäººé¡¹ç›®è®¾è®¡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‹¿è¿™ä¸ªå†™ä¸ªäººåšå®¢ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¾ˆéš¾æŠŠåšå®¢å†™æˆhtmlçš„é™æ€é¡µé¢å§ã€‚è™½ç„¶å¯ä»¥å¼ºè¡Œå®ç°ï¼Œä½†æ˜¯æ¯æ·»åŠ ä¸€ç¯‡blogï¼Œå°±éœ€è¦æ·»åŠ å¾ˆå¤šæŒ‡å‘å…¶ä»–é¡µé¢çš„é“¾æ¥ï¼Œè¿˜æœ‰å¾ˆå¤šæ ·å¼ï¼Œå…‰ç§ƒç§ƒçš„é¡µé¢æ€»å½’ä¸ç¾ã€‚</p><p>æœ‰éœ€æ±‚å°±æœ‰ç­”æ¡ˆï¼Œè¿™é‡Œæœ‰ä¸€ç§æ–¹æ³•æ˜¯ï¼Œç”¨ä¸€ç§åšå®¢æ¡†æ¶æ¥å®ç°å°†ç¼–è¾‘å¥½çš„åšå®¢æ–‡æœ¬è‡ªåŠ¨ç”Ÿæˆé™æ€é¡µé¢ï¼Œè¿™æ ·æˆ‘ä»¬å°±åªç”¨å°†htmlæ–‡ä»¶åŠ å…¥repositoryå°±å¥½ã€‚æœ‰ä¸€ä¸ªåŸºäº<code>Node.js</code>çš„è½»é‡çº§çš„æ¡†æ¶<code>Hexo</code>ï¼Œå°±å¯ä»¥å®ç°æŠŠ<code>markdown</code>æ–‡ä»¶ç”Ÿæˆé™æ€é¡µé¢å¹¶å‘å¸ƒåˆ°githubä»“åº“çš„åŠŸèƒ½ï¼Œæœ¬æ–‡çš„å†…å®¹ä»è¿™é‡Œå¼€å§‹ã€‚</p><p>ç”±äºæœ‰ä¸åŒçš„ç»ˆç«¯æœºï¼Œæ¯æ¬¡åœ¨ä¸åŒå¹³å°å»åŒæ­¥åšå®¢ç‰¹åˆ«éº»çƒ¦ï¼Œæ‰€ä»¥æƒ³åˆ°æŒç»­é›†æˆçš„æ–¹å¼ã€‚åœ¨Githubä¸ŠåŒæ­¥ç®¡ç†æˆ‘çš„blogæºç ï¼Œç”±ç¬¬ä¸‰æ–¹å¹³å°è¿›è¡ŒæŒç»­é›†æˆæ„å»ºåšå®¢çš„htmlæ–‡ä»¶ï¼Œå¹¶å‘å¸ƒåˆ°gh-pagesã€‚æœä¸€æœè§£å†³æ–¹æ¡ˆè¿˜ä¸å°‘ï¼ŒTravisï¼ŒAppveyorå’ŒDaoCloudæ˜¯æˆ‘ä½¿ç”¨è¿‡çš„å…è´¹å¹³å°ã€‚è¿™é‡Œåªè¯´Appveyorã€‚</p><p>ï¼ˆæ—¶éš”è¿‘ä¸€å¹´ï¼Œç»§ç»­ç¼–è¾‘è¿™ç¯‡postï¼‰<br>è¿™é‡Œåªè´´å‡ºAppVeyorçš„å®˜æ–¹æ–‡æ¡£å’Œç”¨äºhexoæ„å»ºçš„yamlè„šæœ¬ã€‚</p><p>æ–‡æ¡£åœ°å€ï¼š<a href="https://www.appveyor.com/docs/" target="_blank" rel="noopener">https://www.appveyor.com/docs/</a></p><ol><li>åˆ›å»ºæ–°é¡¹ç›®ï¼Œåœ¨è®¾ç½®ä¸­è¿›è¡Œç¯å¢ƒå˜é‡è®¾å®šï¼š</li></ol><p><img src="https://foreti.me/imgplace/2019/blog_appveyor_env.png" alt></p><ol start="2"><li><p>è®¿é—®githubä¸ªäººè®¾ç½®é¡µé¢ï¼Œç‚¹å‡»è¾¹æ ä¸‹æ–¹çš„ã€Personal access tokensã€‘é€‰é¡¹å¡ï¼Œå¹¶ç‚¹å‡»å³ä¸Šæ–¹çš„ã€Generate new tokenã€‘æŒ‰é’®ã€‚Token descriptionä»»æ„å¡«å†™ï¼Œä¸‹æ–¹çš„é€‰é¡¹ä¸­å…¨é€‰repoå³å¯ã€‚ç‚¹å‡»ä¸‹æ–¹ç»¿è‰²çš„ã€Generate tokenã€‘æŒ‰é’®ã€‚æ­¤æ—¶å°±èƒ½å¾—åˆ°Access Tokenã€‚ä¹Ÿå¯ä»¥å‚è€ƒ<a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p></li><li><p>åŠ å¯†Access Tokenã€‚ç”±äºè¿™ä¸ªAccessTokenæ˜¯å¯ä»¥ç›´æ¥æ“ä½œä½ çš„ä»“åº“çš„ï¼Œè€Œä¸”é…ç½®æ–‡ä»¶æ˜¯å…¬å¼€çš„ï¼Œæ‰€ä»¥è¿™æ—¶å°±è¦æ±‚å¯¹AccessTokenè¿›è¡ŒåŠ å¯†ã€‚å¯åˆ°<a href="https://ci.appveyor.com/tools/encrypt" target="_blank" rel="noopener">AppVeyor TokenåŠ å¯†é¡µé¢</a>è¿›è¡ŒåŠ å¯†ã€‚æŠŠåŠ å¯†åçš„å­—ç¬¦ä¸²å¡«å…¥ä¸‹ä¸€æ­¥ä¸­çš„é…ç½®è„šæœ¬çš„<code>secure</code>é‡Œã€‚</p></li><li><p>æ„å»ºè„šæœ¬ï¼š</p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">clone_depth:</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="attr">environment:</span></span><br><span class="line">  <span class="attr">access_token:</span></span><br><span class="line">    <span class="attr">secure:</span> <span class="string">***********************************************</span></span><br><span class="line"></span><br><span class="line"><span class="attr">install:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">ps:</span> <span class="string">Install-Product</span> <span class="string">node</span> <span class="string">''</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">node</span> <span class="string">--version</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">--version</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span></span><br><span class="line">  <span class="comment"># and other package you need</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build_script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line"></span><br><span class="line"><span class="attr">artifacts:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">public</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on_success:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">credential.helper</span> <span class="string">store</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">ps:</span> <span class="string">Add-Content</span> <span class="string">"$env:USERPROFILE\.git-credentials"</span> <span class="string">"https://$($env:access_token):x-oauth-basic@github.com`n"</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">"%GIT_USER_EMAIL%"</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">"%GIT_USER_NAME%"</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">clone</span> <span class="string">--depth</span> <span class="number">5</span> <span class="string">-q</span> <span class="string">--branch=%TARGET_BRANCH%</span> <span class="string">%STATIC_SITE_REPO%</span> <span class="string">%TEMP%\static-site</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">cd</span> <span class="string">%TEMP%\static-site</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">del</span> <span class="string">*</span> <span class="string">/f</span> <span class="string">/q</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">for</span> <span class="string">/d</span> <span class="string">%%p</span> <span class="string">IN</span> <span class="string">(*)</span> <span class="string">do</span> <span class="string">rmdir</span> <span class="string">"%%p"</span> <span class="string">/s</span> <span class="string">/q</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">SETLOCAL</span> <span class="string">EnableDelayedExpansion</span> <span class="string">&amp;</span> <span class="string">robocopy</span> <span class="string">"%APPVEYOR_BUILD_FOLDER%\public"</span> <span class="string">"%TEMP%\static-site"</span> <span class="string">/e</span> <span class="string">&amp;</span> <span class="string">IF</span> <span class="type">!ERRORLEVEL</span><span class="string">!</span> <span class="string">EQU</span> <span class="number">1</span> <span class="string">(exit</span> <span class="number">0</span><span class="string">)</span> <span class="string">ELSE</span> <span class="string">(IF</span> <span class="type">!ERRORLEVEL</span><span class="string">!</span> <span class="string">EQU</span> <span class="number">3</span> <span class="string">(exit</span> <span class="number">0</span><span class="string">)</span> <span class="string">ELSE</span> <span class="string">(exit</span> <span class="number">1</span><span class="string">))</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">add</span> <span class="string">-A</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">if</span> <span class="string">"%APPVEYOR_REPO_BRANCH%"</span><span class="string">=="master"</span> <span class="string">if</span> <span class="string">not</span> <span class="string">defined</span> <span class="string">APPVEYOR_PULL_REQUEST_NUMBER</span> <span class="string">(git</span> <span class="string">diff</span> <span class="string">--quiet</span> <span class="string">--exit-code</span> <span class="string">--cached</span> <span class="string">||</span> <span class="string">git</span> <span class="string">commit</span> <span class="string">-m</span> <span class="string">"Update Static Site"</span> <span class="string">&amp;&amp;</span> <span class="string">git</span> <span class="string">push</span> <span class="string">origin</span> <span class="string">%TARGET_BRANCH%</span> <span class="string">&amp;&amp;</span> <span class="string">appveyor</span> <span class="string">AddMessage</span> <span class="string">"Static Site Updated"</span><span class="string">)</span></span><br></pre></td></tr></table></figure><p>å¥½çš„ï¼Œå¤§è‡´å°±è¿™ä¹ˆäº›ï¼Œå¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œå¯åœ¨è¯„è®ºä¸­æå‡ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºä¸€äº›åŸå› ï¼Œä¸å†ä½¿ç”¨coding.netï¼Œæ‰€ä»¥åœ¨githubä¸Šç»´æŠ¤åšå®¢æ–‡ä»¶å’Œè¿›è¡ŒæŒç»­é›†æˆã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="appveyor" scheme="https://foreti.me/blog/tags/appveyor/"/>
    
  </entry>
  
  <entry>
    <title>Coding+Hexoæ­å»ºä¸ªäººåšå®¢</title>
    <link href="https://foreti.me/blog/2017/08/07/codingnet-hexo-blog/"/>
    <id>https://foreti.me/blog/2017/08/07/codingnet-hexo-blog/</id>
    <published>2017-08-07T04:52:44.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨coding.netä¸Šç­”åº”äº†å¥½å‡ ä¸ªè¯„è®ºçš„æœ‹å‹è¦å†™ä¸€ç¯‡æ•™ç¨‹ï¼Œä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥ä¸»é¢˜ã€‚</p><a id="more"></a><hr><p>æˆ‘æ­å»ºåšå®¢ç”¨çš„æ˜¯hexoæ¡†æ¶ï¼Œå› ä¸ºè¿™ä¸ªæ¡†æ¶æ¯”è¾ƒç®€å•è½»ä¾¿ï¼Œè€Œä¸”ä¾èµ–äºnode.jsç®¡ç†åŒ…æ–‡ä»¶ï¼Œæˆ‘ä»¥å‰ç”¨è¿‡ä¹Ÿç”¨è¿‡ä¸€äº›npmçš„å†…å®¹ï¼Œæ‰€ä»¥é€‰äº†è¿™ä¸ªã€‚è¿™é‡Œæä¸€å¥ï¼ŒåŸºäºcodingæˆ–è€…githubæ­å»ºçš„åšå®¢éƒ½æ˜¯é™æ€é¡µé¢ï¼Œè½»é‡ç®€æ´ï¼Œç›¸å¯¹çš„åŠŸèƒ½ä¸Šä¸å¦‚Wordpressé‚£æ ·å¼ºå¤§ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶å®ç°æ–‡ç« ç»Ÿè®¡ï¼Œç½‘ç«™è®¡æ•°ï¼Œåšå®¢è¯„è®ºç­‰åŠŸèƒ½ï¼Œçœ‹è‡ªå·±å–œå¥½åŠ å§ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹æ“ä½œã€‚</p><h2 id="step-1-å®‰è£…ç¯å¢ƒ"><a href="#step-1-å®‰è£…ç¯å¢ƒ" class="headerlink" title="step 1 å®‰è£…ç¯å¢ƒ"></a>step 1 å®‰è£…ç¯å¢ƒ</h2><p>ç¯å¢ƒæœ‰ä¸‰ï¼Œnode git hexoï¼Œhexoæœ€åè£…ã€‚</p><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p>ç›´æ¥å»ä¸‹å®˜ç½‘æœ€æ–°ç‰ˆæœ¬ï¼Œå®‰è£…æ­¥éª¤å°±ä¸åœnextå°±å¥½ï¼Œä¸æ”¾å¿ƒçš„è¯æœä¸€ä¸‹ç™¾åº¦çŸ¥é“ï¼Œæœ‰å‡ ä¸ªæ­¥éª¤éœ€è¦æ–Ÿé…Œï¼Œä¸è¿‡å½±å“ä¸å¤§ã€‚é“¾æ¥åœ¨è¿™é‡Œ<a href="https://git-scm.com/" target="_blank" rel="noopener">gitå®˜ç½‘</a>ã€‚</p><h3 id="node"><a href="#node" class="headerlink" title="node"></a>node</h3><p>ä¹Ÿæ˜¯å®˜ç½‘æœ€æ–°ç‰ˆæœ¬ï¼Œ<a href="http://nodejs.cn/" target="_blank" rel="noopener">node.jsä¸­æ–‡å®˜ç½‘</a>ç°åœ¨å¥½åƒæ˜¯8.xäº†ï¼Œè¿™ä¸ªå°±ä¸€ç›´nextå®‰è£…ï¼Œè£…å¥½ååœ¨æ¡Œé¢æ‰“å¼€cmdï¼Œ</p><p>npmæ˜¯node.jsé›†æˆçš„åŒ…ç®¡ç†å·¥å…·ï¼Œç°åœ¨æ˜¯ç›´æ¥éšnodeè£…å¥½äº†ã€‚</p><p>æŸ¥çœ‹ç‰ˆæœ¬å·ï¼ŒæˆåŠŸæ˜¾ç¤ºå°±èƒ½ç”¨äº†ï¼Œå¦‚æœæ˜¾ç¤ºä¸æ˜¯å¯ç”¨çš„å‘½ä»¤å°±éœ€è¦æ‰‹åŠ¨æ·»åŠ nodeç¯å¢ƒå˜é‡ï¼Œè¿™ä¸ªä¹Ÿç®€å•ï¼Œç™¾åº¦çŸ¥é“å…¨æœ‰ã€‚</p><h3 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h3><p>åœ¨æ¡Œé¢å³é”®ï¼Œ<code>git bash</code>ï¼Œç„¶åè¾“å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œç”¨<code>cnpm</code>æ˜¯å› ä¸º<code>npm</code>è¿æ¥ä¸å¤ªç¨³å®šï¼Œæˆ‘ç”¨<code>npm</code>ä¹Ÿæ˜¯è£…äº†ä¸¤æ¬¡<code>hexo</code>æ‰æˆåŠŸã€‚è€Œ<code>cnpm</code>æ˜¯æ·˜å®å›¢é˜Ÿæä¾›çš„ä¸€ä¸ª<code>npm</code>é•œåƒåº“ï¼Œå›½å†…è®¿é—®éå¸¸å¿«ï¼Œä»¥åçš„<code>npm</code>å‘½ä»¤å°±åœ¨å‰é¢åŠ ä¸€ä¸ª<code>c</code>ï¼Œä½¿ç”¨æ–¹æ³•å®Œå…¨ç›¸åŒã€‚ç„¶å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-cli -g</span><br></pre></td></tr></table></figure><p>åœ¨æŸä¸ªç›˜ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå–åéšæ„ï¼Œæˆ‘æ˜¯<code>blog</code>ã€‚</p><p>ç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹å³é”®ï¼Œ<code>git bash</code>ï¼Œç„¶å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>å³åœ¨æ­¤åˆå§‹åŒ–hexoæºæ–‡ä»¶ï¼Œéœ€è¦è¿™ä¸ª<code>blog</code>æ–‡ä»¶å¤¹åˆå§‹ä¸ºç©ºã€‚ç„¶å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install</span><br></pre></td></tr></table></figure><p>è¿™ä¸€æ­¥æ˜¯å®‰è£…é€šç”¨çš„npmåŒ…æ–‡ä»¶ï¼Œå¦‚æœæœ‰ç‰¹å®šçš„npmåŒ…éœ€è¦é¢å¤–æ·»åŠ ã€‚æˆ‘ä»¬é™¤äº†é€šç”¨åŒ…ï¼Œè¿˜è¦ä¸€ä¸ªhexoéƒ¨ç½²åšå®¢çš„åŒ…æ–‡ä»¶ï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>ç°åœ¨éœ€è¦çš„åŸºç¡€åŒ…å°±å®‰è£…å¥½äº†ã€‚</p><h2 id="step-2-æµ‹è¯•æœ¬åœ°å‘å¸ƒ"><a href="#step-2-æµ‹è¯•æœ¬åœ°å‘å¸ƒ" class="headerlink" title="step 2 æµ‹è¯•æœ¬åœ°å‘å¸ƒ"></a>step 2 æµ‹è¯•æœ¬åœ°å‘å¸ƒ</h2><p>ç°åœ¨æ–°å»ºä¸€ä¸ªåšå®¢ï¼Œåœ¨<code>blog</code>æ–‡ä»¶å¤¹ä¸‹å³é”®ï¼Œ<code>git bash</code>ï¼Œç„¶åè¾“å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new test</span><br></pre></td></tr></table></figure><p>è¿™ä¸€æ­¥æ˜¯åœ¨ç”Ÿæˆä¸€ç¯‡ç©ºåšå®¢marksownæ–‡æ¡£ï¼Œå­˜åœ¨<code>blog\source\_post</code>è·¯å¾„ä¸‹ï¼Œå¯ä»¥ç”¨ç¼–è¾‘å™¨æ‰“å¼€å®ƒï¼Œæˆ‘ç”¨çš„æ˜¯sublimeï¼Œè£…äº†markdown editingå’Œmarkdown previewæ’ä»¶ï¼Œæˆ–è€…å…¶ä»–mdç¼–è¾‘å™¨éƒ½è¡Œï¼Œåœ¨test.mdä¸­éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼Œç„¶åä¿å­˜ã€‚æ¥ä¸‹æ¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></p><p>è¿™ä¸€æ­¥æ˜¯hexoçš„æ ¸å¿ƒï¼ŒæŠŠmdæ–‡ä»¶è½¬ä¸ºé™æ€é¡µé¢ï¼Œå¹¶æ·»åŠ ä¸»é¢˜æ ·å¼å’Œå¿…è¦çš„é“¾æ¥ï¼Œç”Ÿæˆçš„æ–‡ä»¶åœ¨publicä¸‹ã€‚ç„¶å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå°±æ˜¯åœ¨æœ¬åœ°é¢„è§ˆåšå®¢ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:4000</span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ã€‚<br>ç°åœ¨åªèƒ½è‡ªå·±æµè§ˆï¼Œæƒ³è¦è®©å…¶ä»–äººä¹Ÿèƒ½çœ‹åˆ°ï¼Œå°±éœ€è¦éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚ç§ŸæœåŠ¡å™¨ä¸ä»…è¦èŠ±è´¹ï¼Œè¿˜è¦è‡ªå·±æ­å»ºwebç¯å¢ƒï¼Œå¤ªéº»çƒ¦äº†ï¼Œè€Œä¸”ä¸é€‚åˆå­¦ç”Ÿå…šå’ŒæŠ€æœ¯ä¸å¤Ÿçš„åŒå­¦ä»¬ï¼Œä¸‡å¹¸githubå’Œcodingéƒ½æä¾›äº†é™æ€é¡µé¢è§£æçš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠ<code>public</code>æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹<code>push</code>åˆ°ä¸€ä¸ªgitè¿œç¨‹ä»“åº“å°±å¯ä»¥äº†ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦å¼€å§‹å‘å¸ƒåˆ°codingçš„æ­¥éª¤ã€‚</p><h2 id="step-3-æœ¬åœ°åšå®¢éƒ¨ç½²åˆ°coding"><a href="#step-3-æœ¬åœ°åšå®¢éƒ¨ç½²åˆ°coding" class="headerlink" title="step 3 æœ¬åœ°åšå®¢éƒ¨ç½²åˆ°coding"></a>step 3 æœ¬åœ°åšå®¢éƒ¨ç½²åˆ°coding</h2><p>é¦–å…ˆï¼Œå»å®˜ç½‘ç™»é™†ä½ çš„codingè´¦å·ï¼Œæ²¡æœ‰å°±æ³¨å†Œä¸€ä¸ªï¼Œç„¶åå®Œå–„ä¸ªäººä¿¡æ¯ï¼Œå‡çº§åˆ°é“¶ç‰Œä¼šå‘˜ï¼ˆæ‰èƒ½ç»‘å®šä¸ªäººåŸŸåï¼‰ã€‚ç„¶åæ–°å»ºä¸€ä¸ªrepositoryï¼Œé¡¹ç›®åç§°å°±å¡«ä½ çš„ç”¨æˆ·åï¼Œé€‰æ‹©ç§æœ‰ï¼Œç„¶ååˆ›å»ºé¡¹ç›®ã€‚<br><img src="https://foreti.me/imgplace/2019/20170807124643.png" alt="img"></p><p>ç°åœ¨æœ‰äº†è¿œç¨‹ä»“åº“ï¼Œå°±è¦æŠŠæœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“å…³è”èµ·æ¥ï¼Œé¦–å…ˆåœ¨<code>blog</code>ç›®å½•ä¸‹<code>git bash</code>ï¼Œç„¶åè¾“å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config -l</span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹ä½ çš„gité…ç½®ä¿¡æ¯ï¼Œåƒæˆ‘çš„æ˜¯è¿™æ ·<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ git config -l</span><br><span class="line">core.symlinks=false</span><br><span class="line">core.autocrlf=true</span><br><span class="line">core.fscache=true</span><br><span class="line">color.diff=auto</span><br><span class="line">color.status=auto</span><br><span class="line">color.branch=auto</span><br><span class="line">color.interactive=true</span><br><span class="line">help.format=html</span><br><span class="line">rebase.autosquash=true</span><br><span class="line">http.sslcainfo=C:/Program Files/Git/mingw64/ssl/certs/ca-bundle.crt</span><br><span class="line">diff.astextplain.textconv=astextplain</span><br><span class="line">filter.lfs.clean=git-lfs clean -- %f</span><br><span class="line">filter.lfs.smudge=git-lfs smudge -- %f</span><br><span class="line">filter.lfs.required=true</span><br><span class="line">filter.lfs.process=git-lfs filter-process</span><br><span class="line">credential.helper=manager</span><br><span class="line">user.name=xxx</span><br><span class="line">user.email=xxx@xxx.com</span><br><span class="line">core.repositoryformatversion=0</span><br><span class="line">core.filemode=false</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">core.symlinks=false</span><br><span class="line">core.ignorecase=true</span><br><span class="line">gui.wmstate=normal</span><br><span class="line">gui.geometry=841x483+343+178 189 218</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œä½ åªç”¨å…³æ³¨çš„æ˜¯è¿™ä¸¤è¡Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.name=xxx</span><br><span class="line">user.email=xxx@xxx.com</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½ æ²¡æœ‰è¿™ä¸¤è¡Œï¼Œé‚£ä¹ˆä½ éœ€è¦æ·»åŠ é…ç½®ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &quot;your email&quot;</span><br></pre></td></tr></table></figure></p><p>å’Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;your name&quot;</span><br></pre></td></tr></table></figure></p><p>å°†åŒå¼•å·ä¸­å†…å®¹æ›¿æ¢ä¸ºä½ è‡ªå·±çš„codingç”¨æˆ·åå’Œé‚®ç®±ï¼Œå¯ä»¥åœ¨codingä¸ªäººè®¾ç½®ä¸­æŸ¥çœ‹è‡ªå·±çš„ç”¨æˆ·åå’Œé‚®ç®±ã€‚</p><p>ç„¶åæˆ‘ä»¬ç»™æœ¬åœ°æ·»åŠ ä¸€ä¸ª<code>SSH key</code>ï¼Œè¿™æ ·çš„è¯æ¯æ¬¡éƒ¨ç½²å°±ä¸ç”¨è¾“å¯†ç ã€‚åœ¨git bashä¸­è¾“å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;your email&quot;</span><br></pre></td></tr></table></figure></p><p>æˆåŠŸä¼šå‡ºç°ä»¥ä¸‹ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Creates a new ssh key, using the provided email as a label</span><br><span class="line"># Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter]  // æ¨èä½¿ç”¨é»˜è®¤åœ°å€,å¦‚æœä½¿ç”¨éé»˜è®¤åœ°å€å¯èƒ½éœ€è¦é…ç½® .ssh/config</span><br></pre></td></tr></table></figure></p><p>ç„¶åä¸€ç›´å›è½¦ï¼Œå›è½¦ï¼Œå›è½¦ï¼Œç„¶ååœ¨ Coding.net æ·»åŠ å…¬é’¥<br>æœ¬åœ°æ‰“å¼€ id_rsa.pub æ–‡ä»¶ï¼ˆä¸€èˆ¬åœ¨cç›˜ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹ï¼Œè¿›å…¥ä½ çš„ç”¨æˆ·æ–‡ä»¶å¤¹ï¼Œæœ‰ä¸€ä¸ª<code>.ssh</code>æ–‡ä»¶ï¼Œæ‰“å¼€å…¶ä¸­çš„<code>id_rsa.pub</code> ï¼‰ï¼Œå¤åˆ¶å…¶ä¸­å…¨éƒ¨å†…å®¹ï¼Œæ·»åŠ åˆ°Codingè´¦æˆ·â€œSSH å…¬é’¥â€é¡µé¢ ä¸­ï¼Œå…¬é’¥åç§°å¯ä»¥éšæ„èµ·åå­—ã€‚<br>å®Œæˆåç‚¹å‡»â€œæ·»åŠ â€ï¼Œç„¶åè¾“å…¥å¯†ç æˆ–åŠ¨æ€ç å³å¯æ·»åŠ å®Œæˆã€‚<br><img src="https://foreti.me/imgplace/2019/20170807132102.png" alt="img"><br>è¿™é‡Œè¦æ³¨æ„æ˜¯è´¦æˆ·çš„SSHå…¬åŒ™ï¼Œè€Œä¸æ˜¯é¡¹ç›®ä¸­çš„è®¾ç½®çš„éƒ¨ç½²å…¬åŒ™ï¼Œåˆ‡è®°ã€‚</p><p>ç°åœ¨éªŒè¯ä¸€ä¸‹æ˜¯å¦æ·»åŠ SSHå…¬åŒ™æˆåŠŸï¼Œåœ¨git bashä¸­è¾“å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@git.coding.net</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæˆåŠŸï¼Œä¼šå‡ºç°ä»¥ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Are you sure you want to continue connecting (yes/no)? yes </span><br><span class="line">Warning: Permanently added â€˜git.coding.net,61.146.73.68â€™ (RSA) to the list of kn own hosts.</span><br><span class="line">Enter passphrase for key â€˜/c/Users/xxx/.ssh/id_rsaâ€™: Coding.net Tips : [ Hello xxx! You have connected to Coding.net by SSH successfully! ]</span><br></pre></td></tr></table></figure><p>ç°åœ¨å°±å·²ç»æ·»åŠ å¥½äº†å…¬åŒ™ï¼Œæˆ‘ä»¬ç¦»åšå®¢éƒ¨ç½²åˆ°codingåªå·®ä¸€æ­¥ã€‚</p><h2 id="step-4-éƒ¨ç½²åšå®¢åˆ°coding"><a href="#step-4-éƒ¨ç½²åšå®¢åˆ°coding" class="headerlink" title="step 4 éƒ¨ç½²åšå®¢åˆ°coding"></a>step 4 éƒ¨ç½²åšå®¢åˆ°coding</h2><p>é¦–å…ˆæ‰“å¼€<code>blog</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ï¼Œè¿™æ˜¯æˆ‘çš„é…ç½®ï¼Œä½ éœ€è¦ä¿®æ”¹çš„åœ°æ–¹æˆ‘éƒ½åŠ äº†æ³¨é‡Šï¼Œåˆ«çš„ä¸è¦åŠ¨ï¼Œè¿˜æœ‰å°±æ˜¯è¦æ³¨æ„è¿™é‡Œymlæ–‡ä»¶æ˜¯ç”¨çš„yamlè„šæœ¬è¯­è¨€ï¼Œå¯¹è¯­æ³•è¦æ±‚å¾ˆä¸¥æ ¼ï¼Œæ¯ä¸ª<code>:</code>åé¢è¦åŠ ä¸Šç©ºæ ¼ï¼Œæ²¡ç©ºæ ¼ä¼šç¼–è¯‘å‡ºé”™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"># Hexo Configuration</span><br><span class="line">## Docs: https://hexo.io/docs/configuration.html</span><br><span class="line">## Source: https://github.com/hexojs/hexo/</span><br><span class="line"></span><br><span class="line"># Site</span><br><span class="line">title: Yanss&apos;s Blog #æ”¹ä¸ºä½ è‡ªå·±çš„ç½‘ç«™å</span><br><span class="line">subtitle:</span><br><span class="line">description: Winner Winner, Chicken Dinner #æ”¹ä¸ºä½ è‡ªå·±çš„æè¿°è¯­å¥ï¼Œéšä¾¿å†™</span><br><span class="line">author: Yanss #æ”¹æˆä½ è‡ªå·±çš„åå­—</span><br><span class="line">language: </span><br><span class="line">timezone: Asia/Shanghai</span><br><span class="line"></span><br><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</span><br><span class="line">url: https://yanss.top #urlæ”¹æˆ&quot;xxx.coding.me&quot;ï¼Œxxxæ˜¯ä½ çš„ä»“åº“åï¼Œä¹Ÿæ˜¯ä½ çš„ç”¨æˆ·å</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br><span class="line"></span><br><span class="line"># Directory</span><br><span class="line">source_dir: source</span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br><span class="line"></span><br><span class="line"># Writing</span><br><span class="line">new_post_name: :title.md # File name of new posts</span><br><span class="line">default_layout: post</span><br><span class="line">titlecase: false # Transform title into titlecase</span><br><span class="line">external_link: true # Open external links in new tab</span><br><span class="line">filename_case: 0</span><br><span class="line">render_drafts: false</span><br><span class="line">post_asset_folder: false</span><br><span class="line">relative_link: false</span><br><span class="line">future: true</span><br><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace:</span><br><span class="line">  </span><br><span class="line"># Category &amp; Tag</span><br><span class="line">default_category: uncategorized</span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br><span class="line"></span><br><span class="line"># Date / Time format</span><br><span class="line">## Hexo uses Moment.js to parse and display date</span><br><span class="line">## You can customize the date format as defined in</span><br><span class="line">## http://momentjs.com/docs/#/displaying/format/</span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line"></span><br><span class="line"># Pagination</span><br><span class="line">## Set per_page to 0 to disable pagination</span><br><span class="line">per_page: 10</span><br><span class="line">pagination_dir: page</span><br><span class="line"></span><br><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: next #è¿™é‡Œæ˜¯ä¸»é¢˜åï¼Œä½ çš„å…ˆä¸è¦å˜ï¼Œåé¢æ¢ä¸»é¢˜å†æ”¹</span><br><span class="line"></span><br><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:yanss/yanss.github.io.git #repoè¿™é‡Œå†™ä½ çš„ä»“åº“åœ°å€ï¼Œä¸‹é¢å‘Šè¯‰æ€ä¹ˆæ‰¾</span><br><span class="line">  branch: master #å°±ä¸€ä¸ªåˆ†æ”¯å°±ä¸ç”¨æ”¹ï¼Œé»˜è®¤master</span><br><span class="line"></span><br><span class="line">#è¿™ä¸ªfeedæ˜¯æ·»åŠ RSSè®¢é˜…ç”¨çš„ï¼Œè¿™é‡Œä½ æ²¡æœ‰æš‚æ—¶ä¸ç”¨å†™</span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content: </span><br><span class="line"></span><br><span class="line">#è¿™ä¸ªsearchæ˜¯ç«™å†…æœç´¢çš„ï¼Œä¹Ÿæ˜¯æ²¡æœ‰å°±ä¸ç”¨å†™</span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure><p>æ‰“å¼€codingç½‘ç«™ä¸Šä½ åˆšæ‰åˆ›å»ºçš„ä»“åº“ï¼Œç‚¹å‡»ä»£ç ï¼Œå·¦ä¸‹è§’é€‰æ‹©<code>SSHæ–¹å¼è®¿é—®ä»“åº“</code>ï¼Œå¤åˆ¶é‚£ä¸ªé“¾æ¥ï¼ŒæŠŠå®ƒå¡«åˆ°ä½ çš„<code>_config.yml</code>çš„<code>repo</code>é‚£é‡Œã€‚</p><p><img src="https://foreti.me/imgplace/2019/20170807130858.png" alt="img"></p><p>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹éƒ¨ç½²åšå®¢äº†ï¼Œè®°å¾—éƒ¨ç½²ä¹‹å‰æœ€å¥½æ¸…ç†ä¸€é<code>public</code>æ–‡ä»¶å¤¹,ä¹Ÿå°±æ˜¯è¿™æ ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç›´æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure><p>coding+hexoçš„åšå®¢éƒ¨ç½²æ“ä½œå°±æ˜¯è¿™äº›äº†ï¼Œæœ‰é—®é¢˜å¯ä»¥ä¸‹æ–¹ç•™è¨€è¯„è®ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨coding.netä¸Šç­”åº”äº†å¥½å‡ ä¸ªè¯„è®ºçš„æœ‹å‹è¦å†™ä¸€ç¯‡æ•™ç¨‹ï¼Œä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥ä¸»é¢˜ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="https://foreti.me/blog/tags/Hexo/"/>
    
      <category term="Coding" scheme="https://foreti.me/blog/tags/Coding/"/>
    
  </entry>
  
  <entry>
    <title>SSMæ¡†æ¶å„å±‚å…³ç³»</title>
    <link href="https://foreti.me/blog/2017/07/20/ssm-framework/"/>
    <id>https://foreti.me/blog/2017/07/20/ssm-framework/</id>
    <published>2017-07-20T14:10:33.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>SSMåŒ…å«æŒä¹…å±‚Daoå’ŒModelï¼Œä¸šåŠ¡å±‚Serviceå’ŒServiceImplï¼Œè¡¨ç°å±‚Controllerå’ŒViewï¼Œæœ¬æ–‡è®²è¿°è¿™äº›ä¸åŒå±‚çš„ä½œç”¨å’Œå…³ç³»ã€‚</p><a id="more"></a><hr><h2 id="æŒä¹…å±‚ï¼šDaoå±‚ï¼ˆmapperï¼‰"><a href="#æŒä¹…å±‚ï¼šDaoå±‚ï¼ˆmapperï¼‰" class="headerlink" title="æŒä¹…å±‚ï¼šDaoå±‚ï¼ˆmapperï¼‰"></a>æŒä¹…å±‚ï¼šDaoå±‚ï¼ˆmapperï¼‰</h2><blockquote><p>DAOå±‚ä¸»è¦æ˜¯åšæ•°æ®æŒä¹…å±‚çš„å·¥ä½œï¼Œè´Ÿè´£ä¸æ•°æ®åº“è¿›è¡Œè”ç»œçš„ä¸€äº›ä»»åŠ¡éƒ½å°è£…åœ¨æ­¤</p></blockquote><ul><li>DAOå±‚çš„è®¾è®¡é¦–å…ˆæ˜¯è®¾è®¡DAOçš„æ¥å£</li><li>ç„¶ååœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­å®šä¹‰æ­¤æ¥å£çš„å®ç°ç±»</li><li>ç„¶åå°±å¯åœ¨æ¨¡å—ä¸­è°ƒç”¨æ­¤æ¥å£æ¥è¿›è¡Œæ•°æ®ä¸šåŠ¡çš„å¤„ç†ï¼Œè€Œä¸ç”¨å…³å¿ƒæ­¤æ¥å£çš„å…·ä½“å®ç°ç±»æ˜¯å“ªä¸ªç±»ï¼Œæ˜¾å¾—ç»“æ„éå¸¸æ¸…æ™°</li><li>DAOå±‚çš„æ•°æ®æºé…ç½®ï¼Œä»¥åŠæœ‰å…³æ•°æ®åº“è¿æ¥çš„å‚æ•°éƒ½åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</li></ul><h2 id="ä¸šåŠ¡å±‚ï¼šServiceå±‚"><a href="#ä¸šåŠ¡å±‚ï¼šServiceå±‚" class="headerlink" title="ä¸šåŠ¡å±‚ï¼šServiceå±‚"></a>ä¸šåŠ¡å±‚ï¼šServiceå±‚</h2><blockquote><p>Serviceå±‚ä¸»è¦è´Ÿè´£ä¸šåŠ¡æ¨¡å—çš„é€»è¾‘åº”ç”¨è®¾è®¡</p></blockquote><ul><li>é¦–å…ˆè®¾è®¡æ¥å£ï¼Œå†è®¾è®¡å…¶å®ç°çš„ç±»</li><li>æ¥ç€å†åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®å…¶å®ç°çš„å…³è”ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨åº”ç”¨ä¸­è°ƒç”¨Serviceæ¥å£æ¥è¿›è¡Œä¸šåŠ¡å¤„ç†</li><li>Serviceå±‚çš„ä¸šåŠ¡å®ç°ï¼Œå…·ä½“è¦è°ƒç”¨åˆ°å·²å®šä¹‰çš„DAOå±‚çš„æ¥å£</li><li>å°è£…Serviceå±‚çš„ä¸šåŠ¡é€»è¾‘æœ‰åˆ©äºé€šç”¨çš„ä¸šåŠ¡é€»è¾‘çš„ç‹¬ç«‹æ€§å’Œé‡å¤åˆ©ç”¨æ€§ï¼Œç¨‹åºæ˜¾å¾—éå¸¸ç®€æ´</li></ul><h2 id="è¡¨ç°å±‚ï¼šControllerå±‚ï¼ˆHandlerï¼‰"><a href="#è¡¨ç°å±‚ï¼šControllerå±‚ï¼ˆHandlerï¼‰" class="headerlink" title="è¡¨ç°å±‚ï¼šControllerå±‚ï¼ˆHandlerï¼‰"></a>è¡¨ç°å±‚ï¼šControllerå±‚ï¼ˆHandlerï¼‰</h2><blockquote><p>Controllerå±‚è´Ÿè´£å…·ä½“çš„ä¸šåŠ¡æ¨¡å—æµç¨‹çš„æ§åˆ¶</p></blockquote><ul><li>åœ¨æ­¤å±‚é‡Œé¢è¦è°ƒç”¨Serviceå±‚çš„æ¥å£æ¥æ§åˆ¶ä¸šåŠ¡æµç¨‹</li><li>æ§åˆ¶çš„é…ç½®ä¹ŸåŒæ ·æ˜¯åœ¨Springçš„é…ç½®æ–‡ä»¶é‡Œé¢è¿›è¡Œï¼Œé’ˆå¯¹å…·ä½“çš„ä¸šåŠ¡æµç¨‹ï¼Œä¼šæœ‰ä¸åŒçš„æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬å…·ä½“çš„è®¾è®¡è¿‡ç¨‹ä¸­å¯ä»¥å°†æµç¨‹è¿›è¡ŒæŠ½è±¡å½’çº³ï¼Œè®¾è®¡å‡ºå¯ä»¥é‡å¤åˆ©ç”¨çš„å­å•å…ƒæµç¨‹æ¨¡å—ï¼Œè¿™æ ·ä¸ä»…ä½¿ç¨‹åºç»“æ„å˜å¾—æ¸…æ™°ï¼Œä¹Ÿå¤§å¤§å‡å°‘äº†ä»£ç é‡</li></ul><h2 id="Viewå±‚"><a href="#Viewå±‚" class="headerlink" title="Viewå±‚"></a>Viewå±‚</h2><ul><li>Viewå±‚ï¼šæ­¤å±‚ä¸æ§åˆ¶å±‚ç»“åˆæ¯”è¾ƒç´§å¯†ï¼Œéœ€è¦äºŒè€…ç»“åˆèµ·æ¥ååŒå·¥å‘ã€‚Viewå±‚ä¸»è¦è´Ÿè´£å‰å°jspé¡µé¢çš„è¡¨ç¤º.</li></ul><h2 id="å„å±‚è”ç³»"><a href="#å„å±‚è”ç³»" class="headerlink" title="å„å±‚è”ç³»"></a>å„å±‚è”ç³»</h2><ul><li>DAOå±‚ï¼ŒServiceå±‚è¿™ä¸¤ä¸ªå±‚æ¬¡éƒ½å¯ä»¥å•ç‹¬å¼€å‘ï¼Œäº’ç›¸çš„è€¦åˆåº¦å¾ˆä½ï¼Œå®Œå…¨å¯ä»¥ç‹¬ç«‹è¿›è¡Œï¼Œè¿™æ ·çš„ä¸€ç§æ¨¡å¼åœ¨å¼€å‘å¤§é¡¹ç›®çš„è¿‡ç¨‹ä¸­å°¤å…¶æœ‰ä¼˜åŠ¿</li><li>Controllerï¼ŒViewå±‚å› ä¸ºè€¦åˆåº¦æ¯”è¾ƒé«˜ï¼Œå› è€Œè¦ç»“åˆåœ¨ä¸€èµ·å¼€å‘ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥çœ‹ä½œä¸€ä¸ªæ•´ä½“ç‹¬ç«‹äºå‰ä¸¤ä¸ªå±‚è¿›è¡Œå¼€å‘ã€‚è¿™æ ·ï¼Œåœ¨å±‚ä¸å±‚ä¹‹å‰æˆ‘ä»¬åªéœ€è¦çŸ¥é“æ¥å£çš„å®šä¹‰ï¼Œè°ƒç”¨æ¥å£å³å¯å®Œæˆæ‰€éœ€è¦çš„é€»è¾‘å•å…ƒåº”ç”¨ï¼Œä¸€åˆ‡æ˜¾å¾—éå¸¸æ¸…æ™°ç®€å•</li><li>Serviceå±‚æ˜¯å»ºç«‹åœ¨DAOå±‚ä¹‹ä¸Šçš„ï¼Œå»ºç«‹äº†DAOå±‚åæ‰å¯ä»¥å»ºç«‹Serviceå±‚ï¼Œè€ŒServiceå±‚åˆæ˜¯åœ¨Controllerå±‚ä¹‹ä¸‹çš„ï¼Œå› è€ŒServiceå±‚åº”è¯¥æ—¢è°ƒç”¨DAOå±‚çš„æ¥å£ï¼Œåˆè¦æä¾›æ¥å£ç»™Controllerå±‚çš„ç±»æ¥è¿›è¡Œè°ƒç”¨ï¼Œå®ƒåˆšå¥½å¤„äºä¸€ä¸ªä¸­é—´å±‚çš„ä½ç½®ã€‚æ¯ä¸ªæ¨¡å‹éƒ½æœ‰ä¸€ä¸ªServiceæ¥å£ï¼Œæ¯ä¸ªæ¥å£åˆ†åˆ«å°è£…å„è‡ªçš„ä¸šåŠ¡å¤„ç†æ–¹æ³•</li></ul><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>viewå±‚ï¼šç»“åˆcontrolå±‚ï¼Œæ˜¾ç¤ºå‰ç«¯é¡µé¢</p><p>controlå±‚ï¼šä¸šåŠ¡æ¨¡å—æµç¨‹æ§åˆ¶ï¼Œè°ƒç”¨serviceå±‚æ¥å£</p><p>serviceå±‚ï¼šä¸šåŠ¡æ“ä½œå®ç°ç±»ï¼Œè°ƒç”¨daoæ¥å£</p><p>daoå±‚ï¼šæ•°æ®ä¸šåŠ¡å¤„ç†ï¼ŒæŒä¹…åŒ–æ“ä½œ</p><p>modelå±‚ï¼špojoï¼Œ or mappingï¼ŒæŒä¹…å±‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">A[View]--&gt;B[Controller]</span><br><span class="line">B--&gt;C[Service]</span><br><span class="line">C--&gt;D[ServiceImpl]</span><br><span class="line">D--&gt;E[Dao]</span><br><span class="line">E--&gt;F[Mapping]</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;SSMåŒ…å«æŒä¹…å±‚Daoå’ŒModelï¼Œä¸šåŠ¡å±‚Serviceå’ŒServiceImplï¼Œè¡¨ç°å±‚Controllerå’ŒViewï¼Œæœ¬æ–‡è®²è¿°è¿™äº›ä¸åŒå±‚çš„ä½œç”¨å’Œå…³ç³»ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="springnvc" scheme="https://foreti.me/blog/tags/springnvc/"/>
    
  </entry>
  
  <entry>
    <title>æ ‘å’ŒäºŒå‰æ ‘</title>
    <link href="https://foreti.me/blog/2017/03/15/binary-tree/"/>
    <id>https://foreti.me/blog/2017/03/15/binary-tree/</id>
    <published>2017-03-15T05:44:53.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œç†ä¸€ä¸‹æ•°æ®ç»“æ„ä¸­æ ‘å’ŒäºŒå‰æ ‘çš„çŸ¥è¯†ã€‚</p><a id="more"></a><hr><h2 id="æ ‘çš„å®šä¹‰"><a href="#æ ‘çš„å®šä¹‰" class="headerlink" title="æ ‘çš„å®šä¹‰"></a>æ ‘çš„å®šä¹‰</h2><blockquote><p>ï¼ˆé€’å½’ï¼‰ä¸€æ£µæ ‘æ˜¯ä¸€äº›èŠ‚ç‚¹çš„é›†åˆã€‚è¿™ä¸ªé›†åˆå¯ä»¥æ˜¯ç©ºé›†ï¼›è‹¥ä¸æ˜¯ç©ºé›†ï¼Œåˆ™æ ‘ç”±ç§°ä½œ<strong>æ ¹</strong>çš„èŠ‚ç‚¹ r ä»¥åŠ 0 ä¸ªæˆ–å¤šä¸ªéç©ºçš„ï¼ˆå­ï¼‰æ ‘ <strong>$T_1ï¼ŒT_2ï¼ŒÂ·Â·Â·ï¼ŒT_k$</strong> ç»„æˆï¼Œè¿™äº›å­æ ‘ä¸­æ¯ä¸€æ£µçš„æ ¹éƒ½è¢«æ¥è‡ªæ ¹ r çš„ä¸€æ¡æœ‰å‘<strong>è¾¹</strong>æ‰€è¿ç»“ã€‚</p></blockquote><h2 id="æ ‘çš„å®ç°"><a href="#æ ‘çš„å®ç°" class="headerlink" title="æ ‘çš„å®ç°"></a>æ ‘çš„å®ç°</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ‘èŠ‚ç‚¹çš„å£°æ˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    Object element;</span><br><span class="line">    TreeNode firstChild;</span><br><span class="line">    TreeNode netSibling;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†æ¯ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å„¿å­éƒ½æ”¾åˆ°æ ‘èŠ‚ç‚¹çš„é“¾è¡¨ä¸­ã€‚</p><h2 id="æ ‘çš„éå†"><a href="#æ ‘çš„éå†" class="headerlink" title="æ ‘çš„éå†"></a>æ ‘çš„éå†</h2><ul><li>å…ˆåºéå†</li><li>ååºéå†</li><li>ä¸­åºéå†</li></ul><h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><blockquote><p>äºŒå‰æ ‘ï¼ˆbinary treeï¼‰æ˜¯ä¸€æ£µæ ‘ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¸èƒ½æœ‰å¤šäºä¸¤ä¸ªçš„å„¿å­ã€‚</p></blockquote><p>äºŒå‰æ ‘å¹³å‡æ·±åº¦ä¸º $O(\sqrt{N})$ï¼Œæœ€å¤§æ·±åº¦ä¸º $N$ã€‚<br>äºŒå‰æŸ¥æ‰¾æ ‘çš„å¹³å‡æ·±åº¦ä¸º $O(log N)$ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//äºŒå‰æ ‘èŠ‚ç‚¹ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryNode</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//Friendly data;accessible by other package toutines</span></span><br><span class="line">    Object element;<span class="comment">//The data in the node</span></span><br><span class="line">    BinaryNode left;<span class="comment">//Left child</span></span><br><span class="line">    BinaryNode right;<span class="comment">//right child</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æŸ¥æ‰¾æ ‘ADTâ€”â€”äºŒå‰æŸ¥æ‰¾æ ‘"><a href="#æŸ¥æ‰¾æ ‘ADTâ€”â€”äºŒå‰æŸ¥æ‰¾æ ‘" class="headerlink" title="æŸ¥æ‰¾æ ‘ADTâ€”â€”äºŒå‰æŸ¥æ‰¾æ ‘"></a>æŸ¥æ‰¾æ ‘ADTâ€”â€”äºŒå‰æŸ¥æ‰¾æ ‘</h2><blockquote><p>ä½¿äºŒå‰æ ‘æˆä¸ºæŸ¥æ‰¾æ ‘çš„æ€§è´¨æ˜¯ï¼Œå¯¹äºæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ X ï¼Œå®ƒçš„å·¦å­æ ‘ä¸­æ‰€æœ‰é¡¹çš„å€¼å°äº X ä¸­çš„é¡¹ï¼Œè€Œå®ƒçš„å³å­æ ‘ä¸­æ‰€æœ‰é¡¹çš„å€¼å¤§äº X ä¸­çš„é¡¹ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//BinaryNodeç±»</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">BinaryNode</span>&lt;<span class="title">AnyType</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//Constructors</span></span><br><span class="line">    BinaryNode(AnyType theElement)</span><br><span class="line">    &#123;<span class="keyword">this</span>(theElement, <span class="keyword">null</span>, <span class="keyword">null</span>);&#125;</span><br><span class="line"></span><br><span class="line">BinaryNode(AnyType theElement, BinaryNode&lt;AnyType&gt; lt, BinaryNode&lt;AnyType&gt; rt)</span><br><span class="line">&#123;element = theElement; left = lt; right = rt;&#125;</span><br><span class="line"></span><br><span class="line">AnyType element;<span class="comment">//The data in the node</span></span><br><span class="line">BinaryNode&lt;AnyType&gt; left;<span class="comment">//Left child</span></span><br><span class="line">BinaryNode&lt;AnyType&gt; right;<span class="comment">//Right child</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒå‰æŸ¥æ‰¾æ ‘æ¶æ„"><a href="#äºŒå‰æŸ¥æ‰¾æ ‘æ¶æ„" class="headerlink" title="äºŒå‰æŸ¥æ‰¾æ ‘æ¶æ„"></a>äºŒå‰æŸ¥æ‰¾æ ‘æ¶æ„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//äºŒå‰æŸ¥æ‰¾æ ‘æ¶æ„</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BinarySearchTree</span>&lt;<span class="title">AnyType</span> <span class="keyword">extends</span> <span class="title">comparable</span>&lt;? <span class="title">super</span> <span class="title">AnyType</span>&gt;&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">BinaryNode</span>&lt;<span class="title">AnyType</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="comment">//Constructors</span></span><br><span class="line">    BinaryNode(AnyType theElement)</span><br><span class="line">    &#123;<span class="keyword">this</span>(theElement, <span class="keyword">null</span>, <span class="keyword">null</span>);&#125;</span><br><span class="line"></span><br><span class="line">BinaryNode(AnyType theElement, BinaryNode&lt;AnyType&gt; lt, BinaryNode&lt;AnyType&gt; rt)</span><br><span class="line">&#123;element = theElement; left = lt; right = rt;&#125;</span><br><span class="line"></span><br><span class="line">AnyType element;<span class="comment">//The data in the node</span></span><br><span class="line">BinaryNode&lt;AnyType&gt; left;<span class="comment">//Left child</span></span><br><span class="line">BinaryNode&lt;AnyType&gt; right;<span class="comment">//Right child</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; root;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BinarySearchTree</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; root = <span class="keyword">null</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeEmpty</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; root = <span class="keyword">null</span>; &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="keyword">return</span> root == <span class="keyword">null</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">( AnyType x )</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="keyword">return</span> contains( x, root ); &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> AnyType <span class="title">findMin</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (isEmpty()) <span class="keyword">throw</span> <span class="keyword">new</span> UnderflowException();</span><br><span class="line"><span class="keyword">return</span> findMin(root).element;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> AnyType <span class="title">finMax</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (isEmpty()) <span class="keyword">throw</span> <span class="keyword">new</span> UnderflowException();</span><br><span class="line"><span class="keyword">return</span> finMax(roow).element;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(AnyType x)</span></span></span><br><span class="line"><span class="function"></span>&#123; root = insert(x,root); &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(AnyType x)</span></span></span><br><span class="line"><span class="function"></span>&#123; root = remove(x,root); &#125; </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printTree</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (isEmpty())</span><br><span class="line">System.out.println(<span class="string">"Empty tree"</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">printTree(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(AnyType x, BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (t == <span class="keyword">null</span>) </span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">int</span> compareResult = x.compareTo(t.element);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(compareResult &lt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> contains(x, t.left);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(compareResult &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> contains(x, t.right);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>; <span class="comment">//Match</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; <span class="title">findMin</span><span class="params">(BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(t.left == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line"><span class="keyword">return</span> findMin(t.left);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; <span class="title">finMax</span><span class="params">(BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t != <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">while</span>(t.right != <span class="keyword">null</span>)</span><br><span class="line">t = t.right;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; <span class="title">insert</span><span class="params">(AnyType x, BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> BinaryNode&lt;&gt;(x, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> compareResult = x.compareTo(t.element);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(compareResult &lt; <span class="number">0</span>)</span><br><span class="line">t.left = insert(x, t.left);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(compareResult &gt; <span class="number">0</span>)</span><br><span class="line">t.right = insert(x, t.right);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">;<span class="comment">//Duplicate; do nothing</span></span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; <span class="title">remove</span><span class="params">(AnyType x, BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> t;<span class="comment">//Item not found; do nothing</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> compareResult = x.compareTo(t.element);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(compareResult &lt; <span class="number">0</span>)</span><br><span class="line">t.left = remove(x, t.left);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(compareResult &gt; <span class="number">0</span>)</span><br><span class="line">t.right = remove(x, t.right);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(t.left != <span class="keyword">null</span> &amp;&amp; t.right != <span class="keyword">null</span>)<span class="comment">//Two children</span></span><br><span class="line">&#123;</span><br><span class="line">t.element = findMin(t.right).element;</span><br><span class="line">t.right = remove(t.element, t.right);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">t = (t.left != <span class="keyword">null</span>) ? t.left : t.right;</span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printTree</span><span class="params">(BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (t != <span class="keyword">null</span>) &#123;</span><br><span class="line">printTree(t.left);</span><br><span class="line">System.out.println(t.element);</span><br><span class="line">printTree(t.right);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="containsæ–¹æ³•"><a href="#containsæ–¹æ³•" class="headerlink" title="containsæ–¹æ³•"></a>containsæ–¹æ³•</h3><blockquote><p>å¦‚æœæ ‘ $T$ ä¸­å«æœ‰é¡¹ $X$ çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªæ“ä½œéœ€è¦è¿”å›trueï¼Œå¦‚æœè¿™æ ·çš„èŠ‚ç‚¹ä¸å­˜åœ¨åˆ™è¿”å›falseã€‚æ ‘çš„ç»“æ„ä½¿è¿™ç§æ“ä½œå¾ˆç®€å•ã€‚å¦‚æœ $T$ æ˜¯ç©ºé›†ï¼Œé‚£ä¹ˆä¹…è¿”å›falseã€‚å¦åˆ™ï¼Œå¦‚æœå­˜å‚¨åœ¨ $T$ å¤„çš„é¡¹æ˜¯ $X$ ï¼Œé‚£ä¹ˆå¯ä»¥è¿”å›trueã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å¯¹æ•° $T$ çš„å·¦å­æ ‘æˆ–å³å­æ ‘è¿›è¡Œä¸€æ¬¡é€’å½’è°ƒç”¨ï¼Œåˆ™ä¾èµ–äº $X$ ä¸å­˜å‚¨åœ¨ $T$ ä¸­çš„é¡¹çš„å…³ç³»ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Internal method to find an item in a subtree</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  x is item to search for.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  t the node that roots the subtree.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> true if the item is found; false otherwise.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒå‰æŸ¥æ‰¾æ ‘çš„containsæ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(AnyType x, BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (t == <span class="keyword">null</span>) </span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">int</span> compareResult = x.compareTo(t.element);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(compareResult &lt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> contains(x, t.left);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(compareResult &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> contains(x, t.right);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>; <span class="comment">//Match</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€’å½’ç”¨whileå¾ªç¯ä»£æ›¿</span></span><br><span class="line">   <span class="keyword">while</span>(compareResult &lt;<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    t=t.left;</span><br><span class="line">    compareResult = x.compareTo(t.element);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>ç®—æ³•è¡¨è¾¾å¼çš„ç®€æ˜æ€§æ˜¯ä»¥é€Ÿåº¦çš„é™ä½ä¸ºä»£ä»·çš„ã€‚</strong></p></blockquote><h3 id="findMinæ–¹æ³•å’ŒfindMaxæ–¹æ³•"><a href="#findMinæ–¹æ³•å’ŒfindMaxæ–¹æ³•" class="headerlink" title="findMinæ–¹æ³•å’ŒfindMaxæ–¹æ³•"></a>findMinæ–¹æ³•å’ŒfindMaxæ–¹æ³•</h3><blockquote><p>è¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«è¿”å›æ ‘ä¸­åŒ…å«æœ€å°å…ƒå’Œæœ€å¤§å…ƒçš„èŠ‚ç‚¹çš„å¼•ç”¨ã€‚ä¸ºæ‰§è¡ŒfindMinï¼Œä»æ ¹å¼€å§‹å¹¶ä¸”åªè¦æœ‰å·¦å„¿å­å°±å‘å·¦è¿›è¡Œã€‚ ç»ˆæ­¢ç‚¹å°±æ˜¯æœ€å°çš„å…ƒç´ ã€‚findMaxé™¤åˆ†æ”¯æœå‘å³å„¿å­å…¶ä½™è¿‡ç¨‹ç›¸åŒã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨é€’å½’ç¼–å†™findMinï¼Œç”¨éé€’å½’ç¼–å†™findMax</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Internal method to find the smallest item in a subtree</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>  t the node that roots the subtree.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> node containing the smallest item</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; <span class="title">findMin</span><span class="params">(BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(t.left == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line"><span class="keyword">return</span> findMin(t.left);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Internal method to find the largest item in a subtree</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>  t the node that roots the subtree.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> node containing the largest item.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; <span class="title">finMax</span><span class="params">(BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t != <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">while</span>(t.right != <span class="keyword">null</span>)</span><br><span class="line">t = t.right;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="insertæ–¹æ³•"><a href="#insertæ–¹æ³•" class="headerlink" title="insertæ–¹æ³•"></a>insertæ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Internal method to insert into a subtree</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  x the item to insert</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  t the node that roots the subtree</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the new root of the subtree</span></span><br><span class="line"><span class="comment"> */</span> </span><br><span class="line"><span class="function"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; <span class="title">insert</span><span class="params">(AnyType x, BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> BinaryNode&lt;&gt;(x, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> compareResult = x.compareTo(t.element);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(compareResult &lt; <span class="number">0</span>)</span><br><span class="line">t.left = insert(x, t.left);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(compareResult &gt; <span class="number">0</span>)</span><br><span class="line">t.right = insert(x, t.right);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">;<span class="comment">//Duplicate; do nothing</span></span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="removeæ–¹æ³•"><a href="#removeæ–¹æ³•" class="headerlink" title="removeæ–¹æ³•"></a>removeæ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Internal method to remove from a subtree</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  x the item to remove.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  t the node that roots the subtree.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the new root of the subtree</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> BinaryNode&lt;AnyType&gt; <span class="title">remove</span><span class="params">(AnyType x, BinaryNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> t;<span class="comment">//Item not found; do nothing</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> compareResult = x.compareTo(t.element);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(compareResult &lt; <span class="number">0</span>)</span><br><span class="line">t.left = remove(x, t.left);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(compareResult &gt; <span class="number">0</span>)</span><br><span class="line">t.right = remove(x, t.right);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(t.left != <span class="keyword">null</span> &amp;&amp; t.right != <span class="keyword">null</span>)<span class="comment">//Node that has two children</span></span><br><span class="line">&#123;</span><br><span class="line">t.element = findMin(t.right).element;<span class="comment">//Find the minimum item of right subtree</span></span><br><span class="line">t.right = remove(t.element, t.right);<span class="comment">//Remove the node of minimum item recursively</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">t = (t.left != <span class="keyword">null</span>) ? t.left : t.right;<span class="comment">//Node that has one children; parent of the node roots subtree of the node</span></span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>å¦‚æœèŠ‚ç‚¹æ˜¯æ ‘å¶ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤ã€‚</li><li>å¦‚æœèŠ‚ç‚¹æœ‰ä¸€ä¸ªå„¿å­ï¼Œè¿™è¯¥èŠ‚ç‚¹éœ€è¦åœ¨å…¶çˆ¶èŠ‚ç‚¹è°ƒæ•´è‡ªå·±çš„é“¾ä»¥ç»•è¿‡è¯¥èŠ‚ç‚¹</li><li>å¦‚æœèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå„¿å­ï¼Œä¸€èˆ¬çš„åˆ é™¤ç­–ç•¥æ˜¯ç”¨å…¶å³å­æ ‘çš„æœ€å°çš„æ•°æ®ä»£æ›¿è¯¥èŠ‚ç‚¹ï¼Œå¹¶åœ¨å³å­æ ‘ä¸­é€’å½’åœ°åˆ é™¤é‚£ä¸ªæœ€å°çš„èŠ‚ç‚¹</li></ul></blockquote><p>å¦å¤–ï¼Œå¦‚æœåˆ é™¤çš„æ¬¡æ•°ä¸å¤šï¼Œé€šå¸¸ä½¿ç”¨çš„ç­–ç•¥æ˜¯æ‡’æƒ°åˆ é™¤ï¼ˆlazy deletionï¼‰ï¼šå½“ä¸€ä¸ªå…ƒç´ è¦è¢«åˆ é™¤æ—¶ï¼Œå®ƒä»ç•™åœ¨æ ‘ä¸­ï¼Œè€Œåªæ˜¯è¢«æ ‡è®°ä¸ºåˆ é™¤ã€‚</p><h2 id="AVLæ ‘"><a href="#AVLæ ‘" class="headerlink" title="AVLæ ‘"></a>AVLæ ‘</h2><blockquote><p>AVLæ ‘æ˜¯<strong>å¸¦æœ‰å¹³è¡¡æ¡ä»¶</strong>çš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚<br>è¿™ä¸ªå¹³è¡¡æ¡ä»¶å¿…é¡»è¦å®¹æ˜“ä¿æŒï¼Œè€Œä¸”å®ƒä¿è¯æ ‘çš„æ·±åº¦é¡»æ˜¯ $O(log N)$ ã€‚<br>ä¸€ä¸ªAVLæ ‘æ˜¯å…¶æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦æœ€å¤šå·® 1 çš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆç©ºæ ‘çš„é«˜åº¦å®šä¹‰ä¸º -1ï¼‰ã€‚</p></blockquote><p>å¯ä»¥çŸ¥é“ï¼Œåœ¨é«˜åº¦ä¸º $h$ çš„AVLæ ‘ä¸­ï¼Œæœ€å°‘èŠ‚ç‚¹æ•° $S(h)=S(h-1)+S(h-2)+1$ ç»™å‡ºã€‚<br>å¯¹äº $h=0, S(h)=1; h=1, S(h)=2$ ã€‚<br>å‡½æ•° $S(h)$ ä¸æ–æ³¢é‚£å¥‘æ•°å¯†åˆ‡ç›¸å…³ã€‚</p><p>é‚£ä¹ˆé‡ç‚¹æ¥äº†ï¼Œå¯¹äºAVLæ ‘çš„æ’å…¥æ“ä½œï¼Œæœ‰å¯èƒ½ç ´åæ ‘çš„å¹³è¡¡æ€§ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨è¿™ä¸€æ­¥æ’å…¥å®Œæˆä¹‹å‰æ¢å¤å¹³è¡¡çš„æ€§è´¨ã€‚</p><p>å¯ä»¥çŸ¥é“ï¼Œä»æ’å…¥çš„èŠ‚ç‚¹å¾€ä¸Šï¼Œé€†è¡Œåˆ°æ ¹ï¼Œè‹¥å‘ç”Ÿå¹³è¡¡ä¿¡æ¯æ”¹å˜ï¼Œé‚£ä¹ˆæ”¹å˜çš„èŠ‚ç‚¹ä¸€å®šåœ¨è¿™æ¡è·¯å¾„ä¸Šã€‚æˆ‘ä»¬éœ€è¦æ‰¾å‡ºè¿™ä¸ªéœ€è¦é‡æ–°å¹³è¡¡çš„èŠ‚ç‚¹ $\alpha$ ã€‚</p><p>å¯¹äºèŠ‚ç‚¹ $\alpha$ ï¼Œä¸å¹³è¡¡æ¡ä»¶å¯èƒ½å‡ºç°åœ¨ä¸€ä¸‹å››ç§æ“ä½œä¸­ï¼š</p><ol><li>å¯¹ $\alpha$ çš„å·¦å„¿å­çš„å·¦å­æ ‘è¿›è¡Œä¸€æ¬¡æ’å…¥ï¼ˆLLï¼‰ã€‚</li><li>å¯¹ $\alpha$ çš„å·¦å„¿å­çš„å³å­æ ‘è¿›è¡Œä¸€æ¬¡æ’å…¥ï¼ˆLRï¼‰ã€‚</li><li>å¯¹ $\alpha$ çš„å³å„¿å­çš„å·¦å­æ ‘è¿›è¡Œä¸€æ¬¡æ’å…¥ï¼ˆRLï¼‰ã€‚</li><li>å¯¹ $\alpha$ çš„å³å„¿å­çš„å³å­æ ‘è¿›è¡Œä¸€æ¬¡æ’å…¥ï¼ˆRRï¼‰ã€‚</li></ol><p>å¯¹äº1å’Œ4ï¼Œæ˜¯æ’å…¥å‘ç”Ÿåœ¨å¤–è¾¹çš„æƒ…å†µï¼Œé€šè¿‡å¯¹æ ‘çš„ä¸€æ¬¡<strong>å•æ—‹è½¬</strong>è€Œå®Œæˆè°ƒæ•´ã€‚å¯¹äº2å’Œ3ï¼Œæ˜¯æ’å…¥å‘ç”Ÿåœ¨å†…éƒ¨çš„æƒ…å†µï¼Œé€šè¿‡å¯¹æ ‘çš„ä¸€æ¬¡<strong>åŒæ—‹è½¬</strong>è€Œå®Œæˆè°ƒæ•´ã€‚</p><p>è¿™é‡Œå…ˆå¯¹AvlNodeç±»è¿›è¡Œå®šä¹‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">AvlNode</span>&lt;<span class="title">AnyType</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="comment">//Constructors</span></span><br><span class="line">AvlNode(AnyType theElement)</span><br><span class="line">&#123;<span class="keyword">this</span>(theElement, <span class="keyword">null</span>, <span class="keyword">null</span>);&#125;</span><br><span class="line"></span><br><span class="line">AvlNode(AnyType theElement, AvlNode&lt;AnyType&gt; lt, AvlNode&lt;AnyType&gt; rt)</span><br><span class="line">&#123;element = theElement; left = lt; right = rt; height = <span class="number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line">AnyType element;<span class="comment">//The data in the code</span></span><br><span class="line">AvlNode&lt;AnyType&gt; left;<span class="comment">//Left child</span></span><br><span class="line">AvlNode&lt;AnyType&gt; right;<span class="comment">//Right child</span></span><br><span class="line"><span class="keyword">int</span> height;<span class="comment">//Height</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åéœ€è¦ä¸€ä¸ªè¿”å›èŠ‚ç‚¹é«˜åº¦çš„æ–¹æ³•ï¼š</p><p>â€‹    </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿”å›AVLæ ‘çš„èŠ‚ç‚¹é«˜åº¦</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * return the height of node t, or -1, if null.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">height</span><span class="params">(AvlNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> t == <span class="keyword">null</span> ? -<span class="number">1</span> : t.height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•æ—‹è½¬"><a href="#å•æ—‹è½¬" class="headerlink" title="å•æ—‹è½¬"></a>å•æ—‹è½¬</h3><p><img src="https://foreti.me/imgplace/2019/20190429221300.png" alt="LLå•æ—‹è½¬"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Rotate binary tree node with left child.</span></span><br><span class="line"><span class="comment"> * For AVL trees, this is a single rotation for case 1.</span></span><br><span class="line"><span class="comment"> * Update heights, then return new root.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> AvlNode&lt;AnyType&gt; <span class="title">RotationWithLeftChild</span><span class="params">(AvlNode&lt;AnyType&gt; k2)</span> </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    AVLTreeNode&lt;AnyType&gt; k1 = k2.left;  </span><br><span class="line">  </span><br><span class="line">    k2.left = k1.right;  </span><br><span class="line">    k1.right = k2;  </span><br><span class="line">  </span><br><span class="line">    k2.height = Math.max( height(k2.left), height(k2.right)) + <span class="number">1</span>;  </span><br><span class="line">    k1.height = Math.max( height(k1.left), k2.height) + <span class="number">1</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> k1;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://foreti.me/imgplace/2019/20190429221627.png" alt="RRå•æ—‹è½¬"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Rotate binary tree node with right child.</span></span><br><span class="line"><span class="comment"> * For AVL trees, this is a single rotation for case 4.</span></span><br><span class="line"><span class="comment"> * Update heights, then return new root.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> AvlNode&lt;AnyType&gt; <span class="title">RotationWithRightChild</span><span class="params">(AvlNode&lt;AnyType&gt; k1)</span> </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    AVLTreeNode&lt;AnyType&gt; k2 = k1.right;  </span><br><span class="line">  </span><br><span class="line">  k1.right = k2.left;  </span><br><span class="line">   k2.left = k1;  </span><br><span class="line">   </span><br><span class="line">   k1.height = Math.max( height(k1.left), height(k1.right)) + <span class="number">1</span>;  </span><br><span class="line">    k1.height = Math.max( height(k2.right), k1.height) + <span class="number">1</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> k2;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŒæ—‹è½¬"><a href="#åŒæ—‹è½¬" class="headerlink" title="åŒæ—‹è½¬"></a>åŒæ—‹è½¬</h3><p><img src="https://foreti.me/imgplace/2019/20190429221709.png" alt="LRåŒæ—‹è½¬"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Double rotate binary tree node: first left child</span></span><br><span class="line"><span class="comment"> * with its right child; then node k3 with new left child.</span></span><br><span class="line"><span class="comment"> * For AVL trees, this is a double rotation for case 2.</span></span><br><span class="line"><span class="comment"> * Update heights, then return new root.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> AvlNode&lt;AnyType&gt; <span class="title">doubleWithLeftChild</span><span class="params">(AvlNode&lt;AnyType&gt; k3)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">k3.left = RotationWithRightChild(k3.left);</span><br><span class="line"><span class="keyword">return</span> RotationWithLeftChild(k3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://foreti.me/imgplace/2019/20190429221732.png" alt="RLåŒæ—‹è½¬"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Double rotate binary tree node: first right child</span></span><br><span class="line"><span class="comment"> * with its left child; then node k1 with new right child.</span></span><br><span class="line"><span class="comment"> * For AVL trees, this is a double rotation for case 3.</span></span><br><span class="line"><span class="comment"> * Update heights, then return new root.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> AvlNode&lt;AnyType&gt; <span class="title">doubleWithRightChild</span><span class="params">(AvlNode&lt;AnyType&gt; k1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">k1.right = RotationWithRightChild(k1.right);</span><br><span class="line"><span class="keyword">return</span> RotationWithLeftChild(k1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="AVLæ ‘çš„æ’å…¥æ–¹æ³•"><a href="#AVLæ ‘çš„æ’å…¥æ–¹æ³•" class="headerlink" title="AVLæ ‘çš„æ’å…¥æ–¹æ³•"></a>AVLæ ‘çš„æ’å…¥æ–¹æ³•</h3><blockquote><p>æ’å…¥æ–¹æ³•å°±æ˜¯å‰æ–‡ä¸­çš„insertæ–¹æ³•ï¼Œåªæ˜¯åœ¨æœ€åä¸€è¡Œè°ƒç”¨å¹³è¡¡çš„æ–¹æ³•ä»¥ä¿æŒAVLæ ‘çš„å¹³è¡¡æ€§ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Internal method to insert into a subtree.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  x the item to insert.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  t the node that roots the subtree.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the new root of the subtree.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> AvlNode&lt;AnyType&gt; <span class="title">insert</span><span class="params">(AnyType x, AvlNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span>AvlNode&lt;&gt;(x, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> compareResult = x.compareTo(t.element);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(compareResult &lt; <span class="number">0</span>)</span><br><span class="line">t.left = insert(x, t.left);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(compareResult &gt; <span class="number">0</span>)</span><br><span class="line">t.right = insert(x, t.right);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">;<span class="comment">//Duplicate; do nothing</span></span><br><span class="line"><span class="keyword">return</span> balance(t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ALLOWED_IMBALLANCE = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Assume t is either balanced of within one of being balanced</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> AvlNode&lt;AnyType&gt; <span class="title">balance</span><span class="params">(AvlNode&lt;AnyType&gt; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(height(t.left) - height(t.right) &gt; ALLOWED_IMBALLANCE)</span><br><span class="line"><span class="keyword">if</span>(height(t.left.left) &gt;= height(t.left.right))</span><br><span class="line">t = RotationWithLeftChild(t);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">t = doubleWithLeftChild(t);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">if</span>(height(t.right) - height(t.left) &gt; ALLOWED_IMBALLANCE)</span><br><span class="line"><span class="keyword">if</span>(height(t.right.right) &gt;= height(t.right.left))</span><br><span class="line">t = RotationWithRightChild(t);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">t = doubleWithRightChild(t);</span><br><span class="line"></span><br><span class="line">t.height = Math.max(height(t.left), height(t.right)) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><h3 id="AVLæ ‘çš„åˆ é™¤æ–¹æ³•"><a href="#AVLæ ‘çš„åˆ é™¤æ–¹æ³•" class="headerlink" title="AVLæ ‘çš„åˆ é™¤æ–¹æ³•"></a>AVLæ ‘çš„åˆ é™¤æ–¹æ³•</h3><blockquote><p>å’ŒAVLæ ‘çš„æ’å…¥ä¸€æ ·ï¼Œåªç”¨åœ¨å‰æ–‡çš„åˆ é™¤æ–¹æ³•æœ€ååŠ ä¸Šä¸€è¡Œè°ƒç”¨å¹³è¡¡çš„æ–¹æ³•å³å¯ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">private AvlNode&lt;AnyType&gt; remove(AnyType x, AvlNode&lt;AnyType&gt; t)</span><br><span class="line">&#123;</span><br><span class="line">if(t == null)</span><br><span class="line">return t;//Item not found; do nothing</span><br><span class="line"></span><br><span class="line">int compareResult = x.compareTo(t.element);</span><br><span class="line"></span><br><span class="line">if(compareResult &lt; 0)</span><br><span class="line">t.left = remove(x, t.left);</span><br><span class="line">else if(compareResult &gt; 0)</span><br><span class="line">t.right = remove(x, t.right);</span><br><span class="line">else if(t.left != null &amp;&amp; t.right != null)//Node that has two children</span><br><span class="line">&#123;</span><br><span class="line">t.element = findMin(t.right).element;//Find the minimum item of right subtree</span><br><span class="line">t.right = remove(t.element, t.right);//Remove the node of minimum item recursively</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">t = (t.left != null) ? t.left : t.right;//Node that has one children; parent of the node roots subtree of the node</span><br><span class="line">return balance(t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™é‡Œç†ä¸€ä¸‹æ•°æ®ç»“æ„ä¸­æ ‘å’ŒäºŒå‰æ ‘çš„çŸ¥è¯†ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="binary tree" scheme="https://foreti.me/blog/tags/binary-tree/"/>
    
  </entry>
  
  <entry>
    <title>æ³¢æ¯”</title>
    <link href="https://foreti.me/blog/2013/04/08/lol-poppy/"/>
    <id>https://foreti.me/blog/2013/04/08/lol-poppy/</id>
    <published>2013-04-07T16:00:00.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p>å½“å¹´æ³¢æ¯”å†·é—¨åˆå‰å®³ï¼Œæ‹¿ç€å°é”¤å­æ‰“éä¸Šå•æ— æ•Œæ‰‹</p><a id="more"></a><hr><p><br><br>æ‰“é“åŒ æŒ¥èˆç€è‡‚è†€<br>æ±—æ°´æµå…¥â€œé“›â€â€œé“›â€çš„æ•²å‡»ä¸­<br>ä¸¤ä¸ªè¾«å­ç”©åœ¨å±±è°·<br>åœ¨èŠ±æµ·é‡Œè¡èµ·æ³¢æµª<br>æ°¸è¿œç«¥ç¨šçš„ç¬‘é¢œæ°¸è¿œåœ¨å¼€æ”¾<br><br><br>é‚£æ£µå°æ ‘ é«˜è¿‡ä½ çš„å¤´é¡¶<br>é‚£æ ‘æ¢¢ä¸Šçš„é£é“ƒ ç»ˆäºä¸å†å“<br>é‚£ç‰‡å„¿æ—¶çš„èŠ± é‚£ç¼•å„¿æ—¶çš„é£<br>èº²åˆ°äº†å“ªé‡Œ<br><br><br>è„±ä¸‹ä¸€èº«ç›”ç”²<br>æœ‰å¤šè®¨åŒæˆ˜äº‰<br>å¤šæƒ³å†å«ä¸€å£° çˆ¸çˆ¸<br>çˆ¸çˆ¸ æˆ‘çš„è¶…çº§æ— æ•Œä¸ƒå½©å¤§æ£’æ£’ç³–å‘¢</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å½“å¹´æ³¢æ¯”å†·é—¨åˆå‰å®³ï¼Œæ‹¿ç€å°é”¤å­æ‰“éä¸Šå•æ— æ•Œæ‰‹&lt;/p&gt;
    
    </summary>
    
    
      <category term="fragment" scheme="https://foreti.me/blog/tags/fragment/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºç”Ÿå‘½ç‹‚æ¬¢</title>
    <link href="https://foreti.me/blog/2013/03/21/be-crazy-for-life/"/>
    <id>https://foreti.me/blog/2013/03/21/be-crazy-for-life/</id>
    <published>2013-03-20T16:00:00.000Z</published>
    <updated>2023-02-12T08:49:53.654Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å†æ¸¸æ¨±å›­</p><a id="more"></a><hr><p>æ—¶éš”å››å¹´ï¼Œåˆåœ¨è¿™ä¸ªå­£èŠ‚ï¼Œæ¥åˆ°æ­¦å¤§æ¨±å›­ï¼Œæ¥åˆ°å››å¹´å‰çš„è®°å¿†é‡Œã€‚</p><p>ççˆå±±çš„ä¸€è‰ä¸€æœ¨æ¸æ¸å’Œå°è±¡é‡å ï¼Œä¸€åˆ‡ä¼¼ä¹æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯æ˜”æ—¥æ—§å‹æ•£è½å››æ–¹ï¼Œå·²ä¸å†ä¸æˆ‘åŒè¡Œï¼ŒåŒæ¸¸ä¸‰æœˆçš„æ¨±èŠ±å¤§é“ã€‚</p><p>èµ°çš„æ˜¯ä¸åŒçš„è·¯çº¿ï¼Œæœ€åéƒ½åˆ°äº†æ¨±å›­å¤©å°ï¼Œåˆ°äº†é‚£ä¸ªä¿¯ç°æ¨±èŠ±å¤§é“çš„è§†è§’ï¼Œé‚£ä¸€è¡Œæ¨±èŠ±æ ‘ç»°ç»°è€Œç«‹ï¼Œåªæ˜¯è¿˜æœªåˆ°å°†è½æœªè½ä¹‹æ—¶ï¼Œè¿˜ä¸æ˜¯æœ€å¥½çš„èµæ¨±æ—¶å€™ï¼Œè¿˜çœ‹ä¸åˆ°çº·çº·æ¨±å¦‚é›ªã€‚</p><p>é£ç­ä¼šä¸å°å¿ƒæŒ‚åˆ°æ ‘ä¸Šï¼Œæˆ‘å¯¹æ¨±èŠ±çš„è®°å¿†ä¹Ÿä¸å°å¿ƒé—ç•™åœ¨å››å¹´å‰çš„æ¨±å›­é‡Œï¼Œé—ç•™åœ¨ä¸€ä¸ªå¥³å­©çš„è¯—é‡Œ:ç²‰è‰²çš„å…«é‡æ¨±â€¦â€¦æˆ‘è®°ä¸å¾—äº†ã€‚</p><p>å¤šå°‘ä¸ªå››å¹´åï¼Œä¼šä¸ä¼šé‡æ¸¸æ¨±å›­ï¼Œæºæ—§å‹ï¼Œå¸¦ä¸Šå››å¶è‰ï¼Œè®¨ä¸€ç‰‡æ¨±èŠ±ç³•ï¼Œåªè®©ä½ æˆ‘æ­¤ç”Ÿå”¯ä¸€è‡ªä¼ ï¼ŒåŒè¯—ä¸€èˆ¬ã€‚</p><p>æˆ‘æƒ³ç¡è§‰äº†ã€‚</p><hr><p>è°¨ä»¥æ­¤æ–‡çºªå¿µæˆ‘æ°¸çœ çš„æœ‹å‹ã€‚</p><p>é‚£æ˜¯09å¹´æˆ‘ç¬¬ä¸€æ¬¡å»æ­¦å¤§æ¨±å›­ï¼ŒåŒå‡ ä¸ªä¼™ä¼´ä¸€èµ·ï¼Œæ˜¯ä»–å¸¦è·¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å†æ¸¸æ¨±å›­&lt;/p&gt;
    
    </summary>
    
    
      <category term="fragment" scheme="https://foreti.me/blog/tags/fragment/"/>
    
  </entry>
  
  <entry>
    <title>æœªå®Œçš„æ­Œ</title>
    <link href="https://foreti.me/blog/2013/02/07/i-am-18-now/"/>
    <id>https://foreti.me/blog/2013/02/07/i-am-18-now/</id>
    <published>2013-02-06T16:00:00.000Z</published>
    <updated>2023-02-12T08:49:53.658Z</updated>
    
    <content type="html"><![CDATA[<p> è¿™ä¸€å¤©ï¼Œæˆ‘18å²äº†ã€‚</p><a id="more"></a><hr><p>æœ‰æ—¶å€™æ·±å¤œäº†ï¼Œä»ç„¶éš¾ä»¥å…¥ç¡ã€‚ è¯¥æƒ³äº›ä»€ä¹ˆå‘¢ï¼Œâ€œä»»æ—¶é—´æµé©¶â€ï¼Œå¾ˆå–œæ¬¢è¿™åŠå¥è¯ï¼ŒåŸå› æ˜¯å®ƒå®åœ¨æœ‰è¶³å¤Ÿæ´’è„±ï¼Œæˆ–è€…è¯´æˆ‘èƒ½å¤Ÿå€Ÿå®ƒè¡¨ç°å‡ºæ´’è„±ã€‚æ¯”å¦‚è¯´â€œä»»æ—¶é—´æµé©¶ï¼Œæˆ‘ä¾ç„¶æƒ³ä½ çˆ±ä½ â€ï¼›åˆæˆ–è€…â€œä»»æ—¶é—´æµé©¶ï¼Œæˆ‘ä»¬æ€»æ˜¯è‹±ä¿Šæ½‡æ´’ï¼Œè²Œç¾å¦‚èŠ±â€ï¼›åˆæˆ–è€…â€œä»»æ—¶é—´æµé©¶ï¼Œå²æœˆè€å»ï¼Œæˆ‘ä»¬è¿˜æ˜¯åœ¨ä¸€èµ·å¼€é»‘lolæŠ¢ä¸€è¡€â€ï¼Œå—¯è¿™å¥æœ€æœ‰æ„Ÿè§‰äº†å¯¹å§â€¦.</p><p>æ—¶é—´æµé©¶ï¼Œæˆ‘éƒ½å¿«19äº†</p><p>æœ‰å¤šå°‘å¹¼ç¨šçš„æ¢¦è¿˜æœªæ›¾å¿˜ï¼Ÿæœ‰å¤šå°‘é—æ†¾ä»æ— æ³•é‡Šæ€€ï¼Ÿ  åˆæ˜¯è°èˆæ—¶å…‰å¦‚å‰‘ï¼Œæ–©æ–­äº†æˆ‘ç”Ÿå‘½é‡Œçš„éƒ¨åˆ†ï¼Œä»æ­¤å†æ— å¾€æ¥ï¼Ÿ</p><p>æ•´ä¸ªé«˜ä¸­é˜¶æ®µï¼Œæˆ‘æ€»æ˜¯åœ¨æƒ³ä»å‰çš„é‚£äº›äº‹é‚£äº›äººï¼Œå¹¶æ²¡æœ‰ç»å†è¿‡ä»€ä¹ˆï¼Œä¾ç„¶è¿·è¿·ç³Šç³Šçš„è¿‡äº†ä¸¤ä¸‰å¹´ã€‚åšè¿‡å¾ˆå¤šæ¢¦ï¼Œä¸€ç›´è®°å¾—åœ¨è¯¾é—´å°æ†©æææƒšæƒšçš„æ¢¦åˆ°ä¸€ä¸ªè“è‰²è£™å­çš„å¥³å­©åæˆ‘èº«è¾¹ï¼Œç†Ÿæ‚‰è€Œæ¨¡ç³Šçš„è„¸ï¼Œé‚£æ˜¯æœªæ¥çš„å¥¹ä¹ˆï¼Œæˆ‘æ— æ³•çŸ¥é“ã€‚æœ‰çš„æ¢¦åƒä¸€ä¸ªæ•…äº‹ï¼Œæœ‰æ—¶å€™æˆ‘ä¼šè¢«ä»£å…¥åˆ°ä¸€ä¸ªè§’è‰²ï¼Œæœ‰æ—¶å€™åˆ™æ˜¯ä¸Šå¸ä¹‹çœ¼ã€‚è¿˜æœ‰è®¸å¤šå¥‡å¥‡æ€ªæ€ªçš„æ¢¦ ï¼Œå¤å¤é“é“çš„äººï¼Œåœ¨æˆ‘çš„ç”Ÿå‘½é‡Œï¼Œä»æœªå‡ºç°è¿‡å¾—äº‹ç‰©ã€‚ä¹Ÿè®¸æ˜¯å°è¯´çœ‹å¤šäº†æœ‰äº†ç—´å¦„ï¼Œæˆ‘å¹¶ä¸è§‰å¾—çœ‹å°è¯´æœ‰ä»€ä¹ˆä¸å¥½ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå®ƒå¼¥è¡¥äº†æˆ‘è¿™ä¸€ä»£äººçš„æƒ³è±¡åŠ›ç¼ºå¤±ï¼Œå“ªæ€•åªæ˜¯åˆ«äººçš„æƒ³è±¡åŠ›ï¼Œå¤šå¤šå°‘å°‘ä¹Ÿèƒ½å¸æ”¶ä¸€äº›ã€‚</p><p>ç”Ÿæ´»çœŸçš„æ˜¯ä¸€ä¸ªå¾ˆæ— å¥ˆçš„äº‹æƒ…ï¼Œæˆ‘çœŸçš„æ˜¯ä¸€åº§å­¤å²›å—ï¼Œæœ‰æ²¡æœ‰æ°´ï¼Œæœ‰æ²¡æœ‰æ²³æµï¼Œæˆ–è€…æ¹–æ³Šæ±Ÿæµ·æ¥æŠŠæˆ‘æ·¹æ²¡ï¼Œæœ‰æ²¡æœ‰å’Œæˆ‘ä¸€æ ·çš„å­¤å²›åœ¨æˆ‘å‘¨å›´ï¼Œå­¤ç‹¬çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Œæ°´èƒ½å¡«æ»¡æˆ‘ä»¬ä¹‹é—´çš„è·ç¦»å—ï¼Œæˆ‘ä»¬çœŸçš„åœ¨äº¤æµï¼Œè¿˜æ˜¯åœ¨å„è‡ªæ‰¯æ·¡ï¼Œè§‚ä¸€ç‰‡è½å¶å°±èƒ½çŸ¥ç§‹å—ï¼Ÿ ä¸€åº§ä¸€åº§å°å²›éƒ½å¼€å§‹ä»åœ°åº•æ‹”å‡ºï¼Œæ„ˆæ¥æ„ˆé«˜ï¼Œä¼¸å‡ºæ°´é¢ï¼Œä»¥ç¤çŸ³æŠµæŒ¡å››å‘¨çš„æ°´ã€‚</p><p>é»‘å¤œæ˜¯ä¸Šå¸çš„å…‰è¾‰é—æ¼çš„åœ°æ–¹ï¼Œé‚£é‡Œæ˜¯å¥‡æ€å¦™æƒ³çš„å‘æºåœ°ï¼Œå¤œé‡Œæ‰æœ‰çµæ„Ÿè¿¸å‘ï¼Œé‚£æ ·çš„å®‰é™ï¼Œå¶æœ‰ä¸€ç‚¹æ±½è½¦è¡Œé©¶çš„å£°å“ï¼Œå‡ æŸ±è·¯ç¯æ˜é»„çš„å…‰æ™•å¹³å°„åœ¨åœ°é¢ï¼Œè¿™ç§é™ï¼Œå‘è‡ªå†…å¿ƒï¼Œå‘è‡ªçµé­‚ï¼Œæ€ç»´çš„æµæ·Œæ²¡æœ‰ä¸€ç‚¹ç‚¹é˜»ç¢ï¼Œè¿™æ˜¯æˆ‘æœ€å–œæ¬¢çš„æ—¶å€™ã€‚</p><p>æˆ‘ä¸çŸ¥é“è¿™æ ·å¥½ä¸å¥½ï¼Œä½†æˆ‘çš„ç¡®æ˜¯è¢«å½±å“åˆ°äº†ï¼Œåˆšç«–ç«‹çš„åšå®šåˆæœ‰åŠ¨æ‘‡ï¼Œæˆ–è®¸æˆ‘åº”è¯¥æœ‰æœ€å¤§çš„ä¿¡å¿ƒå’Œæœ€è‡ªç„¶çš„å¿ƒæ€ï¼Œæ€¡ç„¶ä¸æƒ§ä¸€åˆ‡ï¼Œå¼ºå¤§çš„å†…å¿ƒå°±æ˜¯å¼ºå¤§çš„å®åŠ›ï¼Œå°±æ˜¯å­¤å²›ä¹Ÿç½¢ï¼Œåšç¡¬æŠµæŠ—ä¸€åˆ‡ä¾µèš€ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; è¿™ä¸€å¤©ï¼Œæˆ‘18å²äº†ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="fragment" scheme="https://foreti.me/blog/tags/fragment/"/>
    
  </entry>
  
</feed>
